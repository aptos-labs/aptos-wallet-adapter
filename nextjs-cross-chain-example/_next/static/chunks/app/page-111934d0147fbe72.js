(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{36947:function(e,t,a){Promise.resolve().then(a.bind(a,6040))},6040:function(e,t,a){"use strict";let n,s;a.r(t),a.d(t,{default:function(){return tP}});var r,i,o=a(17681),l=a(35959),c=a(57714),d=a(81457),u=a(58330),h=a(89298),m=a(46312),x=a(50987);let g=(0,m.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),f=l.forwardRef((e,t)=>{let{className:a,variant:n,size:s,asChild:r=!1,...i}=e,l=r?h.g7:"button";return(0,o.jsx)(l,{className:(0,x.cn)(g({variant:n,size:s,className:a})),ref:t,...i})});f.displayName="Button";var p=a(14580),N=a(2762),j=a(63342),w=a(89800);let v=p.fC,y=p.xz;p.ZA,p.Uv,p.Tr,p.Ee,l.forwardRef((e,t)=>{let{className:a,inset:n,children:s,...r}=e;return(0,o.jsxs)(p.fF,{ref:t,className:(0,x.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",n&&"pl-8",a),...r,children:[s,(0,o.jsx)(N.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=p.fF.displayName,l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,o.jsx)(p.tu,{ref:t,className:(0,x.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})}).displayName=p.tu.displayName;let M=l.forwardRef((e,t)=>{let{className:a,sideOffset:n=4,...s}=e;return(0,o.jsx)(p.Uv,{children:(0,o.jsx)(p.VY,{ref:t,sideOffset:n,className:(0,x.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...s})})});M.displayName=p.VY.displayName;let A=l.forwardRef((e,t)=>{let{className:a,inset:n,...s}=e;return(0,o.jsx)(p.ck,{ref:t,className:(0,x.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n&&"pl-8",a),...s})});function C(){let{setTheme:e}=(0,u.F)();return(0,o.jsxs)(v,{children:[(0,o.jsx)(y,{asChild:!0,children:(0,o.jsxs)(f,{variant:"outline",size:"icon",className:"shrink-0",children:[(0,o.jsx)(c.Z,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,o.jsx)(d.Z,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,o.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,o.jsxs)(M,{align:"end",children:[(0,o.jsx)(A,{onClick:()=>e("light"),children:"Light"}),(0,o.jsx)(A,{onClick:()=>e("dark"),children:"Dark"}),(0,o.jsx)(A,{onClick:()=>e("system"),children:"System"})]})]})}A.displayName=p.ck.displayName,l.forwardRef((e,t)=>{let{className:a,children:n,checked:s,...r}=e;return(0,o.jsxs)(p.oC,{ref:t,className:(0,x.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:s,...r,children:[(0,o.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,o.jsx)(p.wU,{children:(0,o.jsx)(j.Z,{className:"h-4 w-4"})})}),n]})}).displayName=p.oC.displayName,l.forwardRef((e,t)=>{let{className:a,children:n,...s}=e;return(0,o.jsxs)(p.Rk,{ref:t,className:(0,x.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...s,children:[(0,o.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,o.jsx)(p.wU,{children:(0,o.jsx)(w.Z,{className:"h-2 w-2 fill-current"})})}),n]})}).displayName=p.Rk.displayName,l.forwardRef((e,t)=>{let{className:a,inset:n,...s}=e;return(0,o.jsx)(p.__,{ref:t,className:(0,x.cn)("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",a),...s})}).displayName=p.__.displayName,l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,o.jsx)(p.Z0,{ref:t,className:(0,x.cn)("-mx-1 my-1 h-px bg-muted",a),...n})}).displayName=p.Z0.displayName;var S=a(15934),T=a(38172);function b(e){let{accountAddress:t,network:a}=e;return(0,T.C)({queryKey:["networks",a,"accounts",t.toString(),"aptBalance"],queryFn:async()=>new S.gZG(new S.ScN({network:a})).getAccountCoinAmount({accountAddress:t,coinType:"0x1::aptos_coin::AptosCoin"}),gcTime:6e4,staleTime:5e3})}var I=a(59589);let E=e=>{if((null==e?void 0:e.name)===S.ZcK.DEVNET)return L;if((null==e?void 0:e.name)===S.ZcK.TESTNET)return z;if((null==e?void 0:e.name)===S.ZcK.MAINNET)throw Error("Please use devnet or testnet for testing");{let t=new S.ScN({network:S.ZcK.CUSTOM,fullnode:null==e?void 0:e.url});return new S.gZG(t)}},k=new S.ScN({network:S.ZcK.DEVNET}),L=new S.gZG(k),D=new S.ScN({network:S.ZcK.TESTNET}),z=new S.gZG(D),P=(e,t)=>e&&!O(e,t),O=(e,t)=>e&&t===S.ZcK.MAINNET;var U=a(37647);let Z=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,o.jsx)("div",{ref:t,className:(0,x.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...n})});Z.displayName="Card";let R=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,o.jsx)("div",{ref:t,className:(0,x.cn)("flex flex-col space-y-1.5 p-6",a),...n})});R.displayName="CardHeader";let Q=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,o.jsx)("h3",{ref:t,className:(0,x.cn)("text-2xl font-semibold leading-none tracking-tight",a),...n})});Q.displayName="CardTitle";let W=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,o.jsx)("p",{ref:t,className:(0,x.cn)("text-sm text-muted-foreground",a),...n})});W.displayName="CardDescription";let B=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,o.jsx)("div",{ref:t,className:(0,x.cn)("p-6 pt-0",a),...n})});B.displayName="CardContent",l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,o.jsx)("div",{ref:t,className:(0,x.cn)("flex items-center p-6 pt-0",a),...n})}).displayName="CardFooter";var F=a(73698),_=a(63084);function K(e){let{hash:t,network:a}=e;if((0,_.Tt)(a)){let e="https://explorer.aptoslabs.com/txn/".concat(t).concat((null==a?void 0:a.name)?"?network=".concat(a.name):"");return(0,o.jsxs)(o.Fragment,{children:["View on Explorer:"," ",(0,o.jsx)("a",{href:e,target:"_blank",rel:"noreferrer",className:"text-blue-600 dark:text-blue-300",children:e})]})}return(0,o.jsxs)(o.Fragment,{children:["Transaction Hash: ",t]})}var G=a(32608);function H(){return crypto.randomUUID().replaceAll("-","")}function Y(){let{toast:e}=(0,F.pm)(),{connected:t,account:a,network:n,signMessageAndVerify:s,signMessage:r,signTransaction:i}=(0,I.Os)(),l=P(t,null==n?void 0:n.name),c=async()=>{if(a)try{let t={message:"Hello from Aptos Wallet Adapter",nonce:H()},a=await s(t);console.log("sign message and verify response",a),e({title:"Success",description:JSON.stringify({onSignMessageAndVerify:a})})}catch(t){console.error(t),e({title:"Error",description:"".concat(t)})}},d=async()=>{if(a)try{let t={message:"Hello from Aptos Wallet Adapter",nonce:H()},a=await r(t);console.log("sign message response",a),e({title:"Success",description:JSON.stringify({onSignMessage:a})})}catch(t){console.error(t),e({title:"Error",description:"".concat(t)})}},u=async()=>{try{if(!a)return;let t={data:{function:"0x1::aptos_account::transfer",functionArguments:[a.address.toString(),1]},withFeePayer:!0},n=await i({transactionOrPayload:t});console.log("sign transaction response",n),e({title:"Success",description:JSON.stringify(n)})}catch(t){console.error(t),e({title:"Error",description:"".concat(t)})}},h=(0,U.a)({enabled:void 0!==a&&void 0!==n,...b({accountAddress:a.address,network:n.name})});h.isSuccess&&h.data;let m=async()=>{if(a)try{let t;let s=G.env.NEXT_PUBLIC_SWAP_CCTP_SPONSOR_ACCOUNT_PRIVATE_KEY,r=await E(n).transaction.build.simple({data:{function:"0x1::aptos_account::transfer",functionArguments:[a.address.toString(),717]},options:{maxGasAmount:2e3},sender:a.address,withFeePayer:void 0!==s}),l=await i({transactionOrPayload:r});if(s){let e=new S.qN7(S._q4.formatPrivateKey(s,S.wP3.Ed25519)),a=S.mRj.fromPrivateKey({privateKey:e});t=E(n).transaction.signAsFeePayer({signer:a,transaction:r})}let c=await E(n).transaction.submit.simple({transaction:r,senderAuthenticator:l.authenticator,feePayerAuthenticator:t});await E(n).waitForTransaction({transactionHash:c.hash}),e({title:"Success",description:(0,o.jsx)(K,{hash:c.hash,network:n})}),h.refetch()}catch(t){console.log("Error signing and submitting transaction: ".concat(t)),e({title:"Error",description:"".concat(t)})}};return(0,o.jsxs)(Z,{children:[(0,o.jsx)(R,{children:(0,o.jsx)(Q,{children:"Actions"})}),(0,o.jsxs)(B,{className:"flex flex-wrap gap-4",children:[(0,o.jsx)(f,{onClick:u,disabled:!l,children:"Sign transaction"}),(0,o.jsx)(f,{onClick:d,disabled:!l,children:"Sign message"}),(0,o.jsx)(f,{onClick:c,disabled:!l,children:"Sign message and verify"}),(0,o.jsx)(f,{onClick:m,disabled:!l,children:"Sign and submit transaction"})]})]})}let V=(0,m.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",warning:"border-amber-600/50 text-amber-600 dark:text-amber-300 dark:border-amber-300 [&>svg]:text-amber-600 dark:[&>svg]:text-amber-300"}},defaultVariants:{variant:"default"}}),J=l.forwardRef((e,t)=>{let{className:a,variant:n,...s}=e;return(0,o.jsx)("div",{ref:t,role:"alert",className:(0,x.cn)(V({variant:n}),a),...s})});J.displayName="Alert";let q=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,o.jsx)("h5",{ref:t,className:(0,x.cn)("mb-1 font-medium leading-none tracking-tight",a),...n})});q.displayName="AlertTitle";let X=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,o.jsx)("div",{ref:t,className:(0,x.cn)("text-sm [&_p]:leading-relaxed",a),...n})});X.displayName="AlertDescription";var $=a(93889);class ee{constructor(e){this.address=e.accountAddress.toString(),this.publicKey=e.publicKey.toUint8Array(),this.chains=$.xE,this.features=["aptos:connect"],this.signingScheme=S.E62.Ed25519}}class et{get features(){return{"aptos:connect":{version:"1.0.0",connect:this.connect},"aptos:network":{version:"1.0.0",network:this.network},"aptos:disconnect":{version:"1.0.0",disconnect:this.disconnect},"aptos:signTransaction":{version:"1.0.0",signTransaction:this.signTransaction},"aptos:signMessage":{version:"1.0.0",signMessage:this.signMessage},"aptos:onAccountChange":{version:"1.0.0",onAccountChange:this.onAccountChange},"aptos:onNetworkChange":{version:"1.0.0",onNetworkChange:this.onNetworkChange},"aptos:account":{version:"1.0.0",account:this.account}}}constructor(){this.url="https://aptos.dev",this.version="1.0.0",this.name="Example Wallet",this.icon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAWbSURBVHgB7Z09c9NYFIaPlFSpUqQNK6rQhbSkWJghLZP9BesxfwAqytg1xe7+AY+3go5ACzObBkpwSqrVQkuRCiqkva8UZW1je22wpHPveZ8ZRU6wwwznueee+6FLJCuSdzrb7nZTNjaOJc9/ctdNiaJESPPkeeq+phLH5/L162k0HJ7JikTLvtEFPnFBf+D+0l/dt9tCNJK6xnjmZOg7GdJlPvC/AhQtPo5P3MsHQvwhiobLiLBQABf82y74z4Qt3ldSybKHToLTeW+I5/1B3u2euOD/JQy+zyRowEUs5zAzA1x+oCckJHrRYNCf/uE3AjD4QfONBBMC5PfvY2j3TEi4ZNmd8eHilQDFMK/s8xMhIXPhJLjuJLjAN/8VgRsbPWHwLbAtm5tXRWGRAS5b/99C7FBmgbTMAGXrJ5aIomJir8wA3S5afyLEEkUtEBezfQy+RYpFvdilgmMhNnGxRw2wL8QqScy1fMNE0T4yQCLEKkksxDQUwDj2BNjbK69pdndn/zxwNsUCCOyNGyJ374psbYkMBiLv30++59o1kW5X5NMnkdFI5OXL8nXghCsAAn10NL/Fz2NnpxQFFyR5/bq8BypDWAIg6AcHIoeH60nn4/K8e1deECIgwhAAQULQEXxIUAf43bju3ZvMDJ7jrwDT/XpToIvABeECqBf8EuB7+/W6CKBe0C/Auvv1uvC0XtArQBP9el14VC/oEqCtfr0uPKgX2hdAW79eF0rrhfYFQPCRKi1RyY4ZyZYF4GKQcSiAcSiAcSiAcSiAcSiAcSiAcSiAcSiAcSiAcSiAcSiAcSiAcShAm3z+LG1DAdqEAhjn40dpGwrQFtgIwgxgGAWtH1CAtsC2cQVQgLZQsk2cArSBoqeHKEAbKHpiiAI0DVq+kv4fUICmQetXMPyroABNgtb/5o1oggI0icJzBChAUyDwr16JNihAUzx+LBqhAE3w5InaU0MoQN08f64y9VdQgDrBkO/FC9EMBagLBB/P/yvHxlGxTYPh3tOn4gMUYN2g4FPc509DAdYFqvxZh1ArhwKsg6rSVzTHvywU4EeoqnyPTxKnAKuCVo4iD4s6ARwhTwGWoTrk8e3bIE4IH4cCVCDI1U6dL1/K73Eh4B727ctCASoQ6MBa9zJwJtA4FMA4FMA4FMA4FMA4FMA4FMA4FMA47Qtg4P/n1Uz7AgQ8zeoD7Qug5KQMq+joApgFWkNHEWhwEUYLFMA4OgRQdGCCNXQIUG28II2jZyKIWaAV9Aig7OgUK+gRAMH36ImaUNC1FoDt1swCjaJLAAQfT9mQxtC3GohugCOCxtC5HIyHLNkVNIJOATAv4Mnz9b6jd0MIhoWsB2pH944gPHmLkQGpDf1bwtAVUILa8GNPICRgd1AL/mwKRXfA0cHa8WtXMArDfp8bSdeIf9vCEfxHj8psQBF+GH/PB0A2wIzhrVsih4ciOztCVsfvAyKQAVAbYPr44EDk6Ehkd1fI8oRxQggKQ2QEXMgEe3ulELhvbQmZT3hHxFRn+1Tn/UAAZAWIUXUTHz4IKQn/jCBkB6Pn/ywDHw41DgUwDgRIhVgljSWKzoXYJM+dAFmWCrHKeewsOBViExd71AAjd10IsUYaDYdnsfty4Uz4U4g1zvClHAbm+e9CbJFlfdwKAVwWSJ0EfwixwrCIuYxPBOV5T1gLWCCtWj+4EqCoBbLsFyFhk2UPq9YPJqaCURW6W19IqPRdjCeG/dGsd+Xdbs/dToSERD8aDHrTP4zmvZsSBMXM4INo0afyTudY4vg39zIR4iNFXXfZtc9k4XJw0V9k2R1OFHkIhvVZdn1R8MHCDDDx+zqdxK0c9tz1szAjaKWc1XUTe+OV/iKWFmAcJ8NtJ8Kxe7kvkCGKEiHN45Zz3b/9yN3/uVzUGxXD+RX4F56985hsqA6SAAAAAElFTkSuQmCC",this.chains=$.xE,this.accounts=[],this.account=async()=>Promise.resolve(new $.wP({address:this.signer.accountAddress,publicKey:this.signer.publicKey})),this.connect=async()=>{try{await this.aptos.fundAccount({accountAddress:this.signer.accountAddress,amount:1e12,options:{waitForIndexer:!1}});let e=new $.wP({address:this.signer.accountAddress,publicKey:this.signer.publicKey});return{status:$.qk.APPROVED,args:e}}catch(e){throw Error("error connecting to wallet ".concat(e))}},this.network=async()=>{let e=await this.aptos.getLedgerInfo();return{name:S.ZcK.DEVNET,chainId:e.chain_id,url:"https://fullnode.devnet.aptoslabs.com/v1"}},this.disconnect=async()=>Promise.resolve(),this.signTransaction=async(e,t)=>{if(t){let t=this.aptos.transaction.signAsFeePayer({signer:this.signer,transaction:e});return Promise.resolve({status:$.qk.APPROVED,args:t})}let a=this.aptos.transaction.sign({signer:this.signer,transaction:e});return Promise.resolve({status:$.qk.APPROVED,args:a})},this.signMessage=async e=>{var t;let a="Aptos\n    demoAdapter\n    ".concat(this.signer.accountAddress.toString(),"\n    ").concat(e.nonce,"\n    ").concat(null!==(t=e.chainId)&&void 0!==t?t:(await this.network()).chainId,"\n    ").concat(e.message),n=new TextEncoder().encode(a),s=this.signer.sign(n);return Promise.resolve({status:$.qk.APPROVED,args:{address:this.signer.accountAddress.toString(),fullMessage:a,message:e.message,nonce:e.nonce,prefix:"APTOS",signature:s}})},this.onAccountChange=async()=>Promise.resolve(),this.onNetworkChange=async()=>Promise.resolve(),this.signer=S.mRj.generate();let e=new S.ScN({network:S.ZcK.DEVNET});this.aptos=new S.gZG(e),this.accounts=[new ee(this.signer)]}}var ea=a(70451),en=a(32750),es=a(59654);function er(e){let{account:t,network:a}=e,n=(0,U.a)({...b({accountAddress:t.address,network:a.name}),refetchInterval:1e4}),{mutateAsync:s,isPending:r}=(0,es.D)({mutationFn:async()=>{let e=new S.gZG(new S.ScN({network:a.name}));await e.fundAccount({accountAddress:t.address,amount:1e7})},onSuccess:()=>{n.refetch()}}),i=(0,l.useMemo)(()=>{if("pending"===n.status)return(0,o.jsx)("span",{children:"Fetching..."});if("error"===n.status)return(0,o.jsx)("span",{children:"Error"});let e=(1e-8*n.data).toFixed(4);return(0,o.jsxs)("span",{children:[e," APT"]})},[n.status,n.data]);return(0,o.jsxs)(Z,{children:[(0,o.jsx)(R,{children:(0,o.jsx)(Q,{children:"Account balance"})}),(0,o.jsx)(B,{children:(0,o.jsxs)("div",{className:"flex flex-row items-center justify-between w-full",children:[i,(0,o.jsx)(f,{onClick:()=>s(),disabled:a.name!==S.ZcK.DEVNET||r,children:"Fund account"})]})})]})}let ei=l.forwardRef((e,t)=>{let{className:a,type:n,...s}=e;return(0,o.jsx)("input",{type:n,className:(0,x.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...s})});ei.displayName="Input";var eo=a(99894),el=a(16333),ec=a(21543),ed=a(29565),eu=a(92619),eh=a(86376),em=a(40454),ex=a(59358),eg=a(33585),ef=a(2375),ep=a(2718),eN=a(80722),ej=a(14769),ew=a(21179),ev=a(39001),ey=a(49899),eM=a(55340),eA=a(57711),eC={log:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a]}},eS=class{chain(){return this._chain}address(){return this._wallet.accountAddress.toString()}claimedTransactionHashes(){return this._claimedTransactionHashes}async signAndSend(e){let t=[];for(let a of e){let e=await eT(a,this._wallet,this._sponsorAccount);t.push(e),this._claimedTransactionHashes=e}return t}constructor(e,t,a,n){this._chain=e,this._options=t,this._wallet=a,this._sponsorAccount=n,this._claimedTransactionHashes=""}};async function eT(e,t,a){if(!t)throw Error("Wallet is undefined");let n=e.transaction;n.functionArguments=n.functionArguments.map(e=>e instanceof Uint8Array?Array.from(e):"bigint"==typeof e?e.toString():e);let s=new S.ScN({network:S.ZcK.TESTNET}),r=new S.gZG(s),i=await r.transaction.build.simple({data:n,sender:t.accountAddress.toString(),withFeePayer:!!a}),o=await r.transaction.sign({signer:t,transaction:i}),l={transaction:i,senderAuthenticator:o};if(a){if("string"==typeof a);else{let e=r.transaction.signAsFeePayer({signer:a,transaction:i});l.feePayerAuthenticator=e}}let c=await r.transaction.submit.simple(l);return(await r.waitForTransaction({transactionHash:c.hash})).hash}async function eb(e,t,a,n){var s,r,i,o;if(!t||!(t instanceof ej.o4))throw Error("Invalid wallet type or missing Solana wallet").message;let l=null!==(i=null==a?void 0:a.commitment)&&void 0!==i?i:"finalized",c=new ep.Connection(null!==(o=null==n?void 0:null===(r=n._dappConfig)||void 0===r?void 0:null===(s=r.solanaConfig)||void 0===s?void 0:s.rpc)&&void 0!==o?o:"https://api.devnet.solana.com"),{blockhash:d,lastValidBlockHeight:u}=await c.getLatestBlockhash(l);e.transaction.transaction;let h=await eI(c,d,u,e,n),m=null,x=null,g=1,f="";if(!t.solanaWallet.signTransaction)throw Error("Wallet does not support signing transactions").message;let p=await t.solanaWallet.signTransaction(h);if(!p)throw Error("Failed to sign transaction").message;let N=p.serialize(),j={skipPreflight:!0,maxRetries:0,preFlightCommitment:l};for(f=await c.sendRawTransaction(N,j),m=c.confirmTransaction({signature:f,blockhash:d,lastValidBlockHeight:u},l);!x&&!(x=await Promise.race([m,new Promise(e=>setTimeout(()=>{e(null)},5e3))]));){console.log("Tx not confirmed after ".concat(5e3*g++,"ms, resending"));try{await c.sendRawTransaction(N,j)}catch(e){console.error("Failed to resend transaction:",e)}}if(x.value.err){let e="Transaction failed: ".concat(x.value.err);if("object"==typeof x.value.err)try{e="Transaction failed: ".concat(JSON.stringify(x.value.err,(e,t)=>"bigint"==typeof t?t.toString():t))}catch(t){e="Transaction failed: Unknown error"}throw Error("Transaction failed: ".concat(e)).message}return f}async function eI(e,t,a,n,s){let r=n.transaction.transaction;return r.recentBlockhash=t,r.lastValidBlockHeight=a,r.instructions=r.instructions.filter(e=>"ComputeBudget111111111111111111111111111111"!==e.programId.toString()),r.add(...await eE(e,r,s)),n.transaction.signers&&r.partialSign(...n.transaction.signers),r}async function eE(e,t,a){var n,s,r;let i=2e5,o=0;for(;;){let a=await e.simulateTransaction(t);if(a.value.err){if(function(e){let t={};if("BlockhashNotFound"===e.err&&(t.BlockhashNotFound="Blockhash not found during simulation. Trying again."),e.logs)for(let a of e.logs)a.includes("SlippageToleranceExceeded")&&(t.SlippageToleranceExceeded="Slippage failure during simulation. Trying again."),a.includes("RequireGteViolated")&&(t.RequireGteViolated="Swap instruction failure during simulation. Trying again.");return!eL(t)&&(console.table(t),!0)}(a.value)){if(o<5){o++,await ek(1e3);continue}}else if(o<3){o++,await ek(1e3);continue}throw Error("Simulation failed: ".concat(JSON.stringify(a.value.err),"\nLogs:\n").concat((a.value.logs||[]).join("\n  "))).message}a.value.unitsConsumed&&(i=a.value.unitsConsumed);break}let l=Math.floor(1.2*i),c=[];c.push(ep.ComputeBudgetProgram.setComputeUnitLimit({units:l}));let{percentile:d=.9,percentileMultiple:u=1,min:h=1e5,max:m=1e8}=null!==(r=null==a?void 0:null===(s=a._dappConfig)||void 0===s?void 0:null===(n=s.solanaConfig)||void 0===n?void 0:n.priorityFeeConfig)&&void 0!==r?r:{},x=async a=>{if("triton"===a)try{return{fee:await (0,eN.VE)(e,t,d,u,h,m),methodUsed:"triton"}}catch(e){console.warn("Failed to determine priority fee using Triton RPC:",e)}try{return{fee:await (0,eN.J6)(e,t,d,u,h,m),methodUsed:"default"}}catch(e){return console.warn("Failed to determine priority fee using Triton RPC:",e),{fee:h,methodUsed:"minimum"}}},g=function(e){try{let t=new URL(e).hostname;if("rpcpool.com"===t)return"triton";if("helius-rpc.com"===t)return"helius";if("rpc.ankr.com"===t)return"ankr";return"unknown"}catch(e){return"unknown"}}(e.rpcEndpoint),{fee:f,methodUsed:p}=await x(g),N=f/1e6/ep.LAMPORTS_PER_SOL*l;return console.table({"RPC Provider":g,"Method used":p,"Percentile used":d,"Multiple used":u,"Compute budget":l,"Priority fee":f,"Max fee in SOL":N}),c.push(ep.ComputeBudgetProgram.setComputeUnitPrice({microLamports:f})),c}async function ek(e){return new Promise(t=>setTimeout(t,e))}var eL=e=>{if(null==e)return!0;for(let t in e)if(e.hasOwnProperty.call(e,t))return!1;return!0};async function eD(e,t,a,n){if(!t)throw Error("wallet.sendTransaction is undefined").message;let s=parseInt(await t.eip1193Provider.request({method:"eth_chainId"}),16);if(!s)throw Error("No signer found for chain"+a).message;let r=e.transaction.chainId?(0,ew.yT)(e.transaction.chainId):void 0;if(!s||!r||BigInt(s)!==r)throw Error("Signer is not connected to the right chain. Expected ".concat(r,", got ").concat(s)).message;let i=new ev.Q(t.eip1193Provider),o=await i.getSigner(),l=await o.sendTransaction(e.transaction),c=await l.wait();return(null==c?void 0:c.hash)||""}var ez=class{chain(){return this._chain.displayName}address(){return this._address}async signAndSend(e){let t=[];for(let a of e){let e=await eP(this._chain,a,this._wallet,this._options,this._crossChainCore);t.push(e)}return t}constructor(e,t,a,n,s){this._chain=e,this._address=t,this._options=a,this._wallet=n,this._crossChainCore=s}},eP=async function(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(!a)throw Error("wallet is undefined");if("Solana"===e.context)return await eb(t,a,n,s);if("Ethereum"===e.context)return await eD(t,a,e.displayName,n);throw Error("Unsupported chain: ".concat(e))},eO=class{get wormholeContext(){return this._wormholeContext}async setWormholeContext(e){var t;let a=null===(t=this.crossChainCore._dappConfig)||void 0===t?void 0:t.aptosNetwork;if(a===S.ZcK.DEVNET)throw Error("Devnet is not supported on Wormhole");if(!e)throw Error("Origin chain not selected");let n=a===S.ZcK.MAINNET,s=[ex.Z,eg.Z,ef.Z],r=await (0,eo.c77)(n?"Mainnet":"Testnet",s);this._wormholeContext=r}async getRoute(e){if(!this._wormholeContext)throw Error("Wormhole context not initialized");let{sourceToken:t,destToken:a}=this.getTokenInfo(e),n=this._wormholeContext.getPlatform((0,el.fm)(e)).getChain(e);eC.log("sourceContext",n);let s=this._wormholeContext.getPlatform((0,el.fm)("Aptos")).getChain("Aptos");eC.log("destContext",s);let r=await ec.f.create(this._wormholeContext,{source:t,destination:a},n,s),i=this._wormholeContext.resolver([ed.R]),o=(await i.findRoutes(r))[0];return this.wormholeRoute=o,this.wormholeRequest=r,{route:o,request:r}}async getQuote(e){let{amount:t,sourceChain:a}=e;this._wormholeContext||await this.setWormholeContext(a);let{route:n,request:s}=await this.getRoute(a),r=await n.validate(s,{amount:t,options:{nativeGas:0}});if(!r.valid)throw eC.log("invalid",r.valid),Error("Invalid quote: ".concat(r.error)).message;let i=await n.quote(s,r.params);if(!i.success)throw eC.log("quote failed",i.success),Error("Invalid quote: ".concat(i.error)).message;return this.wormholeQuote=i,eC.log("quote",i),i}async submitCCTPTransfer(e){let t;let{sourceChain:a,wallet:n,destinationAddress:s}=e;if(this._wormholeContext||await this.setWormholeContext(a),!this.wormholeRoute||!this.wormholeRequest||!this.wormholeQuote)throw Error("Wormhole route, request, or quote not initialized");if("Solana"===this.getChainConfig(a).context){var r;t=(null===(r=n.solanaWallet.publicKey)||void 0===r?void 0:r.toBase58())||""}else[t]=await n.eip1193Provider.request({method:"eth_requestAccounts"});eC.log("signerAddress",t);let i=new ez(this.getChainConfig(a),t,{},n),o=await this.wormholeRoute.initiate(this.wormholeRequest,i,this.wormholeQuote,eu.D.chainAddress("Aptos",s.toString()));return{originChainTxnId:("originTxs"in o?o.originTxs[o.originTxs.length-1].txid:void 0)||"",receipt:o}}async claimCCTPTransfer(e){let{receipt:t,mainSigner:a,sponsorAccount:n}=e;if(!this.wormholeRoute)throw Error("Wormhole route not initialized");eC.log("mainSigner",a.accountAddress.toString());let s=0;for(;s<5;)try{for await(t of this.wormholeRoute.track(t,12e4))if(t.state>=eh.ki.SourceInitiated){eC.log("Receipt is on track ",t);try{let e=new eS("Aptos",{},a,n||void 0);if(!em.x7(this.wormholeRoute))return{destinationChainTxnId:""};{let a=await this.wormholeRoute.complete(e,t);return eC.log("Claim receipt: ",a),{destinationChainTxnId:e.claimedTransactionHashes()}}}catch(e){return console.error("Failed to claim",e),{destinationChainTxnId:""}}}}catch(t){console.error("Error tracking transfer (attempt ".concat(s+1," / ").concat(5,"):"),t);let e=1e3*Math.pow(2,s);await (0,S._vH)(e),s++}return{destinationChainTxnId:""}}async initiateCCTPTransfer(e){var t;if((null===(t=this.crossChainCore._dappConfig)||void 0===t?void 0:t.aptosNetwork)===S.ZcK.DEVNET)throw Error("Devnet is not supported on Wormhole");e.amount&&await this.getQuote({amount:e.amount,sourceChain:e.sourceChain});let{originChainTxnId:a,receipt:n}=await this.submitCCTPTransfer(e),{destinationChainTxnId:s}=await this.claimCCTPTransfer({receipt:n,mainSigner:e.mainSigner,sponsorAccount:e.sponsorAccount});return{originChainTxnId:a,destinationChainTxnId:s}}getChainConfig(e){let t=this.crossChainCore.CHAINS[e];if(!t)throw Error("Chain config not found for chain: ".concat(e));return t}getTokenInfo(e){return{sourceToken:eu.D.tokenId(this.crossChainCore.TOKENS[e].tokenId.chain,this.crossChainCore.TOKENS[e].tokenId.address),destToken:eu.D.tokenId(this.crossChainCore.APTOS_TOKEN.tokenId.chain,this.crossChainCore.APTOS_TOKEN.tokenId.address)}}constructor(e){this.crossChainCore=e}},eU=((r=eU||{}).ETH="Ethereum",r.SOLANA="Solana",r.APTOS="Aptos",r),eZ={Sepolia:{key:"Sepolia",id:10002,context:"Ethereum",finalityThreshold:0,displayName:"Sepolia",explorerUrl:"https://sepolia.etherscan.io/",explorerName:"Etherscan",gasToken:"ETHsepolia",chainId:11155111,icon:"Ethereum",maxBlockSearch:2e3,symbol:"ETH",defaultRpc:"https://eth-sepolia.public.blastapi.io",wrappedGasToken:"0xeef12A83EE5b7161D3873317c8E0E7B76e0B5D9c"},Solana:{key:"Solana",id:1,context:"Solana",finalityThreshold:32,displayName:"Solana",explorerUrl:"https://explorer.solana.com/",explorerName:"Solana Explorer",gasToken:"SOL",chainId:0,icon:"Solana",maxBlockSearch:2e3,symbol:"SOL",defaultRpc:"https://api.devnet.solana.com",wrappedGasToken:"So11111111111111111111111111111111111111112"}},eR={Sepolia:{symbol:"USDC",icon:"USDC",decimals:6,tokenId:{chain:"Sepolia",address:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238"}},Solana:{symbol:"USDC",tokenId:{chain:"Solana",address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"},icon:"USDC",decimals:6}},eQ={symbol:"USDC",decimals:6,tokenId:{chain:"Aptos",address:"0x69091fbab5f7d635ee7ac5098cf0c1efbe31d68fec0f2cd565e8d168daf52832"},icon:"USDC"},eW={Ethereum:{key:"Ethereum",id:2,context:"Ethereum",finalityThreshold:64,displayName:"Ethereum",explorerUrl:"https://etherscan.io/",explorerName:"Etherscan",gasToken:"ETH",chainId:1,icon:"Ethereum",maxBlockSearch:2e3,symbol:"ETH",defaultRpc:"https://rpc.ankr.com/eth"},Solana:{key:"Solana",id:1,context:"Solana",finalityThreshold:32,displayName:"Solana",explorerUrl:"https://explorer.solana.com/",explorerName:"Solana Explorer",gasToken:"SOL",chainId:0,icon:"Solana",maxBlockSearch:2e3,symbol:"SOL",defaultRpc:"https://solana-mainnet.rpc.extrnode.com"}},eB={Ethereum:{symbol:"USDC",tokenId:{chain:"Ethereum",address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},icon:"USDC",decimals:6},Solana:{symbol:"USDC",tokenId:{chain:"Solana",address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},icon:"USDC",decimals:6}},eF={symbol:"USDC",tokenId:{chain:"Aptos",address:"0xbae207659db88bea0cbead6da0ed00aac12edcdda169e591cd41c94180b46f3b"},icon:"USDC",decimals:6},e_=async(e,t,a)=>{var n;let s=new ep.PublicKey(e),r=t===S.ZcK.MAINNET?eB.Solana.tokenId.address:eR.Solana.tokenId.address,i=new ep.Connection(a),o=await i.getTokenAccountsByOwner(s,{mint:new ep.PublicKey(r)}),l=o.value.length>0?o.value[0].pubkey:s,c=await i.getTokenAccountBalance(l);return null!==(n=c.value.uiAmountString)&&void 0!==n?n:(Number(c.value.amount)/10**c.value.decimals).toString()},eK=async(e,t,a)=>{let n=t===S.ZcK.MAINNET?eB.Ethereum:eR.Sepolia,s=n.tokenId.address,r=new ey.r6(a),i=new eM.CH(s,["function balanceOf(address owner) view returns (uint256)"],r),o=await i.balanceOf(e);return eA.bM(o,n.decimals).toString()},eG=async(e,t)=>{let a=t===S.ZcK.MAINNET?eF:eQ,n=a.tokenId.address,s=new S.ScN({network:t}),r=new S.gZG(s);return(Number((await r.getCurrentFungibleAssetBalances({options:{where:{owner_address:{_eq:e},asset_type:{_eq:n}}}}))[0].amount)/10**a.decimals).toString()},eH=class{getProvider(e){if("Wormhole"===e)return new eO(this);throw Error("Unknown provider: ".concat(e))}async getWalletUSDCBalance(e,t){if("Aptos"===t)return await eG(e,this._dappConfig.aptosNetwork);if(!this.CHAINS[t])throw Error("Unsupported chain: ".concat(t));switch(t){case"Solana":var a,n,s;return await e_(e,this._dappConfig.aptosNetwork,null!==(s=null===(n=this._dappConfig)||void 0===n?void 0:null===(a=n.solanaConfig)||void 0===a?void 0:a.rpc)&&void 0!==s?s:this.CHAINS[t].defaultRpc);case"Ethereum":case"Sepolia":return await eK(e,this._dappConfig.aptosNetwork,this.CHAINS[t].defaultRpc);default:throw Error("Unsupported chain: ".concat(t))}}constructor(e){var t;this._dappConfig={aptosNetwork:S.ZcK.TESTNET},this.CHAINS=eZ,this.TOKENS=eR,this.APTOS_TOKEN=eQ,this._dappConfig=e.dappConfig,(null===(t=e.dappConfig)||void 0===t?void 0:t.aptosNetwork)===S.ZcK.MAINNET?(this.CHAINS=eW,this.TOKENS=eB,this.APTOS_TOKEN=eF):(this.CHAINS=eZ,this.TOKENS=eR,this.APTOS_TOKEN=eQ)}},eY=a(21898),eV=a(24419),eJ=function(){return(0,o.jsxs)("svg",{style:{maxHeight:"100%",maxWidth:"100%"},xmlns:"http://www.w3.org/2000/svg","data-name":"86977684-12db-4850-8f30-233a7c267d11",width:"2000",height:"2000",viewBox:"0 0 2000 2000",children:[(0,o.jsx)("path",{fill:"#2775ca",d:"M1000 2000c554.17 0 1000-445.83 1000-1000S1554.17 0 1000 0 0 445.83 0 1000s445.83 1000 1000 1000z"}),(0,o.jsx)("path",{fill:"#fff",d:"M1275 1158.33c0-145.83-87.5-195.83-262.5-216.66-125-16.67-150-50-150-108.34s41.67-95.83 125-95.83c75 0 116.67 25 137.5 87.5 4.17 12.5 16.67 20.83 29.17 20.83h66.66c16.67 0 29.17-12.5 29.17-29.16v-4.17c-16.67-91.67-91.67-162.5-187.5-170.83v-100c0-16.67-12.5-29.17-33.33-33.34h-62.5c-16.67 0-29.17 12.5-33.34 33.34v95.83c-125 16.67-204.16 100-204.16 204.17 0 137.5 83.33 191.66 258.33 212.5 116.67 20.83 154.17 45.83 154.17 112.5s-58.34 112.5-137.5 112.5c-108.34 0-145.84-45.84-158.34-108.34-4.16-16.66-16.66-25-29.16-25h-70.84c-16.66 0-29.16 12.5-29.16 29.17v4.17c16.66 104.16 83.33 179.16 220.83 200v100c0 16.66 12.5 29.16 33.33 33.33h62.5c16.67 0 29.17-12.5 33.34-33.33v-100c125-20.84 208.33-108.34 208.33-220.84z"}),(0,o.jsx)("path",{fill:"#fff",d:"M787.5 1595.83c-325-116.66-491.67-479.16-370.83-800 62.5-175 200-308.33 370.83-370.83 16.67-8.33 25-20.83 25-41.67V325c0-16.67-8.33-29.17-25-33.33-4.17 0-12.5 0-16.67 4.16-395.83 125-612.5 545.84-487.5 941.67 75 233.33 254.17 412.5 487.5 487.5 16.67 8.33 33.34 0 37.5-16.67 4.17-4.16 4.17-8.33 4.17-16.66v-58.34c0-12.5-12.5-29.16-25-37.5zm441.67-1300c-16.67-8.33-33.34 0-37.5 16.67-4.17 4.17-4.17 8.33-4.17 16.67v58.33c0 16.67 12.5 33.33 25 41.67 325 116.66 491.67 479.16 370.83 800-62.5 175-200 308.33-370.83 370.83-16.67 8.33-25 20.83-25 41.67V1700c0 16.67 8.33 29.17 25 33.33 4.17 0 12.5 0 16.67-4.16 395.83-125 612.5-545.84 487.5-941.67-75-237.5-258.34-416.67-487.5-491.67z"})]})};let eq="data:image/svg+xml;base64,",eX=e=>"Solana"===e?eq+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NiIgaGVpZ2h0PSI4NCIgZmlsbD0ibm9uZSI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBmaWxsPSJ1cmwoI2IpIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNy4zNjggNjQuMDUyQTMuMjE0IDMuMjE0IDAgMCAxIDE5Ljc0NCA2M2w3My4zMTIuMDZhMS42MTIgMS42MTIgMCAwIDEgMS4xODggMi42OThsLTE1LjYxMiAxNy4xOUEzLjIxMyAzLjIxMyAwIDAgMSA3Ni4yNTQgODRsLTczLjMxLS4wNmExLjYxMSAxLjYxMSAwIDAgMS0xLjE4OC0yLjY5OGwxNS42MTItMTcuMTlabTc2Ljg3Ni0xNC4zMWExLjYxMSAxLjYxMSAwIDAgMS0xLjE4OCAyLjY5OGwtNzMuMzEuMDZhMy4yMTMgMy4yMTMgMCAwIDEtMi4zNzgtMS4wNTJsLTE1LjYxMi0xNy4yYTEuNjEyIDEuNjEyIDAgMCAxIDEuMTg4LTIuNjk4bDczLjMxMi0uMDZhMy4yMTMgMy4yMTMgMCAwIDEgMi4zNzYgMS4wNTJsMTUuNjEyIDE3LjJaTTE3LjM2OCAxLjA1MkEzLjIxNSAzLjIxNSAwIDAgMSAxOS43NDQgMGw3My4zMTIuMDZhMS42MTIgMS42MTIgMCAwIDEgMS4xODggMi42OThsLTE1LjYxMiAxNy4xOUEzLjIxMyAzLjIxMyAwIDAgMSA3Ni4yNTQgMjFsLTczLjMxLS4wNmExLjYxMSAxLjYxMSAwIDAgMS0xLjE4OC0yLjY5OGwxNS42MTItMTcuMTlaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L2c+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJiIiB4MT0iNC4xNjgiIHgyPSI5MS44MzIiIHkxPSI4NS44MzIiIHkyPSItMS44MzIiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBzdG9wLWNvbG9yPSIjOTk0NUZGIi8+PHN0b3Agb2Zmc2V0PSIuMiIgc3RvcC1jb2xvcj0iIzc5NjJFNyIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzAwRDE4QyIvPjwvbGluZWFyR3JhZGllbnQ+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDk2djg0SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+":"Aptos"===e?eq+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIGJhc2VQcm9maWxlPSJ0aW55IiBvdmVyZmxvdz0idmlzaWJsZSIgdmVyc2lvbj0iMS4yIiB2aWV3Qm94PSIwIDAgMTEyIDExMiI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTg2LjYgMzcuNGgtOS45Yy0xLjEgMC0yLjItLjUtMy0xLjNsLTQtNC41Yy0xLjItMS4zLTMuMS0xLjQtNC41LS4zbC0uMy4zLTMuNCAzLjljLTEuMSAxLjMtMi44IDItNC41IDJIMi45QzEuNCA0MS45LjQgNDYuNiAwIDUxLjNoNTEuMmMuOSAwIDEuOC0uNCAyLjQtMWw0LjgtNWMuNi0uNiAxLjQtMSAyLjMtMWguMmMuOSAwIDEuOC40IDIuNCAxLjFsNCA0LjVjLjguOSAxLjkgMS40IDMgMS40SDExMmMtLjQtNC43LTEuNC05LjQtMi45LTEzLjhIODYuNnpNNTMuOCA2NWwtNC00LjVjLTEuMi0xLjMtMy4xLTEuNC00LjUtLjNsLS4zLjMtMy41IDMuOWMtMS4xIDEuMy0yLjcgMi00LjQgMkguOGMuOSA0LjggMi41IDkuNSA0LjYgMTRoMjUuNWMuOSAwIDEuNy0uNCAyLjQtMWw0LjgtNWMuNi0uNiAxLjQtMSAyLjMtMWguMmMuOSAwIDEuOC40IDIuNCAxLjFsNCA0LjVjLjguOSAxLjkgMS40IDMgMS40aDU2LjZjMi4xLTQuNCAzLjctOS4xIDQuNi0xNEg1Ni44Yy0xLjIgMC0yLjMtLjUtMy0xLjR6bTE5LjYtNDMuNiA0LjgtNWMuNi0uNiAxLjQtMSAyLjMtMWguMmMuOSAwIDEuOC40IDIuNCAxbDQgNC41Yy44LjkgMS45IDEuMyAzIDEuM2gxMC44Yy0xOC44LTI0LjgtNTQuMS0yOS43LTc5LTExLTQuMSAzLjEtNy44IDYuOC0xMSAxMUg3MWMxIC4yIDEuOC0uMiAyLjQtLjh6TTM0LjcgOTQuMmMtMS4yIDAtMi4zLS41LTMtMS4zbC00LTQuNWMtMS4yLTEuMy0zLjItMS40LTQuNS0uMmwtLjIuMi0zLjUgMy45Yy0xLjEgMS4zLTIuNyAyLTQuNCAyaC0uMkMzNiAxMTYuOSA3MS43IDExOCA5NC40IDk2LjdjLjktLjggMS43LTEuNyAyLjYtMi42SDM0Ljd6Ii8+PC9zdmc+":"Ethereum"===e||"Sepolia"===e?eq+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCAxOTIwIDE5MjAiPjxwYXRoIGZpbGw9IiM4QTkyQjIiIGQ9Ik05NTkuOCA4MC43IDQyMC4xIDk3Ni4zIDk1OS44IDczMXoiLz48cGF0aCBmaWxsPSIjNjI2ODhGIiBkPSJNOTU5LjggNzMxIDQyMC4xIDk3Ni4zbDUzOS43IDMxOS4xem01MzkuOCAyNDUuM0w5NTkuOCA4MC43VjczMXoiLz48cGF0aCBmaWxsPSIjNDU0QTc1IiBkPSJtOTU5LjggMTI5NS40IDUzOS44LTMxOS4xTDk1OS44IDczMXoiLz48cGF0aCBmaWxsPSIjOEE5MkIyIiBkPSJtNDIwLjEgMTA3OC43IDUzOS43IDc2MC42di00NDEuN3oiLz48cGF0aCBmaWxsPSIjNjI2ODhGIiBkPSJNOTU5LjggMTM5Ny42djQ0MS43bDU0MC4xLTc2MC42eiIvPjwvc3ZnPg==":"Sui"===e?eq+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNjAiIGhlaWdodD0iMTYwIiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgMTEwIDE2MCI+PHBhdGggZmlsbD0iIzZGQkNGMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy40NDQgMTMyLjIxNkMxNy4zNyAxNDkuNjE1IDM1LjE1IDE2MCA1NSAxNjBzMzcuNjI3LTEwLjM4NSA0Ny41NTYtMjcuNzg0YzkuOTI1LTE3LjM5NCA5LjkyNS0zOC4xNjUgMC01NS41NjNMNjAuNzMgMy4zNDdjLTIuNTQ3LTQuNDYzLTguOTEzLTQuNDYzLTExLjQ2IDBMNy40NDQgNzYuNjUzYy05LjkyNSAxNy4zOTQtOS45MjUgMzguMTY1IDAgNTUuNTYzWm0zNS43NzMtOTMuOTk0IDguOTE4LTE1LjYzYzEuMjczLTIuMjMyIDQuNDU3LTIuMjMyIDUuNzMgMGwzNC4zMDcgNjAuMTNjNi4zMDMgMTEuMDQ2IDcuNDg2IDIzLjgzMSAzLjU1IDM1LjUzMWEzNy43MDggMzcuNzA4IDAgMCAwLTEuNzU2LTUuODM1Yy00LjczOS0xMi4xMDEtMTUuNDU0LTIxLjQzOS0zMS44NTMtMjcuNzU3LTExLjI3NS00LjMyNy0xOC40NzItMTAuNjkyLTIxLjM5Ni0xOC45MTktMy43NjctMTAuNjAzLjE2Ny0yMi4xNjUgMi41LTI3LjUyWk0yOC4wMTIgNjQuODc0IDE3LjgyOCA4Mi43MjJjLTcuNzYgMTMuNTk5LTcuNzYgMjkuODMzIDAgNDMuNDMyIDcuNzYgMTMuNiAyMS42NTMgMjEuNzE1IDM3LjE3MiAyMS43MTUgMTAuMzA3IDAgMTkuOS0zLjU4MyAyNy40NTQtOS45NzUuOTg1LTIuNTA5IDQuMDM2LTExLjY5Ni4yNjctMjEuMTY1LTMuNDgtOC43NDMtMTEuODU4LTE1LjcyMy0yNC45LTIwLjc1LTE0Ljc0My01LjY1OS0yNC4zMjItMTQuNDkzLTI4LjQ2My0yNi4yNWEzNy4xNzQgMzcuMTc0IDAgMCAxLTEuMzQ3LTQuODU1WiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+":void 0;var e$=a(4914),e0=a(32608);let e1=S.ZcK.TESTNET,e4=new eH({dappConfig:{aptosNetwork:e1}}),e3=e4.getProvider("Wormhole"),e2=new S.qN7(S._q4.formatPrivateKey("0xddc1abd2ebb35b6ffa7c328f1b1d672e48073adb32cd3c95a911d6df2e205920",S.wP3.Ed25519));n=S.mRj.fromPrivateKey({privateKey:e2});let e5=new S.qN7(S._q4.formatPrivateKey(null!==(i=e0.env.NEXT_PUBLIC_SWAP_CCTP_SPONSOR_ACCOUNT_PRIVATE_KEY)&&void 0!==i?i:"0x0000000000000000000000000000000000000000000000000000000000000000",S.wP3.Ed25519));function e6(e){var t,a;let{wallet:r,originWalletDetails:i}=e,{account:c}=(0,I.Os)(),[d,u]=(0,l.useState)(""),[h,m]=(0,l.useState)(void 0),[x,g]=(0,l.useState)(!1),[p,N]=(0,l.useState)(!1),[j,w]=(0,l.useState)(null),[v,y]=(0,l.useState)(void 0),[M,A]=(0,l.useState)(!1),[C,T]=(0,l.useState)(!1),[b,E]=(0,l.useState)(void 0),[k,L]=(0,l.useState)(null);(0,l.useEffect)(()=>{r instanceof ej.o4?L("Solana"):r instanceof e$.US?L("Sepolia"):L("Aptos")},[r]),(0,l.useEffect)(()=>{k&&i&&(async()=>{y(await e4.getWalletUSDCBalance(i.address.toString(),k))})()},[i]);let D=(0,l.useCallback)(e=>{if(k){if(!e){u(""),m(void 0),g(!1);return}if(N(!0),g(!1),u(e),z(e)){g(!0),N(!1);return}j&&clearTimeout(j),w(setTimeout(async()=>{m(await (null==e3?void 0:e3.getQuote({amount:e,sourceChain:k}))),N(!1)},500))}},[k,j]),z=e=>Number(e)>Number(null!=v?v:"0"),P=async()=>{A(!0),(async()=>{var e,t;if(!k)throw Error("Missing required parameters sourceChain");let{originChainTxnId:a,destinationChainTxnId:i}=await e3.initiateCCTPTransfer({sourceChain:k,wallet:r,destinationAddress:null!==(t=null==c?void 0:null===(e=c.address)||void 0===e?void 0:e.toString())&&void 0!==t?t:"",mainSigner:n,sponsorAccount:s});return{originChainTxnId:a,destinationChainTxnId:i}})().then(e=>{E(e),A(!1),T(!0)}).catch(e=>{console.error("Error transferring",e)}).finally(()=>{A(!1)})},O=e=>{if(!e4)throw Error("CrossChainCore is not set");let t=e4.CHAINS[e];if(!t)throw Error("Chain config not found for chain: ".concat(e));return t};return(0,o.jsxs)(Z,{children:[(0,o.jsxs)(R,{children:[(0,o.jsx)(Q,{children:"CCTP transfer"}),(0,o.jsx)(W,{children:"Transfer USDC to your derived Aptos account"})]}),(0,o.jsxs)(B,{className:"flex flex-col gap-4",children:[(0,o.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,o.jsx)(ei,{value:d,onChange:e=>D(e.target.value)}),(0,o.jsxs)("div",{className:"flex flex-col cursor-pointer",children:[(0,o.jsx)("span",{children:"Max"}),(0,o.jsx)("span",{onClick:()=>D(null!=v?v:"0"),children:null!=v?v:"0"})]})]}),p&&(0,o.jsx)("p",{className:"flex flex-col items-center justify-center text-center",children:(0,o.jsx)(eY.Z,{className:"animate-spin"})}),x&&(0,o.jsx)("p",{className:"text-red-500",children:"Amount is greater than the balance of the source wallet"}),h&&!x&&(0,o.jsx)(Z,{children:(0,o.jsxs)(B,{className:"p-4",children:[(0,o.jsxs)("div",{className:"flex flex-row items-center",children:[(0,o.jsx)("div",{className:"w-10 h-10",children:(0,o.jsx)(eJ,{})}),(0,o.jsx)("div",{className:"w-4 h-4",style:{position:"relative",bottom:0,top:15,right:14,backgroundColor:"black",padding:4,borderRadius:4},children:(0,o.jsx)("img",{src:eX(k),alt:null!==(t=null==k?void 0:k.toString())&&void 0!==t?t:"",height:"32px",width:"32px"})}),(0,o.jsx)("div",{children:(0,o.jsxs)("p",{children:["-",d," USDC"]})})]}),(0,o.jsx)("div",{className:"p-2",children:(0,o.jsx)(eV.Z,{})}),(0,o.jsxs)("div",{className:"flex flex-row items-center",children:[(0,o.jsx)("div",{className:"w-10 h-10",children:(0,o.jsx)(eJ,{})}),(0,o.jsx)("div",{className:"w-4 h-4",style:{position:"relative",bottom:0,top:15,right:14,backgroundColor:"black",padding:4,borderRadius:4},children:(0,o.jsx)("img",{src:eX("Aptos"),alt:"Aptos",height:"32px",width:"32px"})}),(0,o.jsx)("div",{children:(0,o.jsxs)("p",{children:["+",d," USDC"]})})]}),(0,o.jsxs)("div",{className:"flex flex-row justify-between py-4",children:[(0,o.jsx)("div",{className:"flex flex-col",children:(0,o.jsx)("p",{className:"text-sm",children:"via Wormhole"})}),(0,o.jsxs)("p",{className:"text-md",children:["~",(e=>{if(e>=6e4){let t=Math.floor(e/6e4);return"".concat(t," minute").concat(t>1?"s":"")}{let t=Math.floor(e/1e3);return"".concat(t," second").concat(t>1?"s":"")}})(null!==(a=h.eta)&&void 0!==a?a:0)]})]})]})}),!M&&!C&&(0,o.jsx)(f,{onClick:P,disabled:!d||!r||!h,children:"Transfer"}),M&&!C&&(0,o.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,o.jsx)("p",{className:"text-lg text-center",children:"Submitting transaction"}),(0,o.jsx)(f,{disabled:!0,children:(0,o.jsx)(eY.Z,{className:"animate-spin"})})]}),!M&&C&&(0,o.jsx)("div",{className:"flex flex-col gap-4",children:(0,o.jsx)(f,{onClick:()=>window.location.reload(),children:"Start a new Transaction"})}),b&&(0,o.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,o.jsx)("p",{className:"text-lg",children:"Transaction submitted"}),b.originChainTxnId&&(0,o.jsx)("a",{href:"".concat(O(k).explorerUrl,"/tx/").concat(b.originChainTxnId,"?cluster=").concat(e1===S.ZcK.MAINNET?"mainnet":"devnet"),target:"_blank",rel:"noopener noreferrer",children:(0,o.jsxs)("p",{className:"text-md underline",children:["View on ",O(k).explorerName]})}),b.destinationChainTxnId&&(0,o.jsx)("a",{href:"https://explorer.aptoslabs.com/txn/".concat(b.destinationChainTxnId,"?network=").concat(e1===S.ZcK.MAINNET?"mainnet":"testnet"),target:"_blank",rel:"noopener noreferrer",children:(0,o.jsx)("p",{className:"text-md underline",children:"View on Aptos Explorer"})})]})]})]})}function e8(e){let{items:t}=e;return(0,o.jsx)("div",{className:"grid grid-cols-[auto_minmax(0,1fr)] gap-x-6 gap-y-2 break-words",children:t.map(e=>{let{label:t,subLabel:a,value:n}=e;return(0,o.jsxs)(l.Fragment,{children:[(0,o.jsxs)("div",{className:"flex flex-col text-muted-foreground",children:[(0,o.jsx)("div",{children:t}),a&&(0,o.jsx)("div",{className:"text-sm",children:a})]}),n]},t)})})}function e7(e){let{value:t,isCorrect:a,expected:n}=e;return(0,o.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,o.jsx)("p",{className:a?"text-green-700 dark:text-green-300":"text-red-600 dark:text-red-400",children:t}),!a&&n?(0,o.jsxs)("p",{className:"text-sm",children:["Expected: ",n]}):null]})}s=S.mRj.fromPrivateKey({privateKey:e5});var e9=a(70271);let te=(0,m.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),tt=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,o.jsx)(e9.f,{ref:t,className:(0,x.cn)(te(),a),...n})});tt.displayName=e9.f.displayName;var ta=a(55888);let tn=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,o.jsx)(ta.fC,{className:(0,x.cn)("grid gap-2",a),...n,ref:t})});tn.displayName=ta.fC.displayName;let ts=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,o.jsx)(ta.ck,{ref:t,className:(0,x.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...n,children:(0,o.jsx)(ta.z$,{className:"flex items-center justify-center",children:(0,o.jsx)(w.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});ts.displayName=ta.ck.displayName;var tr=a(88317);function ti(e){var t,a,n,s,r,i,l,c,d,u;let{account:h,network:m,wallet:x,changeNetwork:g,originWalletDetails:f}=e,{isSolanaDerivedWallet:p,isEIP1193DerivedWallet:N}=(0,I.Os)(),j=(null==x?void 0:x.features["aptos:changeNetwork"])!==void 0,w=[{label:"Address",value:(0,o.jsx)(e7,{value:null!==(n=null==h?void 0:null===(t=h.address)||void 0===t?void 0:t.toString())&&void 0!==n?n:"Not Present",isCorrect:!!(null==h?void 0:h.address)})},{label:"Public key",value:(0,o.jsx)(e7,{value:null!==(s=null==h?void 0:null===(a=h.publicKey)||void 0===a?void 0:a.toString())&&void 0!==s?s:"Not Present",isCorrect:!!(null==h?void 0:h.publicKey)})},{label:"ANS name",subLabel:"(only if attached)",value:(0,o.jsx)("p",{children:null!==(r=null==h?void 0:h.ansName)&&void 0!==r?r:"Not Present"})}];return x&&(p(x)||N(x))&&w.push({label:"Origin Wallet Address",value:(0,o.jsx)(e7,{value:null!==(i=null==f?void 0:f.address.toString())&&void 0!==i?i:"Not Present",isCorrect:!!(null==f?void 0:f.address)})}),(0,o.jsxs)(Z,{children:[(0,o.jsx)(R,{children:(0,o.jsx)(Q,{children:"Wallet Connection"})}),(0,o.jsxs)(B,{className:"flex flex-col gap-10 pt-6",children:[(0,o.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,o.jsx)("h4",{className:"text-lg font-medium",children:"Wallet Details"}),(0,o.jsx)(e8,{items:[{label:"Icon",value:(null==x?void 0:x.icon)?(0,o.jsx)(tr.default,{src:x.icon,alt:x.name,width:24,height:24}):"Not Present"},{label:"Name",value:(0,o.jsx)("p",{children:null!==(l=null==x?void 0:x.name)&&void 0!==l?l:"Not Present"})},{label:"URL",value:(null==x?void 0:x.url)?(0,o.jsx)("a",{href:x.url,target:"_blank",rel:"noreferrer",className:"text-blue-600 dark:text-blue-300",children:x.url}):"Not Present"}]})]}),(0,o.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,o.jsx)("h4",{className:"text-lg font-medium",children:"Aptos Account Info"}),(0,o.jsx)(e8,{items:w})]}),(0,o.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,o.jsx)("h4",{className:"text-lg font-medium",children:"Network Info"}),(0,o.jsx)(e8,{items:[{label:"Network name",value:(0,o.jsx)(e7,{value:null!==(c=null==m?void 0:m.name)&&void 0!==c?c:"Not Present",isCorrect:!(0,I.Tt)(m)||Object.values(S.ZcK).includes(null==m?void 0:m.name),expected:Object.values(S.ZcK).join(", ")})},{label:"URL",value:(null==m?void 0:m.url)?(0,o.jsx)("a",{href:m.url,target:"_blank",rel:"noreferrer",className:"text-blue-600 dark:text-blue-300",children:m.url}):"Not Present"},{label:"Chain ID",value:(0,o.jsx)("p",{children:null!==(d=null==m?void 0:m.chainId)&&void 0!==d?d:"Not Present"})}]})]}),(0,o.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,o.jsx)("h4",{className:"text-lg font-medium",children:"Change Network"}),(0,o.jsxs)(tn,{value:null==m?void 0:m.name,orientation:"horizontal",className:"flex gap-6",onValueChange:e=>g(e),disabled:!j,children:[(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)(ts,{value:S.ZcK.DEVNET,id:"devnet-radio"}),(0,o.jsx)(tt,{htmlFor:"devnet-radio",children:"Devnet"})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)(ts,{value:S.ZcK.TESTNET,id:"testnet-radio"}),(0,o.jsx)(tt,{htmlFor:"testnet-radio",children:"Testnet"})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)(ts,{value:S.ZcK.MAINNET,id:"mainnet-radio"}),(0,o.jsx)(tt,{htmlFor:"mainnet-radio",children:"Mainnet"})]})]}),!j&&(0,o.jsxs)("div",{className:"text-sm text-red-600 dark:text-red-400",children:["* ",null!==(u=null==x?void 0:x.name)&&void 0!==u?u:"This wallet"," does not support network change requests"]})]})]})]})}var to=a(91668),tl=a(26525);let tc=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,o.jsx)(tl.fC,{className:(0,x.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...n,ref:t,children:(0,o.jsx)(tl.bU,{className:(0,x.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});tc.displayName=tl.fC.displayName;var td=a(58738),tu=a(86456),th=a(11182),tm=a(592),tx=a(34806),tg=a(42082),tf=a(76033);let tp=tf.fC,tN=tf.wy,tj=tf.Fw;var tw=a(38030),tv=a(38654);let ty=tw.fC,tM=tw.xz,tA=tw.h_;tw.x8;let tC=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,o.jsx)(tw.aV,{ref:t,className:(0,x.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n})});tC.displayName=tw.aV.displayName;let tS=l.forwardRef((e,t)=>{let{className:a,children:n,...s}=e;return(0,o.jsxs)(tA,{children:[(0,o.jsx)(tC,{}),(0,o.jsxs)(tw.VY,{ref:t,className:(0,x.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...s,children:[n,(0,o.jsxs)(tw.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,o.jsx)(tv.Z,{className:"h-4 w-4"}),(0,o.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});tS.displayName=tw.VY.displayName;let tT=e=>{let{className:t,...a}=e;return(0,o.jsx)("div",{className:(0,x.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};tT.displayName="DialogHeader";let tb=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,o.jsx)(tw.Dx,{ref:t,className:(0,x.cn)("text-lg font-semibold leading-none tracking-tight",a),...n})});function tI(e){var t;let{account:a,connected:n,disconnect:s,wallet:r}=(0,I.Os)(),{toast:i}=(0,F.pm)(),[c,d]=(0,l.useState)(!1),u=(0,l.useCallback)(()=>d(!1),[]),h=(0,l.useCallback)(async()=>{if(null==a?void 0:a.address)try{await navigator.clipboard.writeText(a.address.toString()),i({title:"Success",description:"Copied wallet address to clipboard."})}catch(e){i({variant:"destructive",title:"Error",description:"Failed to copy wallet address."})}},[null==a?void 0:a.address,i]);return n?(0,o.jsxs)(v,{children:[(0,o.jsx)(y,{asChild:!0,children:(0,o.jsx)(f,{children:(null==a?void 0:a.ansName)||(0,I.FP)(null==a?void 0:null===(t=a.address)||void 0===t?void 0:t.toString())||"Unknown"})}),(0,o.jsxs)(M,{align:"end",children:[(0,o.jsxs)(A,{onSelect:h,className:"gap-2",children:[(0,o.jsx)(td.Z,{className:"h-4 w-4"})," Copy address"]}),r&&(0,I.cU)(r)&&(0,o.jsx)(A,{asChild:!0,children:(0,o.jsxs)("a",{href:I.od,target:"_blank",rel:"noopener noreferrer",className:"flex gap-2",children:[(0,o.jsx)(tu.Z,{className:"h-4 w-4"})," Account"]})}),(0,o.jsxs)(A,{onSelect:s,className:"gap-2",children:[(0,o.jsx)(th.Z,{className:"h-4 w-4"})," Disconnect"]})]})]}):(0,o.jsxs)(ty,{open:c,onOpenChange:d,children:[(0,o.jsx)(tM,{asChild:!0,children:(0,o.jsx)(f,{children:"Connect a Wallet"})}),(0,o.jsx)(tE,{close:u,...e})]})}function tE(e){let{close:t,...a}=e,{wallets:n=[],notDetectedWallets:s=[]}=(0,I.Os)(),{aptosConnectWallets:r,availableWallets:i,installableWallets:l}=(0,I.LA)([...n,...s],a),c=!!r.length;return(0,o.jsx)(tS,{className:"max-h-screen overflow-auto",children:(0,o.jsxs)(I.a6,{renderEducationScreen:tD,children:[(0,o.jsx)(tT,{children:(0,o.jsx)(tb,{className:"flex flex-col text-center leading-snug",children:c?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{children:"Log in or sign up"}),(0,o.jsx)("span",{children:"with Social + Aptos Connect"})]}):"Connect Wallet"})}),c&&(0,o.jsxs)("div",{className:"flex flex-col gap-2 pt-3",children:[r.map(e=>(0,o.jsx)(tL,{wallet:e,onConnect:t},e.name)),(0,o.jsxs)("p",{className:"flex gap-1 justify-center items-center text-muted-foreground text-sm",children:["Learn more about"," ",(0,o.jsxs)(I.a6.Trigger,{className:"flex gap-1 py-3 items-center text-foreground",children:["Aptos Connect ",(0,o.jsx)(tm.Z,{size:16})]})]}),(0,o.jsxs)(I.pk,{className:"flex flex-col items-center py-1",children:[(0,o.jsxs)("p",{className:"text-xs leading-5",children:[(0,o.jsx)(I.pk.Disclaimer,{})," ",(0,o.jsx)(I.pk.Link,{className:"text-muted-foreground underline underline-offset-4"}),(0,o.jsx)("span",{className:"text-muted-foreground",children:"."})]}),(0,o.jsx)(I.pk.PoweredBy,{className:"flex gap-1.5 items-center text-xs leading-5 text-muted-foreground"})]}),(0,o.jsxs)("div",{className:"flex items-center gap-3 pt-4 text-muted-foreground",children:[(0,o.jsx)("div",{className:"h-px w-full bg-secondary"}),"Or",(0,o.jsx)("div",{className:"h-px w-full bg-secondary"})]})]}),(0,o.jsxs)("div",{className:"flex flex-col gap-3 pt-3",children:[i.map(e=>(0,o.jsx)(tk,{wallet:e,onConnect:t},e.name)),!!l.length&&(0,o.jsxs)(tp,{className:"flex flex-col gap-3",children:[(0,o.jsx)(tN,{asChild:!0,children:(0,o.jsxs)(f,{size:"sm",variant:"ghost",className:"gap-2",children:["More wallets ",(0,o.jsx)(tx.Z,{})]})}),(0,o.jsx)(tj,{className:"flex flex-col gap-3",children:l.map(e=>(0,o.jsx)(tk,{wallet:e,onConnect:t},e.name))})]})]})]})})}function tk(e){let{wallet:t,onConnect:a}=e;return(0,o.jsxs)(I.Z3,{wallet:t,onConnect:a,className:"flex items-center justify-between px-4 py-3 gap-4 border rounded-md",children:[(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsx)(I.Z3.Icon,{className:"h-6 w-6"}),(0,o.jsx)(I.Z3.Name,{className:"text-base font-normal"})]}),(0,I.vV)(t)?(0,o.jsx)(f,{size:"sm",variant:"ghost",asChild:!0,children:(0,o.jsx)(I.Z3.InstallLink,{})}):(0,o.jsx)(I.Z3.ConnectButton,{asChild:!0,children:(0,o.jsx)(f,{size:"sm",children:"Connect"})})]})}function tL(e){let{wallet:t,onConnect:a}=e;return(0,o.jsx)(I.Z3,{wallet:t,onConnect:a,children:(0,o.jsx)(I.Z3.ConnectButton,{asChild:!0,children:(0,o.jsxs)(f,{size:"lg",variant:"outline",className:"w-full gap-4",children:[(0,o.jsx)(I.Z3.Icon,{className:"h-5 w-5"}),(0,o.jsx)(I.Z3.Name,{className:"text-base font-normal"})]})})})}function tD(e){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(tT,{className:"grid grid-cols-[1fr_4fr_1fr] items-center space-y-0",children:[(0,o.jsx)(f,{variant:"ghost",size:"icon",onClick:e.cancel,children:(0,o.jsx)(tg.Z,{})}),(0,o.jsx)(tb,{className:"leading-snug text-base text-center",children:"About Aptos Connect"})]}),(0,o.jsx)("div",{className:"flex h-[162px] pb-3 items-end justify-center",children:(0,o.jsx)(e.Graphic,{})}),(0,o.jsxs)("div",{className:"flex flex-col gap-2 text-center pb-4",children:[(0,o.jsx)(e.Title,{className:"text-xl"}),(0,o.jsx)(e.Description,{className:"text-sm text-muted-foreground [&>a]:underline [&>a]:underline-offset-4 [&>a]:text-foreground"})]}),(0,o.jsxs)("div",{className:"grid grid-cols-3 items-center",children:[(0,o.jsx)(f,{size:"sm",variant:"ghost",onClick:e.back,className:"justify-self-start",children:"Back"}),(0,o.jsx)("div",{className:"flex items-center gap-2 place-self-center",children:e.screenIndicators.map((e,t)=>(0,o.jsx)(e,{className:"py-4",children:(0,o.jsx)("div",{className:"h-0.5 w-6 transition-colors bg-muted [[data-active]>&]:bg-foreground"})},t))}),(0,o.jsxs)(f,{size:"sm",variant:"ghost",onClick:e.next,className:"gap-2 justify-self-end",children:[e.screenIndex===e.totalScreens-1?"Finish":"Next",(0,o.jsx)(tm.Z,{size:16})]})]})]})}function tz(){let{autoConnect:e,setAutoConnect:t}=(0,to.v)();return(0,o.jsx)(Z,{children:(0,o.jsxs)(B,{children:[(0,o.jsx)("div",{className:"flex flex-wrap gap-6 pt-6 pb-12 justify-between items-center",children:(0,o.jsx)("div",{className:"flex flex-col gap-4 items-center",children:(0,o.jsx)(tI,{})})}),(0,o.jsxs)("label",{className:"flex items-center gap-4 cursor-pointer",children:[(0,o.jsx)(tc,{id:"auto-connect-switch",checked:e,onCheckedChange:t}),(0,o.jsx)(tt,{htmlFor:"auto-connect-switch",children:"Auto reconnect on page load"})]})]})})}function tP(){let{account:e,connected:t,network:a,wallet:n,changeNetwork:s,getOriginWalletDetails:r}=(0,I.Os)(),[i,c]=(0,l.useState)(void 0);return(0,l.useEffect)(()=>{n&&(async()=>{c(await r(n))})()},[n,r]),(0,o.jsxs)("main",{className:"flex flex-col w-1/2 p-6 pb-12 md:px-8 gap-6",children:[(0,o.jsxs)("div",{className:"flex justify-between gap-6 pb-10",children:[(0,o.jsxs)("div",{className:"flex flex-col gap-2 md:gap-3",children:[(0,o.jsxs)("h1",{className:"text-xl sm:text-3xl font-semibold tracking-tight",children:["Aptos X-Chain Wallet Adapter Tester",(null==a?void 0:a.name)?"  ".concat(a.name):""]}),(0,o.jsx)("a",{href:"https://github.com/aptos-labs/aptos-wallet-adapter/tree/main/apps/nextjs-x-chain-example",target:"_blank",rel:"noreferrer",className:"text-sm text-muted-foreground underline underline-offset-2 font-medium leading-none",children:"Demo App Source Code"})]}),(0,o.jsx)(C,{})]}),(0,o.jsx)(tz,{}),t&&n&&e&&a&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ti,{account:e,network:a,wallet:n,changeNetwork:s,originWalletDetails:i}),(null==a?void 0:a.name)===S.ZcK.MAINNET&&(0,o.jsxs)(J,{variant:"warning",children:[(0,o.jsx)(en.Z,{className:"h-4 w-4"}),(0,o.jsx)(q,{children:"Warning"}),(0,o.jsx)(X,{children:"The transactions flows below will not work on the Mainnet network."})]}),(0,o.jsx)(er,{account:e,network:a,wallet:n}),(0,o.jsx)(Y,{}),(null==a?void 0:a.name)!==S.ZcK.DEVNET&&(0,o.jsx)(e6,{wallet:n,originWalletDetails:i})]})]})}tb.displayName=tw.Dx.displayName,l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,o.jsx)(tw.dk,{ref:t,className:(0,x.cn)("text-sm text-muted-foreground",a),...n})}).displayName=tw.dk.displayName,function(){let e=new et;(0,$.LQ)(e)}(),void 0!==window.TelegramWebviewProxy&&(0,ea.S1n)()}},function(e){e.O(0,[855,658,513,838,895,263,483,939,744],function(){return e(e.s=36947)}),_N_E=e.O()}]);