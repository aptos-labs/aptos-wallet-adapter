(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[352],{69157:function(e,t,r){"use strict";let n,i;r.d(t,{f1:function(){return f},kJ:function(){return u}});var s=r(81520);s.iVQ;var o=["aptos:devnet","aptos:testnet","aptos:localnet","aptos:mainnet"],a=((n=a||{})[n.Unauthorized=4100]="Unauthorized",n[n.InternalError=-30001]="InternalError",n);Object.freeze({4100:{status:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[-30001]:{status:"Internal error",message:"Something went wrong within the wallet."}});var l=((i=l||{}).APPROVED="Approved",i.REJECTED="Rejected",i),c=r(4179);class u{constructor(e={}){this.option=e,this.url="https://www.twallet.ai",this.version="1.0.0",this.name="T wallet",this.icon="data:image/png;base64,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",this.chains=o,this.accounts=[],this.provider="u">typeof window?window.dekey:void 0,this.initializing=!1,this.account=async()=>{var e;let t=await (null==(e=this.provider)?void 0:e.request({method:"aptos_account"}));return{address:t.address,publicKey:t.publicKey}},this.connect=async()=>{var e,t,n;if(!this.initializing){this.initializing=!0,await r.e(817).then(r.bind(r,48817));let n=h(null==(e=this.option)?void 0:e.env);if(!n)throw this.initializing=!1,Error(`walletDomain not found with env: ${null==(t=this.option)?void 0:t.env}`);if(!(null!=window&&window.initializeDekeyProvider))throw this.initializing=!1,Error("initializeDekeyProvider not found");await window.initializeDekeyProvider(n),this.provider=window.dekey}if(!await this.checkProvider())return{status:l.REJECTED};let i=await (null==(n=this.provider)?void 0:n.request({method:"aptos_requestAccounts"}));return i?{status:l.APPROVED,args:{address:i.address,publicKey:i.publicKey}}:(await new Promise(e=>setTimeout(e,2e3)),{status:l.REJECTED})},this.checkProvider=async()=>new Promise(e=>{setTimeout(()=>{e(!1)},1e4);let t=setInterval(()=>{this.provider&&(e(!0),clearInterval(t))},100)}),this.network=async()=>{let{chainId:e,name:t,url:r}=await this.provider.request({method:"aptos_network"});return{name:t,chainId:e,url:r}},this.disconnect=async()=>Promise.resolve(),this.signTransaction=async(e,t)=>{try{let t=e.rawTransaction.bcsToBytes(),{concatedSig:r,uncompressedPubkey:n}=await this.provider.request({method:"aptos_signTransaction",params:[Array.from(t)]}),i=new s.aOV(n),o=new s.Dsi(r),a=new s.EDR(new s.qxW(i),new s.A1I(o));return Promise.resolve({status:l.APPROVED,args:a})}catch(e){throw e.message}},this.signAndSubmitTransaction=async e=>{let t=e.rawTransaction.bcsToBytes(),r=await this.provider.request({method:"aptos_signAndSubmitTransaction",params:[Array.from(t)]});return{status:l.APPROVED,args:r}},this.signMessage=async e=>{var t;try{let r=await (null==(t=this.provider)?void 0:t.request({method:"aptos_signMessage",params:[e.message]}));return{status:l.APPROVED,args:r}}catch(e){throw e.message}},this.onAccountChange=async()=>Promise.resolve(),this.onNetworkChange=async e=>{let t=async()=>{let{name:t,chainId:r,url:n}=await this.network();e({name:t,chainId:r,url:n})};this.provider.on("chainChanged",()=>{t()})},null!=e&&e.env||(null==e?void 0:e.registerWallet)!==!0||d(this)}get features(){return{"aptos:connect":{version:"1.0.0",connect:this.connect},"aptos:network":{version:"1.0.0",network:this.network},"aptos:disconnect":{version:"1.0.0",disconnect:this.disconnect},"aptos:signTransaction":{version:"1.0.0",signTransaction:this.signTransaction},"aptos:signAndSubmitTransaction":{version:"1.0.0",signAndSubmitTransaction:this.signAndSubmitTransaction},"aptos:signMessage":{version:"1.0.0",signMessage:this.signMessage},"aptos:onAccountChange":{version:"1.0.0",onAccountChange:this.onAccountChange},"aptos:onNetworkChange":{version:"1.0.0",onNetworkChange:this.onNetworkChange},"aptos:account":{version:"1.0.0",account:this.account}}}}let h=e=>"LOCAL"===e?"http://localhost:5173":"DEV"===e?"https://dev.twallet.ai":"QA"===e?"https://qa.twallet.ai":"https://www.twallet.ai",d=e=>{typeof window>"u"||(0,c.LQ)(e)};class f extends u{constructor(e={}){super({...e,env:"DEV"}),this.url="https://dev.twallet.ai",this.name="Dev T wallet",(null==e?void 0:e.registerWallet)===!0&&d(this)}}},82594:function(e,t,r){var n;n=function(e){"use strict";if(!e)throw Error("tweetnacl not loaded");var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},r=t(),n=t([1]),i=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),s=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function o(e){var t,r;for(r=0;r<16;r++)e[r]+=65536,t=Math.floor(e[r]/65536),e[(r+1)*(r<15?1:0)]+=t-1+37*(t-1)*(15===r?1:0),e[r]-=65536*t}function a(e,t,r){var n;for(n=0;n<16;n++)e[n]=t[n]+r[n]|0}function l(e,t,r){var n;for(n=0;n<16;n++)e[n]=t[n]-r[n]|0}function c(e,t,r){var n,i,s=new Float64Array(31);for(n=0;n<31;n++)s[n]=0;for(n=0;n<16;n++)for(i=0;i<16;i++)s[n+i]+=t[n]*r[i];for(n=0;n<15;n++)s[n]+=38*s[n+16];for(n=0;n<16;n++)e[n]=s[n];o(e),o(e)}function u(e,r){var n,i,s,a=t(),l=t();for(n=0;n<16;n++)l[n]=r[n];for(o(l),o(l),o(l),i=0;i<2;i++){for(n=1,a[0]=l[0]-65517;n<15;n++)a[n]=l[n]-65535-(a[n-1]>>16&1),a[n-1]&=65535;a[15]=l[15]-32767-(a[14]>>16&1),s=a[15]>>16&1,a[14]&=65535,function(e,t,r){for(var n,i=~(r-1),s=0;s<16;s++)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}(l,a,1-s)}for(n=0;n<16;n++)e[2*n]=255&l[n],e[2*n+1]=l[n]>>8}function h(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return u(r,e),u(n,t),function(e,t,r,n,i){var s,o=0;for(s=0;s<32;s++)o|=e[0+s]^r[0+s];return(1&o-1>>>8)-1}(r,0,n,0,0)}function d(e){var o,d,f,p,g,y,A,w,m,E,v,b,I,T,N=new Uint8Array(32),S=[t(),t(),t(),t()],U=t(),x=t();if(o=S,d=e,w=t(),m=t(),E=t(),v=t(),b=t(),I=t(),T=t(),(function(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}(o[2],n),function(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(o[1],d),c(E,f=o[1],f),c(v,E,i),l(E,E,o[2]),a(v,o[2],v),c(b,v,v),c(I,b,b),c(T,I,b),c(w,T,E),c(w,w,v),function(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)c(i,i,i),1!==n&&c(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}(w,w),c(w,w,E),c(w,w,v),c(w,w,v),c(o[0],w,v),c(m,p=o[0],p),c(m,m,v),h(m,E)&&c(o[0],o[0],s),c(m,g=o[0],g),c(m,m,v),h(m,E))?-1:(y=o[0],u(A=new Uint8Array(32),y),(1&A[0])==d[31]>>7&&l(o[0],r,o[0]),c(o[3],o[0],o[1]),0))return null;var k=S[1];return a(U,n,k),l(x,n,k),function(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)c(i,i,i),2!==n&&4!==n&&c(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}(x,x),c(U,U,x),u(N,U),N}function f(t){var r,n=new Uint8Array(64),i=new Uint8Array(32);for(e.lowlevel.crypto_hash(n,t,32),n[0]&=248,n[31]&=127,n[31]|=64,r=0;r<32;r++)i[r]=n[r];for(r=0;r<64;r++)n[r]=0;return i}return{convertPublicKey:d,convertSecretKey:f,convertKeyPair:function(e){var t=d(e.publicKey);return t?{publicKey:t,secretKey:f(e.secretKey)}:null}}},e.exports?e.exports=n(r(76326)):this.ed2curve=n(this.nacl)},83441:function(e,t,r){"use strict";let n;r.d(t,{hP:function(){return ro},Im:function(){return rs}});var i,s,o,a,l,c,u,h,d,f,p,g,y,A,w,m,E,v,b,I,T,N,S,U,x,k,C,D,O,M,P=r(60738),L=r(81520),z=r(85802),R=r(76326),B=r(82594);function K(e){let t=atob(e);return Uint8Array.from(t,e=>e.charCodeAt(0))}function j(e){return btoa(String.fromCharCode(...e))}function _(e){return j(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function F(e){switch(e){case L.mdu.mainnet:return L.ZcK.MAINNET;case L.mdu.testnet:return L.ZcK.TESTNET;default:return L.ZcK.DEVNET}}function q(e){return[L.ZcK.MAINNET,L.ZcK.TESTNET,L.ZcK.DEVNET].includes(e)}function H(e,t){if(t instanceof L.EZS)e.serializeU32AsUleb128(L.E62.Ed25519);else if(t instanceof L.ZSy)e.serializeU32AsUleb128(L.E62.MultiEd25519);else if(t instanceof L.qxW)e.serializeU32AsUleb128(L.E62.SingleKey);else if(t instanceof L.mFj)e.serializeU32AsUleb128(L.E62.MultiKey);else throw Error("Unexpected public key type");e.serialize(t)}function Q(e){let t=e.deserializeUleb128AsU32();switch(t){case L.E62.Ed25519:return e.deserialize(L.EZS);case L.E62.MultiEd25519:return e.deserialize(L.ZSy);case L.E62.SingleKey:return e.deserialize(L.qxW);case L.E62.MultiKey:return e.deserialize(L.mFj);default:throw Error(`Unknown signing scheme: ${t}`)}}function V(e,t){e.serialize(t.address),H(e,t.publicKey),e.serializeStr(t.name??"")}function Y(e){let t=e.deserialize(L.kxK),r=Q(e),n=e.deserializeStr();return{address:t,publicKey:r,...n.length>0?{name:n}:void 0}}function Z(e,t){e.serialize(t.address),e.serializeBool(void 0!==t.publicKey),t.publicKey&&H(e,t.publicKey)}function G(e){return{address:e.deserialize(L.kxK),publicKey:e.deserializeBool()?Q(e):void 0}}function W(e,t){e.serializeStr(t.domain),e.serializeStr(t.name),e.serializeBool(void 0!==t.imageURI),void 0!==t.imageURI&&e.serializeStr(t.imageURI)}function J(e){let t=e.deserializeStr(),r=e.deserializeStr();return{domain:t,imageURI:e.deserializeBool()?e.deserializeStr():void 0,name:r}}var X=((i=X||{})[i.Undefined=0]="Undefined",i[i.Array=1]="Array",i[i.String=2]="String",i[i.Uint8Array=3]="Uint8Array",i[i.AccountAddress=4]="AccountAddress",i[i.FixedBytes=5]="FixedBytes",i),$=((s=$||{})[s.EntryFunction=0]="EntryFunction",s[s.Script=1]="Script",s[s.Multisig=2]="Multisig",s);function ee(e,t){for(let r of(e.serializeU32AsUleb128(t.length),t)){let t="string"==typeof r?(0,L._LL)(r,{allowGenerics:!0}):r;e.serialize(t)}}function et(e){let t=[],r=e.deserializeUleb128AsU32();for(let n=0;n<r;n+=1){let r=e.deserialize(L.O$S);t.push(r)}return t}function er(e,t){for(let r of(e.serializeU32AsUleb128(t.length),t))!function e(t,r){if(null==r){t.serializeU32AsUleb128(0);return}if(Array.isArray(r)){for(let n of(t.serializeU32AsUleb128(1),t.serializeU32AsUleb128(r.length),r))e(t,n);return}if("string"==typeof r||"number"==typeof r||"boolean"==typeof r||"bigint"==typeof r){t.serializeU32AsUleb128(2),t.serializeStr(r.toString());return}if(r instanceof Uint8Array){t.serializeU32AsUleb128(3),t.serializeBytes(r);return}if(r instanceof ArrayBuffer){t.serializeU32AsUleb128(3),t.serializeBytes(new Uint8Array(r));return}if("values"in r){for(let n of(t.serializeU32AsUleb128(1),t.serializeU32AsUleb128(r.values.length),r.values))e(t,n);return}if("data"in r){t.serializeU32AsUleb128(4),t.serialize(r);return}if(void 0===r.value){t.serializeU32AsUleb128(0),t.serialize(r);return}if(r.value instanceof Uint8Array){t.serializeU32AsUleb128(5),t.serializeBytes(r.value);return}t.serializeU32AsUleb128(2),t.serializeStr(r.value.toString())}(e,r)}function en(e){let t=e.deserializeUleb128AsU32(),r=[];for(let n=0;n<t;n+=1){let t=function e(t){switch(t.deserializeUleb128AsU32()){case 0:return;case 1:{let r=t.deserializeUleb128AsU32(),n=[];for(let i=0;i<r;i+=1){let r=e(t);n.push(r)}return n}case 3:return t.deserializeBytes();case 4:return t.deserialize(L.kxK);case 2:return t.deserializeStr();case 5:{let e=t.deserializeBytes();return new L.hq8(e)}default:throw Error("Unexpected variant")}}(e);r.push(t)}return r}function ei(e,t){if("multisigAddress"in t){e.serializeU32AsUleb128(2),e.serializeStr(t.function),er(e,t.functionArguments),ee(e,t.typeArguments??[]);let r=L.kxK.from(t.multisigAddress);e.serialize(r)}else if("function"in t)e.serializeU32AsUleb128(0),e.serializeStr(t.function),er(e,t.functionArguments),ee(e,t.typeArguments??[]);else{e.serializeU32AsUleb128(1);let r=L.pUe.fromHexInput(t.bytecode);for(let n of(e.serializeBytes(r.toUint8Array()),e.serializeU32AsUleb128(t.functionArguments.length),t.functionArguments))n.serializeForScriptFunction(e);ee(e,t.typeArguments??[])}}function es(e){switch(e.deserializeUleb128AsU32()){case 2:{let t=e.deserializeStr(),r=en(e),n=et(e);return{function:t,functionArguments:r,multisigAddress:e.deserialize(L.kxK),typeArguments:n}}case 0:return{function:e.deserializeStr(),functionArguments:en(e),typeArguments:et(e)};case 1:{let t=e.deserializeBytes(),r=e.deserializeUleb128AsU32(),n=[];for(let t=0;t<r;t+=1){let t=(0,L.iH)(e);n.push(t)}return{bytecode:t,functionArguments:n,typeArguments:et(e)}}default:throw Error("Unexpected variant")}}function eo({dappInfo:e,name:t,version:r}){let n=new L.ei2;return W(n,e),{data:n.toUint8Array(),name:t,version:r}}function ea({data:e,name:t,version:r}){return{dappInfo:J(new L.ZKs(e)),name:t,version:r}}function el({args:e,dappInfo:t,name:r,version:n},i){let s=new L.ei2;return W(s,t),i(s,e),{data:s.toUint8Array(),name:r,version:n}}function ec({data:e,name:t,version:r},n){let i=new L.ZKs(e),s=J(i);return{args:n(i),dappInfo:s,name:t,version:r}}function eu(e){return{args:e,status:"approved"}}function eh(e){return(t,r)=>{t.serializeBool("approved"===r.status),"approved"===r.status&&e(t,r.args)}}function ed(e){return t=>t.deserializeBool()?{args:e(t),status:"approved"}:{status:"dismissed"}}function ef(e,t){let r=new L.ei2;return t(r,e),{data:r.toUint8Array()}}function ep({data:e},t){return{args:t(new L.ZKs(e))}}function eg(e,t){return t?.__messageType===e.TYPE}(e=>{function t(e,t){if(e.serializeOptionStr(t.dappId),e.serializeOptionStr(t.dappEd25519PublicKeyB64),e.serializeOptionStr(t.preferredWalletName),e.serializeBool(void 0!==t.claimOptions),t.claimOptions&&(e.serialize(t.claimOptions.secretKey),e.serializeStr(t.claimOptions.network),e.serializeOptionStr(t.claimOptions.asset),!q(t.claimOptions.network)))throw Error(`Unsupported network '${t.claimOptions.network}'`)}function r(e,t){let r;if(1===t)return{};let n=e.deserializeOption("string"),i=e.deserializeOption("string"),s=t>=3?e.deserializeOption("string"):void 0;if(t>=4&&e.deserializeBool()){let t=e.deserialize(L.qN7),n=e.deserializeStr(),i=e.deserializeOption("string");if(!q(n))throw Error(`Unsupported network '${n}'`);r={asset:i,network:n,secretKey:t}}return{claimOptions:r,dappEd25519PublicKeyB64:i,dappId:n,preferredWalletName:s}}e.name="connect",e.supportedVersions=[1,2,3,4],e.currentVersion=4,e.serializeArgs=t,e.deserializeArgs=r,e.serialize=function(r,n={}){return el({args:n,dappInfo:r,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return ec(e,t=>r(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(w||(w={})),(e=>{e.supportedVersions=[1,2],e.currentVersion=2;let t=eh(function(e,t){V(e,t.account)}),r=eh(function(e,t){V(e,t.account),e.serializeOptionStr(void 0!==t.pairing?JSON.stringify(t.pairing):void 0)}),n=ed(function(e){let t=Y(e),r=e.deserializeOption("string");return{account:t,pairing:void 0!==r?JSON.parse(r):void 0}});e.serialize=function(n,i=e.currentVersion){return ef(n,1===i?t:r)},e.deserialize=function(e){return ep(e,n)}})(m||(m={})),(o=E||(E={})).name="disconnect",o.currentVersion=1,o.serialize=function(e){return eo({dappInfo:e,name:o.name,version:o.currentVersion})},o.deserialize=function(e){return ea(e)},o.isSerialized=function(e){return e.name===o.name&&e.version===o.currentVersion},(a=v||(v={})).serialize=function(e){return ef(e,()=>{})},a.deserialize=function(e){return ep(e,()=>({}))},(l=b||(b={})).name="getConnectedAccounts",l.currentVersion=1,l.serialize=function(e){return eo({dappInfo:e,name:l.name,version:l.currentVersion})},l.deserialize=function(e){return ea(e)},l.isSerialized=function(e){return e.name===l.name&&e.version===l.currentVersion},(e=>{function t(e,t){for(let r of(e.serializeU32AsUleb128(t.length),t))V(e,r)}function r(e){let t=e.deserializeUleb128AsU32(),r=[];for(let n=0;n<t;n+=1)r.push(Y(e));return r}e.serialize=function(e){return ef(e,t)},e.deserialize=function(e){return ep(e,r)}})(I||(I={})),(c=T||(T={})).name="isConnected",c.currentVersion=1,c.serialize=function(e){return eo({dappInfo:e,name:c.name,version:c.currentVersion})},c.deserialize=function(e){return ea(e)},c.isSerialized=function(e){return e.name===c.name&&e.version===c.currentVersion},(e=>{function t(e,t){e.serializeBool(t)}function r(e){return e.deserializeBool()}e.serialize=function(e){return ef(e,t)},e.deserialize=function(e){return ep(e,r)}})(N||(N={})),(e=>{function t(e,t){if(void 0!==t.network&&!q(t.network))throw Error(`Unsupported network '${t.network}'`);if(e.serializeBool(void 0!==t.signerAddress),void 0!==t.signerAddress&&e.serialize(t.signerAddress),e.serializeOptionStr(t.network),"bcsToBytes"in t.payload?(e.serializeBool(!0),e.serialize(t.payload)):(e.serializeBool(!1),ei(e,t.payload)),e.serializeU64(t.expirationTimestamp??0),e.serializeU32AsUleb128(t.gasUnitPrice??0),e.serializeU32AsUleb128(t.maxGasAmount??0),e.serializeU32AsUleb128(t.feePayer?1:0),t.feePayer){var r;r=t.feePayer,e.serialize(r.address),e.serialize(r.authenticator)}}function r(e,t){let r=t>=3&&e.deserializeBool()?e.deserialize(L.kxK):void 0,n=1===t?e.deserializeStr():e.deserializeOption("string");if(void 0!==n&&!q(n))throw Error(`Unsupported network '${n}'`);let i=1===t||e.deserializeBool()?e.deserialize(L.tLX):es(e),s=Number(e.deserializeU64()),o=e.deserializeUleb128AsU32(),a=e.deserializeUleb128AsU32();return{expirationTimestamp:s>0?s:void 0,feePayer:e.deserializeUleb128AsU32()?{address:e.deserialize(L.kxK),authenticator:e.deserialize(L.LLd)}:void 0,gasUnitPrice:o>0?o:void 0,maxGasAmount:a>0?a:void 0,network:n,payload:i,signerAddress:r}}e.name="signAndSubmitTransaction",e.supportedVersions=[1,2,3],e.currentVersion=3,e.serializeArgs=t,e.deserializeArgs=r,e.serialize=function(r,n){return el({args:n,dappInfo:r,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return ec(e,t=>r(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(S||(S={})),(e=>{let t=eh(function(e,t){e.serializeStr(t.txnHash)}),r=ed(function(e){return{txnHash:e.deserializeStr()}});e.serialize=function(e){return ef(e,t)},e.deserialize=function(e){return ep(e,r)}})(U||(U={})),(e=>{function t(e,t){e.serializeBool(void 0!==t.signerAddress),void 0!==t.signerAddress&&e.serialize(t.signerAddress),e.serializeU8(t.chainId),e.serializeBytes(t.nonce),e.serializeBytes(t.message)}e.name="signMessage",e.supportedVersions=[1,2],e.currentVersion=2,e.serialize=function(r,n){return el({args:n,dappInfo:r,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return ec(e,t=>(function(e,t){let r=t>=2&&e.deserializeBool()?e.deserialize(L.kxK):void 0,n=e.deserializeU8(),i=e.deserializeBytes();return{chainId:n,message:e.deserializeBytes(),nonce:i,signerAddress:r}})(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&t.version===e.currentVersion}})(x||(x={})),(e=>{let t=eh(function(e,t){e.serializeStr(t.fullMessage),function(e,t){if(t instanceof L.AoU)e.serializeU32AsUleb128(L.E62.Ed25519);else if(t instanceof L.e6E)e.serializeU32AsUleb128(L.E62.MultiEd25519);else if(t instanceof L.A1I)e.serializeU32AsUleb128(L.E62.SingleKey);else throw Error("Unexpected signature type");e.serialize(t)}(e,t.signature)}),r=ed(function(e){return{fullMessage:e.deserializeStr(),signature:function(e){let t=e.deserializeUleb128AsU32();switch(t){case L.E62.Ed25519:return e.deserialize(L.AoU);case L.E62.MultiEd25519:return e.deserialize(L.e6E);case L.E62.SingleKey:return e.deserialize(L.A1I);default:throw Error(`Unknown signing scheme: ${t}`)}}(e)}});e.serialize=function(e){return ef(e,t)},e.deserialize=function(e){return ep(e,r)}})(k||(k={})),(e=>{function t(e,t){if(void 0!==t.network&&!q(t.network))throw Error(`Unsupported network '${t.network}'`);e.serializeBool(void 0!==t.signerAddress),void 0!==t.signerAddress&&e.serialize(t.signerAddress),e.serializeOptionStr(t.network),e.serializeBool(void 0!==t.sender),void 0!==t.sender&&Z(e,t.sender),"bcsToBytes"in t.payload?(e.serializeBool(!0),e.serialize(t.payload)):(e.serializeBool(!1),ei(e,t.payload)),e.serializeU32AsUleb128(t.expirationSecondsFromNow??0),e.serializeU64(t.expirationTimestamp??0),e.serializeU32AsUleb128(t.gasUnitPrice??0),e.serializeU32AsUleb128(t.maxGasAmount??0),e.serializeBool(void 0!==t.feePayer),void 0!==t.feePayer&&Z(e,t.feePayer);let r=t.secondarySigners??[];for(let t of(e.serializeU32AsUleb128(r.length),r))Z(e,t)}e.name="signTransaction",e.supportedVersions=[1,2,3,4],e.currentVersion=4,e.normalizeArgs=function(e){let{feePayer:t,secondarySigners:r,senderPublicKey:n,signerAddress:i,transaction:s}=e,o={address:s.sender,publicKey:n},a=F(e.transaction.chain_id.chainId);return{expirationTimestamp:Number(s.expiration_timestamp_secs),feePayer:t,gasUnitPrice:Number(s.gas_unit_price),maxGasAmount:Number(s.max_gas_amount),network:a,payload:s.payload,secondarySigners:r,sender:o,signerAddress:i}},e.serialize=function(r,n){return el({args:n,dappInfo:r,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return ec(e,t=>(function(e,t){let r=t>=3&&e.deserializeBool()?e.deserialize(L.kxK):void 0,n=1===t?e.deserializeStr():e.deserializeOption("string");if(void 0!==n&&!q(n))throw Error(`Unsupported network '${n}'`);let i=e.deserializeBool()?G(e):void 0,s=t<4||e.deserializeBool()?e.deserialize(L.tLX):es(e),o=e.deserializeUleb128AsU32(),a=Number(e.deserializeU64()),l=e.deserializeUleb128AsU32(),c=e.deserializeUleb128AsU32(),u=e.deserializeBool()?G(e):void 0,h=e.deserializeUleb128AsU32(),d=[];for(let t=0;t<h;t+=1)d.push(G(e));return{expirationSecondsFromNow:o>0?o:void 0,expirationTimestamp:a>0?a:void 0,feePayer:u,gasUnitPrice:l>0?l:void 0,maxGasAmount:c>0?c:void 0,network:n,payload:s,secondarySigners:d,sender:i,signerAddress:r}})(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(C||(C={})),(e=>{let t=eh(function(e,t){e.serialize(t.authenticator),e.serializeBool(void 0!==t.rawTransaction),void 0!==t.rawTransaction&&e.serialize(t.rawTransaction)}),r=ed(function(e){return{authenticator:e.deserialize(L.LLd),rawTransaction:e.deserializeBool()?e.deserialize(L.S75):void 0}});e.serialize=function(e){return ef(e,t)},e.deserialize=function(e){return ep(e,r)}})(D||(D={}));var ey=class e{constructor(){this.__messageType=e.TYPE}};ey.TYPE="PromptOpenerPingRequest";var eA=class e{constructor(){this.__messageType=e.TYPE}};eA.TYPE="PromptOpenerPingResponse";var ew=class e{constructor(t){this.serializedValue=t,this.__messageType=e.TYPE}};ew.TYPE="PromptApprovalResponse";var em=class e{constructor(){this.__messageType=e.TYPE}};function eE({data:e,...t}){let r=JSON.stringify({data:e,...t},(e,t)=>"data"===e?j(t):t);return j(new TextEncoder().encode(r))}function ev(e){let t=JSON.stringify(e,(e,t)=>{switch(e){case"body":return eE(t);case"clientIdentityKey":case"signature":return j(t.toUint8Array());default:return t}});return _(new TextEncoder().encode(t))}em.TYPE="PromptUnauthorizedError";var eb=r(34701).Buffer,eI=class extends Error{},eT=class e extends eI{constructor(t,r){super(t),this.field=r,this.name="EnvelopeMessageMismatchError",Object.setPrototypeOf(this,e.prototype)}},eN=class e extends eI{constructor(t){super(t),this.name="DecryptionError",Object.setPrototypeOf(this,e.prototype)}},eS=((u=eS||{}).Ed25519PublicKey="Ed25519PublicKey",u.Ed25519SecretKey="Ed25519SecretKey",u.X25519PublicKey="X25519PublicKey",u.X25519SecretKey="X25519SecretKey",u);function eU(e,t){return{key:e,type:t}}function ex(e){return globalThis.Buffer?new Uint8Array(eb.from(e,"base64")):Uint8Array.from(atob(e),e=>e.codePointAt(0))}function ek(e){return globalThis.Buffer?eb.from(e).toString("base64"):btoa(Array.from(e,e=>String.fromCodePoint(e)).join(""))}function eC(e,t){let r=new Uint8Array((0,z.DZ)(`APTOS::IDENTITY_CONNECT::${t}::`));return new Uint8Array((0,z.DZ)(function(e,t){let r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}(r,e)))}var eD=["receiverEd25519PublicKeyB64","senderEd25519PublicKeyB64","senderX25519PublicKeyB64","sequence","timestampMillis"].sort();function eO(e,t){let r=Object.keys(e).filter(e=>Object.keys(t).includes(e));if(r.length>0){let e=r[0];throw new eT(`Field ${e} appears in both private and public message fields`,e)}}function eM(e){let t=Object.keys(e).sort(),r=t.filter(e=>!eD.includes(e)),n=eD.filter(e=>!t.includes(e));if(r.length>0||n.length>0){let e=r.length>0?`extra(${r.join(", ")})`:"",t=n.length>0?`missing(${n.join(", ")})`:"";throw e=e.length>0&&t.length>0?`${e}, `:e,new eT(`PublicMessage metadata fields do not conform to spec: ${e}${t}`,"_metadata")}}function eP(e,t,r,n,i,s){var o,a;let l={publicKey:eU((o=R.box.keyPair()).publicKey,"X25519PublicKey"),secretKey:eU(o.secretKey,"X25519SecretKey")},c=(a=l.publicKey,{receiverEd25519PublicKeyB64:ek(r.key),senderEd25519PublicKeyB64:ek(t.key),senderX25519PublicKeyB64:ek(a.key),sequence:n,timestampMillis:Date.now()});return eM(c),eO(s,i),function(e,t,r,n,i,s){var o;let a={nonceB64:ek((o=function(e,t,r){let n=R.randomBytes(R.box.nonceLength),i=new TextEncoder().encode(r),s=R.box(i,n,t.key,e.key.slice(0,32));return{nonce:n,secured:s}}(s.secretKey,function(e,t){let r=B.convertPublicKey(e.key.slice(0,32));if(!r)throw Error(`${t} is not a valid Ed25519 public key`);return eU(r,"X25519PublicKey")}(t,"receiver public key"),JSON.stringify(n))).nonce),securedB64:ek(o.secured)},l=ex(a.securedB64),c=JSON.stringify({...i,_metadata:r});return{encryptedPrivateMessage:a,messageSignature:function(e,t,r){var n,i;let s=(n=eL(e,t),i="SECURED_ENVELOPE",R.sign.detached(eC(n,i),r.key));return L.pUe.fromHexInput(s).toString()}(new TextEncoder().encode(c),l,e),serializedPublicMessage:c}}(e,r,c,s,i,l)}function eL(e,t){let r=(0,z.DZ)(e),n=(0,z.DZ)(t),i=new Uint8Array(r.length+n.length);return i.set(r),i.set(n,r.length),(0,z.DZ)(i)}function ez(e){let t=K(e);return Q(new L.ZKs(t))}var eR=((h=eR||{}).ADD="add",h.REMOVE="remove",h);class eB extends Error{constructor(e,t,r){super("object"==typeof t?t.message:t||e,{cause:"object"==typeof t?t.cause:r}),this.type=e,this.name="TypedError",Object.setPrototypeOf(this,eB.prototype)}}let eK="ERR_PARSE";function ej(e){let t=e;if("string"==typeof t)try{t=JSON.parse(t)}catch(e){throw new eB("ERR_INVALID_VALUE",{cause:e})}if("object"!=typeof t||!t||Array.isArray(t))throw new eB("ERR_UNEXPECTED_VALUE");return t}function e_(e,t){return r=>{let n=n=>{if(!(r&&void 0===n))try{return t(n)}catch(t){throw new eB(eK,{message:`"${e}" transformer failed to parse the value`,cause:t})}};return Object.assign(n,{isValid(e){try{return n(e),!0}catch{return!1}}})}}function eF(e,t){return e_(t||"object",t=>{let r=ej(t);return function(e,t){let r={};for(let n in e){let i,s;let o=e[n];if(o){"function"==typeof o?(i=n,s=o):[i,s]=o;try{let e=s(t(i));void 0!==e&&(r[n]=e)}catch(e){throw new eB(eK,`Parser for "${n}" property failed${i===n?"":`. Source field: "${i}"`}`,e)}}}return r}(e,e=>r[e])})}function eq(e){throw new eB("ERR_UNEXPECTED_TYPE",`Unexpected value received: ${JSON.stringify(e)}`)}let eH=e_("boolean",e=>{if("boolean"==typeof e)return e;let t=String(e);return"1"===t||"true"===t||"0"!==t&&"false"!==t&&void eq(e)}),eQ=e_("string",e=>{if("string"==typeof e||"number"==typeof e)return e.toString();eq(e)}),eV=e_("number",e=>{if("number"==typeof e)return e;if("string"==typeof e){let t=Number(e);if(!Number.isNaN(t))return t}eq(e)});e_("date",e=>e instanceof Date?e:new Date(1e3*eV()(e)));let eY=e_("rgb",e=>(function(e){let t=e.replace(/\s/g,"").toLowerCase();if(/^#[\da-f]{6}$/i.test(t))return t;if(/^#[\da-f]{3}$/i.test(t)){let e="#";for(let r=0;r<3;r+=1)e+=t[1+r].repeat(2);return e}let r=t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!r)throw Error(`Value "${e}" does not satisfy any of known RGB formats.`);return r.slice(1).reduce((e,t)=>{let r=parseInt(t,10).toString(16);return e+(1===r.length?"0":"")+r},"#")})(eQ()(e)));e_("themeParams",e=>{let t=eY(!0);return Object.entries(ej(e)).reduce((e,[r,n])=>(e[r.replace(/_[a-z]/g,e=>e[1].toUpperCase())]=t(n),e),{})}),eF({eventType:eQ(),eventData:e=>e},"miniAppsMessage");let eZ=e_("fn",e=>{if("function"==typeof e)return e;eq(e)}),eG=eF({TelegramWebviewProxy:eF({postEvent:eZ()})()});class eW extends Error{constructor(e,t,r){super("object"==typeof t?t.message:t||e,{cause:"object"==typeof t?t.cause:r}),this.type=e,this.name="TypedError",Object.setPrototypeOf(this,eW.prototype)}}function eJ(e){return t=>t instanceof eW&&t.type===e}function eX(e,t){t||(t={});let r=t.equals||Object.is,n=[],i=e,s=e=>{if(!r(i,e)){let t=i;i=e,[...n].forEach(([r,n])=>{r(e,t),n&&a(r,!0)})}};function o(e){let t="object"!=typeof e?{once:e}:e;return{once:t.once||!1,signal:t.signal||!1}}let a=(e,t)=>{let r=o(t),i=n.findIndex(([t,n])=>t===e&&n.once===r.once&&n.signal===r.signal);i>=0&&n.splice(i,1)},l=Object.assign(function(){return e$.length&&e$[e$.length-1].add(l),i},{destroy(){n=[]},set:s,reset(){s(e)},sub:(e,t)=>(n.push([e,o(t)]),()=>a(e,t)),unsub:a,unsubAll(){n=n.filter(e=>e[1].signal)}});return l}eJ("ERR_TIMED_OUT"),eJ("ERR_ABORTED"),eJ("ERR_CANCELED");let e$=[],[e5,e1]=function(e,t){t||(t={});let{textColor:r,bgColor:n,shouldLog:i=!0}=t;function s(t,...o){if(!i||"function"==typeof i&&!i())return;let a="font-weight:bold;padding:0 5px;border-radius:5px";console[t](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${e}`,`${a};background-color: lightblue;color:black`,"",`${a};${r?`color:${r};`:""}${n?`background-color:${n}`:""}`,...o)}return[function(...e){s("log",...e)},function(...e){s("error",...e)}]}("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog:eX(!1)});eF({req_id:eQ(),data:e=>null===e?e:eQ(!0)(e)},"clipboard_text_received"),eF({req_id:eQ(),result:e=>e,error:eQ(!0)},"custom_method_invoked"),e_("popup_closed",e=>e?eF({button_id:e=>null==e?void 0:eQ()(e)})()(e):{}),eF({height:eV(),width:e=>null==e?window.innerWidth:eV()(e),is_state_stable:eH(),is_expanded:eH()},"viewport_changed");let e0=eX("https://web.telegram.org");var e2={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let e6=new Uint8Array(16),e3=[];for(let e=0;e<256;++e)e3.push((e+256).toString(16).slice(1));var e4=function(e,t,r){if(e2.randomUUID&&!t&&!e)return e2.randomUUID();let i=(e=e||{}).random||(e.rng||function(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(e6)})();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=i[e];return t}return function(e,t=0){return e3[e[t+0]]+e3[e[t+1]]+e3[e[t+2]]+e3[e[t+3]]+"-"+e3[e[t+4]]+e3[e[t+5]]+"-"+e3[e[t+6]]+e3[e[t+7]]+"-"+e3[e[t+8]]+e3[e[t+9]]+"-"+e3[e[t+10]]+e3[e[t+11]]+e3[e[t+12]]+e3[e[t+13]]+e3[e[t+14]]+e3[e[t+15]]}(i)},e8={height:695,width:465},e9=m.serialize({status:"dismissed"}),e7=class extends Error{constructor(){super("Unauthorized")}};async function te(e,t){return new Promise((r,n)=>{let i={onMessage:s=>{if(s.source===t&&s.origin===e){if(eg(em,s.data)){window.removeEventListener("message",i.onMessage),clearTimeout(i.promptPollerId),n(new e7);return}if(eg(ey,s.data)){t.postMessage(new eA,e);return}eg(ew,s.data)&&(window.removeEventListener("message",i.onMessage),clearTimeout(i.promptPollerId),r(s.data.serializedValue))}},promptPollerId:setInterval(()=>{t.closed&&(window.removeEventListener("message",i.onMessage),clearTimeout(i.promptPollerId),r(e9))},500)};window.addEventListener("message",i.onMessage)})}var tt="@aptos-connect/dapp-local-state";function tr(){let e=window.localStorage.getItem(tt);return e?function(e){let t=new L.ZKs(e),r=t.deserializeUleb128AsU32(),n=[];for(let e=0;e<r;e+=1)n.push(Y(t));return{connectedAccounts:n}}(K(e)):{connectedAccounts:[]}}function tn(e){let t=j(function(e){let t=new L.ei2;for(let r of(t.serializeU32AsUleb128(e.connectedAccounts.length),e.connectedAccounts))V(t,r);return t.toUint8Array()}(e));window.localStorage.setItem(tt,t)}function ti(){return tr().connectedAccounts}async function ts(e,t){let r=_(t.clientIdentityKey.toUint8Array());if(!(await fetch(`${e}/v1/dapp/clients/${r}/requests/`,{body:JSON.stringify({body:eE(t.body),id:t.id,signature:j(t.signature.toUint8Array()),timestamp:t.timestamp}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"post"})).ok)throw Error("Failed creating the wallet request")}var to="@aptos-connect/client-identity-key",ta=5*6e4;function tl(e){let t;let r=()=>{},n=new Promise(n=>{t=setTimeout(n,e),r=()=>{clearTimeout(t),n()}});return n.cancel=r,n}async function tc(e){let t;let r=!1,n=3e3,i=()=>{r=!0,n=2e3,t?.cancel()};window.addEventListener("focus",i),window.addEventListener("blur",()=>{n=3e3});try{let i=Date.now();for(;Date.now()-i<ta;){t=tl(n),await t,r&&(t=tl(300),await t);let i=await e();if(200===i.status)return i;r=!1}throw Error("Timeout")}finally{window.removeEventListener("focus",i),window.removeEventListener("blur",i)}}async function tu(e,t,r){let n=_(t.toUint8Array()),i=new URL(`${e}/v1/dapp/clients/${n}/requests/${r}/response/`),s=await tc(()=>fetch(i,{headers:{Accept:"application/json"},method:"get"}));return{data:K((await s.json()).data.body)}}async function th(e){let{baseUrl:t,request:r,tgWebAppUrl:n="/AptosConnectBot/AptosConnect"}=e,i=function(){let e=window.localStorage.getItem(to);if(e)return new L.qN7(e);let t=L.qN7.generate();return window.localStorage.setItem(to,t.toString()),t}(),s=i.publicKey(),o=e4(),a=Date.now(),l=function({accountAddress:e,body:t,id:r,timestamp:n}){let i=new L.ei2;return i.serializeStr("SignedPopupWalletRequest"),i.serializeStr(r),i.serializeU64(n),i.serializeBool(void 0!==e),void 0!==e&&i.serialize(L.kxK.from(e)),i.serializeStr(t.name),i.serializeU8(t.version),i.serializeBytes(t.data),i.toUint8Array()}({body:r,id:o,timestamp:a}),c=i.sign(l),u={body:r,clientIdentityKey:s,id:o,signature:c,timestamp:a},h=ev(u);return h.length>1024&&(ts(t,u),h=ev({clientIdentityKey:s,id:o,signature:c,timestamp:a})),!function(e,t){e5("Posting event:",t?{eventType:e,eventData:t}:{eventType:e});let r=window;if(eG().isValid(r)){r.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));return}let n=JSON.stringify({eventType:e,eventData:t});if(function(){try{return window.self!==window.top}catch{return!0}}())return r.parent.postMessage(n,e0());let{external:i}=r;if(eF({notify:eZ()})().isValid(i)){i.notify(n);return}throw new eW("ERR_UNKNOWN_ENV")}("web_app_open_tg_link",{path_full:`${n}?startapp=${h}`}),tu(t,s,o)}var td=class{constructor(e,t="google",r){this.baseUrl=e,this.provider=t,this.tgWebAppUrl=r,this.baseUrl=e}async sendPromptRequest(e){if(void 0!==window.TelegramWebviewProxy)return th({baseUrl:this.baseUrl,request:e,tgWebAppUrl:this.tgWebAppUrl});let t=new URL(`${this.baseUrl}/prompt/`);t.searchParams.set("request",function(e){let t=new L.ei2;return t.serializeStr(e.name),t.serializeBytes(e.data),t.serializeStr(e.version.toString()),j(t.toUint8Array())}(e)),t.searchParams.set("provider",this.provider);let r=function(e,t=e8){let{height:r,width:n}=t,i=Object.entries({height:r,left:window.screenLeft+Math.round((window.outerWidth-n)/2),popup:!0,top:window.screenTop+Math.round((window.outerHeight-r)/2),width:n}).map(([e,t])=>`${e}=${JSON.stringify(t)}`).reduce((e,t)=>`${e}, ${t}`),s=e instanceof URL?e.href:e,o=window.open(s,void 0,i);if(null===o)throw Error("Couldn't open prompt");return o}(t);return te(this.baseUrl,r)}async sendRequest(e){switch(e.name){case T.name:{let e=ti();return N.serialize(e.length>0)}case b.name:{let e=ti();return I.serialize(e)}case w.name:{let t=await this.sendPromptRequest(e),r=m.deserialize(t);if("approved"===r.args.status){let{account:e,pairing:t}=r.args.args;void 0===t&&function(e){let{connectedAccounts:t,...r}=tr();t.push(e),tn({...r,connectedAccounts:t})}(e)}return t}case E.name:{let[e]=ti();return e&&function(e){let{connectedAccounts:t,...r}=tr(),n=t.findIndex(t=>t.address.equals(e));n>=0&&t.splice(n,1),tn({...r,connectedAccounts:t})}(e.address),v.serialize({})}case x.name:case C.name:case S.name:return this.sendPromptRequest(e);default:throw Error("Unexpected request")}}},tf=((d=tf||{}).DEVNET="devnet",d.MAINNET="mainnet",d.TESTNET="testnet",d),tp=((f=tp||{}).Finalized="FINALIZED",f.Pending="PENDING",f),tg=((p=tg||{}).SIGN_AND_SUBMIT_TRANSACTION="SIGN_AND_SUBMIT_TRANSACTION",p.SIGN_MESSAGE="SIGN_MESSAGE",p.SIGN_TRANSACTION="SIGN_TRANSACTION",p),ty=((g=ty||{}).APPROVED="APPROVED",g.CANCELLED="CANCELLED",g.INVALID="INVALID",g.PENDING="PENDING",g.REJECTED="REJECTED",g),tA=((y=tA||{}).Android="android",y.IdentityConnect="ic",y.Linux="linux",y.Macos="osx",y.Windows="win",y.iOS="ios",y),tw=((A=tw||{}).BraveExtension="brave-extension",A.ChromeExtension="chrome-extension",A.FirefoxExtension="firefox-extension",A.IcDappWallet="ic-dapp-wallet",A.KiwiExtension="kiwi-extension",A.NativeApp="native-app",A.OperaExtension="opera-extension",A.SafariExtension="safari-extension",A),tm=r(7458);function tE(e){return e?.serialize!==void 0&&e?.bcsToBytes!==void 0&&e?.bcsToHex!==void 0}function tv(e){return e?.serialize!==void 0||tE(e)}function tb(e){if(tE(e))return e.bcsToHex().toString();let t=tm.Ce.bcsToBytes(e);return L.pUe.fromHexInput(t).toString()}function tI(e,t){let r=L.pUe.fromHexString(t).toUint8Array(),n=new L.ZKs(r);return e.deserialize(n)}var tT=class e extends Error{constructor(t){super(t),this.name="UnexpectedValueError",Object.setPrototypeOf(this,e.prototype)}};function tN(e){return e instanceof Uint8Array?{type:"Uint8Array",value:L.pUe.fromHexInput(e).toString()}:Array.isArray(e)?e.map(tN):e}function tS(e){let t=e.arguments.map(tN);return{...e,arguments:t,type:"entry_function_payload"}}function tU(e){if("entry_function_payload"===e.type||void 0===e.type)return tS(e);if("multisig_payload"===e.type){let t=void 0!==e.transaction_payload?tS(e.transaction_payload):void 0;return{...e,transaction_payload:t}}throw new tT}function tx(e){let t=tb(e);if("fee_payer_address"in e)return{type:"fee_payer_raw_txn",value:t};if("secondary_signer_addresses"in e)return{type:"multi_agent_raw_txn",value:t};if("chain_id"in e)return{type:"raw_txn",value:t};throw new tT("Invalid raw transaction type")}var tk=r(90030);let{Axios:tC,AxiosError:tD,CanceledError:tO,isCancel:tM,CancelToken:tP,VERSION:tL,all:tz,Cancel:tR,isAxiosError:tB,spread:tK,toFormData:tj,AxiosHeaders:t_,HttpStatusCode:tF,formToJSON:tq,getAdapter:tH,mergeConfig:tQ}=tk.default;var tV="https://aptosconnect.app";function tY(e,t){if("bcsToBytes"in e)return e;if("bytecode"in e)return(0,L.yDq)(e);if(t)return void 0!==e.abi?(0,L.qML)({...e,abi:e.abi}):(0,L.yDq)({aptosConfig:t,...e});let r={arguments:e.functionArguments.map(function e(t){if(null==t)return t;if(Array.isArray(t))return t.map(t=>e(t));if("string"==typeof t||"number"==typeof t||"boolean"==typeof t||t instanceof Uint8Array)return t;if("bigint"==typeof t)return t.toString();if(t instanceof ArrayBuffer)return new Uint8Array(t);if("values"in t)return t.values.map(t=>e(t));if("data"in t)return L.kxK.from(t.data).toString();if(void 0!==t.value){if("string"==typeof t.value||"number"==typeof t.value||"boolean"==typeof t.value||t.value instanceof Uint8Array)return t.value;if("bigint"==typeof t.value)return t.value.toString();throw Error("Unexpected argument")}}),function:e.function,type:"entry_function_payload",type_arguments:(e.typeArguments??[]).map(e=>e.toString())};return"multisigAddress"in e?{multisig_address:L.kxK.from(e.multisigAddress).toString(),transaction_payload:r,type:"multisig_payload"}:r}var tZ=class e extends Error{constructor(t){super(t),this.name="SignatureRequestError",Object.setPrototypeOf(this,e.prototype)}},tG=class e extends Error{constructor(t){super(`Missing the following fields: ${t.join(", ")}`),this.name="UnexpectedSignatureResponseError",Object.setPrototypeOf(this,e.prototype)}},tW=class e extends Error{constructor(){super(),this.name="PairingExpiredError",Object.setPrototypeOf(this,e.prototype)}},tJ="icDappPairings",tX={async get(e){return(await this.getAll())[e]},async getAll(){let e=window.localStorage.getItem(tJ);return e?JSON.parse(e):{}},async update(e,t){let r=await this.getAll();void 0===t?delete r[e]:r[e]=t;let n=JSON.stringify(r);window.localStorage.setItem(tJ,n)}},t$=["address","application","chainId","fullMessage","message","nonce","prefix","signature"],t5=["hash"],t1=/^Sequence number mismatch, expected (?:\S+ to be )?(\d+)/;async function t0(e){return new Promise(t=>{setTimeout(t,e)})}async function t2(e,t,r=1){for(let n=0;n<r;n+=1)try{return await e()}catch(e){t(e)}return e()}var t6=class{constructor({accessors:e=tX,axiosConfig:t,defaultNetworkName:r=tf.MAINNET}={}){this.onDisconnectListeners=new Set,this.accessors=e,this.defaultNetworkName=r,this.axiosInstance=tk.default.create({baseURL:tV,...t});let n="undefined"!=typeof window;this.initPromise=n?this.syncFirstPairing():void 0}async getPairing(e){return(await this.axiosInstance.get(`v1/pairing/${e}/`)).data.data.pairing}async syncFirstPairing(){let e=Object.values(await this.accessors.getAll())[0];if(void 0!==e)try{let{dappSpecificWallet:t,maxDappSequenceNumber:r}=await this.getPairing(e.pairingId);await this.accessors.update(e.accountAddress,{...e,currSequenceNumber:r,dappWalletId:t?.id})}catch(t){await this.accessors.update(e.accountAddress,void 0)}}async createSigningRequest(e,t,r,n){let i=ex(e.dappEd25519SecretKeyB64),s=ex(e.dappEd25519PublicKeyB64),o=ex(e.accountTransportEd25519PublicKeyB64),a=e.currSequenceNumber+1;return t2(async()=>{let l=await eP(eU(i,eS.Ed25519SecretKey),eU(s,eS.Ed25519PublicKey),eU(o,eS.Ed25519PublicKey),a,{apiVersion:"0.2.0",networkName:r,requestType:t},n),c=await this.axiosInstance.post(`v1/pairing/${e.pairingId}/signing-request/`,l);return await this.accessors.update(e.accountAddress,{...e,currSequenceNumber:a}),c.data.data.signingRequest},e=>{if(tB(e)){let t=e.response?.data?.message,r=t?.match(t1)?.[1];if(void 0!==r){a=Number(r);return}}throw e})}async getSigningRequest(e){let t=await this.axiosInstance.get(`v1/signing-request/${e}/`,{validateStatus:e=>200===e||404===e});return t.data?.data?.signingRequest}async deletePairing(e,t,r){let n=await eP(t,r,r,0,{},{});await this.axiosInstance.post(`v1/pairing/${e}/delete/`,n,{validateStatus:e=>204===e||404===e})}async cancelSigningRequest(e,t){let r=e.currSequenceNumber,n=ex(e.dappEd25519SecretKeyB64),i=ex(e.dappEd25519PublicKeyB64),s=ex(e.accountTransportEd25519PublicKeyB64),o=await eP(eU(n,eS.Ed25519SecretKey),eU(i,eS.Ed25519PublicKey),eU(s,eS.Ed25519PublicKey),r+1,{},{}),a=await this.axiosInstance.patch(`v1/signing-request/${t}/cancel/`,o);return await this.accessors.update(e.accountAddress,{...e,currSequenceNumber:r+1}),a.data.data.signingRequest}async signRequest(e,t,r,{cancelToken:n,networkName:i}={}){let s;await this.initPromise;let o=await this.accessors.get(e);if(void 0===o)throw Error("The requested account is not paired");try{for(s=await this.createSigningRequest(o,t,i||this.defaultNetworkName,r);"PENDING"===s.status;){if(await t0(2500),n?.cancelled){s.status=ty.CANCELLED;break}s=await this.getSigningRequest(s.id)??s}}catch(t){if(tB(t)&&"404"===t.code){for(let t of(await this.accessors.update(e,void 0),this.onDisconnectListeners))t(e);throw new tW}throw t}if("APPROVED"!==s.status)throw new tZ(s.status);return function(e,t,r){var n,i;let{encryptedPrivateMessage:s,messageSignature:o,serializedPublicMessage:a}=r,l=JSON.parse(a),c=ex(s.securedB64);if(!function(e,t,r,n){var i,s;let o=new L.AoU(L.pUe.fromHexInput(r).toUint8Array()),a=new L.EZS(n.key);if(i=eL(e,t),s="SECURED_ENVELOPE",!a.verifySignature({message:eC(i,s),signature:o}))throw new eT("Could not verify SecuredEnvelope signature","messageSignature")}(new TextEncoder().encode(a),c,o,e),ek(e.key)!==l._metadata.senderEd25519PublicKeyB64)throw new eT("senderEd25519PublicKey in envelope does not match provided receiverEd25519SecretKey","senderPublicKey");let u=eU(ex(l._metadata.senderX25519PublicKeyB64),"X25519PublicKey"),h={nonce:ex(s.nonceB64),secured:ex(s.securedB64)},d=(n=h.secured,i=h.nonce,JSON.parse(function(e,t,r,n){let i;try{i=R.box.open(r,n,e.key.slice(0,32),t.key.slice(0,32))}catch(e){throw new eN(`Could not decrypt message: ${e.message}`)}if(!i)throw new eN("Could not decrypt message");return new TextDecoder().decode(i)}(u,eU(B.convertSecretKey(t.key.slice(0,32)),"X25519SecretKey"),n,i)));return eM(l._metadata),eO(d,l),{messageSignature:o,privateMessage:d,publicMessage:l}}(eU(ex(o.accountTransportEd25519PublicKeyB64),eS.Ed25519PublicKey),eU(ex(o.dappEd25519SecretKeyB64),eS.Ed25519SecretKey),s.responseEnvelope).privateMessage}async addPairing({publicKey:e,secretKey:t},r){await this.accessors.update(r.account.accountAddress,{accountAddress:r.account.accountAddress,accountAlias:r.account.userSubmittedAlias??void 0,accountPublicKeyB64:r.account.publicKeyB64,accountTransportEd25519PublicKeyB64:r.account.transportEd25519PublicKeyB64,currSequenceNumber:r.maxDappSequenceNumber,dappEd25519PublicKeyB64:ek(e.key),dappEd25519SecretKeyB64:ek(t.key),dappWalletId:r.dappSpecificWalletId,pairingId:r.id})}async disconnect(e){let t=await this.accessors.get(e);if(void 0===t)throw Error("The specified account is not paired");let r=ex(t.dappEd25519SecretKeyB64),n=ex(t.dappEd25519PublicKeyB64);for(let i of(await this.deletePairing(t.pairingId,eU(r,eS.Ed25519SecretKey),eU(n,eS.Ed25519PublicKey)),await this.accessors.update(e,void 0),this.onDisconnectListeners))i(e)}async signMessage(e,t,r){let n=await this.signRequest(e,tg.SIGN_MESSAGE,t,r);return!function(e){let t=new Set(Object.keys(e)),r=t$.filter(e=>!t.has(e));if(r.length>0)throw new tG(r)}(n),n}async signTransaction(e,t,r){let n=function(e){if("payload"in e){let t=tv(e.payload)?tb(e.payload):tU(e.payload);return{options:e.options,payload:t}}if("rawTxn"in e)return{rawTxn:tx(e.rawTxn)};throw new tT}(t);return function(e){let t=tI(L.LLd,e.accountAuthenticator);return"rawTxn"in e?{accountAuthenticator:t,rawTxn:tI(L.S75,e.rawTxn)}:{accountAuthenticator:t}}(await this.signRequest(e,tg.SIGN_TRANSACTION,n,r))}async signAndSubmitTransaction(e,t,r){let n=function(e){if("payload"in e){let t=tv(e.payload)?tb(e.payload):tU(e.payload);return{options:e.options,payload:t}}if("feePayerAuthenticator"in e)return{feePayerAuthenticator:tb(e.feePayerAuthenticator),rawTxn:tx(e.rawTxn)};if("rawTxn"in e)return{rawTxn:tx(e.rawTxn)};throw new tT}(t);try{let t=await this.signRequest(e,tg.SIGN_AND_SUBMIT_TRANSACTION,n,r);return!function(e){let t=new Set(Object.keys(e)),r=t5.filter(e=>!t.has(e));if(r.length>0)throw new tG(r)}(t),t}catch(e){if(e instanceof tD&&e.response?.data?.message)throw Error(e.response?.data?.message);throw e}}async getConnectedAccounts(){return await this.initPromise,Object.values(await this.accessors.getAll()).map(({accountAddress:e,accountEd25519PublicKeyB64:t,accountPublicKeyB64:r})=>({address:L.kxK.from(e),publicKey:void 0!==r?ez(r):new L.EZS(ex(t))}))}onDisconnect(e){return this.onDisconnectListeners.add(e),()=>this.onDisconnectListeners.delete(e)}},t3=class{constructor({backendBaseURL:e,dappId:t,dappImageURI:r,dappName:n,defaultNetworkName:i=tf.MAINNET,frontendBaseURL:s=tV,provider:o="google",tgWebAppURL:a}={}){this.defaultNetworkName=i,this.dappInfo={domain:window.location.origin,imageURI:r,name:n??document.title},this.transport=new td(s,o,a),this.dappId=t,this.pairingClient=new t6({axiosConfig:{baseURL:e??s},defaultNetworkName:i})}async getKeylessAccounts(){let e=b.serialize(this.dappInfo),t=await this.transport.sendRequest(e);return I.deserialize(t).args}async getIcAccounts(){return this.pairingClient.getConnectedAccounts()??[]}async isIcAccount(e){return void 0!==(await this.getIcAccounts()).find(t=>t.address.equals(L.kxK.from(e)))}async getConnectedAccounts(){return[...await this.getKeylessAccounts(),...await this.getIcAccounts()]}async disconnect(e){if(await this.isIcAccount(e)){let t=L.kxK.from(e).toString();await this.pairingClient.disconnect(t)}else{let e=E.serialize(this.dappInfo);await this.transport.sendRequest(e)}}async connect({claimOptions:e,preferredWalletName:t}={}){var r;let n={publicKey:eU((r=R.sign.keyPair()).publicKey,"Ed25519PublicKey"),secretKey:eU(r.secretKey,"Ed25519SecretKey")},i="undefined"!=typeof window?window.AC_PREFERRED_WALLET_NAME:void 0,s={claimOptions:e,dappEd25519PublicKeyB64:ek(n.publicKey.key),dappId:this.dappId,preferredWalletName:t??i},o=w.serialize(this.dappInfo,s),a=await this.transport.sendRequest(o),l=m.deserialize(a);if("approved"===l.args.status){let{account:e,pairing:t}=l.args.args;return t&&await this.pairingClient.addPairing(n,t),eu({account:e})}return l.args}async signMessage(e){let{signerAddress:t}=e;if(await this.isIcAccount(t)){let r,n;let{chainId:i}=e,s=F(i);try{r=new TextDecoder().decode(e.message),n=new TextDecoder().decode(e.nonce)}catch(e){throw Error("Only UTF-8 encoded text is supported when using IC")}let{fullMessage:o,signature:a}=await this.pairingClient.signMessage(t.toString(),{address:!0,application:!0,chainId:!0,message:r,nonce:n},{networkName:s}),l=L.pUe.fromHexInput(a).toUint8Array();return eu({fullMessage:o,signature:l.length===L.AoU.LENGTH?new L.AoU(l):L.A1I.deserialize(new L.ZKs(l))})}let r=x.serialize(this.dappInfo,e),n=await this.transport.sendRequest(r);return k.deserialize(n).args}async signTransaction(e){let t="transaction"in e?C.normalizeArgs(e):e,{signerAddress:r}=e;if(await this.isIcAccount(r)){let{expirationSecondsFromNow:e,expirationTimestamp:n,feePayer:i,gasUnitPrice:s,maxGasAmount:o,network:a,payload:l,secondarySigners:c,sender:u,sequenceNumber:h}=t;if(void 0!==i)throw Error("Sponsored transaction not currently supported");if(c&&c.length>0)throw Error("Multi-agent transactions not currently supported");if(!("bcsToBytes"in l))throw Error("Payload input format is only supported with Keyless accounts.");let d=await this.pairingClient.signTransaction(r.toString(),{options:{expirationSecondsFromNow:e,expirationTimestamp:n,gasUnitPrice:s,maxGasAmount:o,sender:u?.address.toString(),sequenceNumber:void 0!==h?Number(h):void 0},payload:l},{networkName:a});return eu({authenticator:d.accountAuthenticator,rawTransaction:d.rawTxn})}let n=C.serialize(this.dappInfo,t),i=await this.transport.sendRequest(n);return D.deserialize(i).args}async signAndSubmitTransaction(e){let{signerAddress:t}=e;if(await this.isIcAccount(t)){let r;let{expirationTimestamp:n,feePayer:i,gasUnitPrice:s,maxGasAmount:o,network:a}=e,l=new L.ScN({network:a});if(void 0!==i){let n=await tY(e.payload,l),a=await (0,L.VPS)({aptosConfig:l,feePayerAddress:i.address,options:{gasUnitPrice:s,maxGasAmount:o},payload:n,sender:t});r={feePayerAuthenticator:i.authenticator,rawTxn:new L.A63(a,[],i.address)}}else r={options:{expirationTimestamp:n,gasUnitPrice:s,maxGasAmount:o},payload:tY(e.payload)};let{hash:c}=await this.pairingClient.signAndSubmitTransaction(t.toString(),r,{networkName:a});return eu({txnHash:c})}let r=S.serialize(this.dappInfo,e),n=await this.transport.sendRequest(r);return U.deserialize(n).args}},t4=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},t8=(e,t,r)=>(t4(e,t,"read from private field"),r?r.call(e):t.get(e)),t9=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},t7=(e,t,r,n)=>(t4(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),re=class{constructor({address:e,ansName:t,publicKey:r}){this.chains=P.xE,this.features=[],t9(this,O,void 0),t9(this,M,void 0),t7(this,M,r),t7(this,O,e),this.label=t}get address(){return t8(this,O).toString()}get publicKey(){return t8(this,M).toUint8Array()}get signingScheme(){if(t8(this,M) instanceof L.EZS)return L.E62.Ed25519;if(t8(this,M) instanceof L.ZSy)return L.E62.MultiEd25519;if(t8(this,M) instanceof L.qxW)return L.E62.SingleKey;if(t8(this,M) instanceof L.mFj)return L.E62.MultiKey;throw Error("Unsupported public key type")}};function rt({address:e,name:t,publicKey:r}){return new P.wP({address:e,ansName:t,publicKey:r})}function rr(e,t){return"dismissed"===e.status?{status:P.qk.REJECTED}:{args:t(e.args),status:P.qk.APPROVED}}O=new WeakMap,M=new WeakMap;var rn=class e{constructor({claimSecretKey:e,network:t=L.ZcK.MAINNET,preferredWalletName:r,...n}){if(this.version="1.0.0",this.chains=P.xE,this.client=new t3(n),!L.sAp[t])throw Error("Network not supported");let i=new L.ScN({network:t});this.aptosClient=new L.gZG(i),this.preferredWalletName=r,this.claimOptions=e?{network:t,secretKey:new L.qN7(e)}:void 0}static get connectedAccount(){let t=localStorage.getItem(e.connectedAccountStorageKey);if(t)try{let{address:e,publicKey:r}=JSON.parse(t);return new P.wP({address:L.kxK.from(e),publicKey:ez(r)})}catch(e){console.warn("Inconsistent state, resetting it"),this.connectedAccount=void 0;return}}static set connectedAccount(t){if(void 0!==t){let r={address:t.address.toString(),publicKey:function(e){let t=new L.ei2;return H(t,e),j(t.toUint8Array())}(t.publicKey)};localStorage.setItem(e.connectedAccountStorageKey,JSON.stringify(r))}else localStorage.removeItem(e.connectedAccountStorageKey)}get accounts(){let{connectedAccount:t}=e;return t?[new re(t)]:[]}async connect(){let{connectedAccount:t}=e;if(void 0!==t)return{args:t,status:P.qk.APPROVED};let r=await this.client.connect({claimOptions:this.claimOptions,preferredWalletName:this.preferredWalletName});if("dismissed"===r.status)return{status:P.qk.REJECTED};let n=rt(r.args.account);return e.connectedAccount=n,{args:n,status:P.qk.APPROVED}}async disconnect(){let{connectedAccount:t}=e;t&&(await this.client.disconnect(t.address),e.connectedAccount=void 0)}async getAccount(){let{connectedAccount:t}=e;if(!t)throw new P.xl(P.P3.Unauthorized);return rt(t)}async getNetwork(){let{network:e}=this.aptosClient.config,t=await this.aptosClient.getChainId(),r=L.sAp[e];return{chainId:t,name:e,url:r}}async signMessage(t){let{connectedAccount:r}=e;if(!r)throw new P.xl(P.P3.Unauthorized);let n=function(e){switch(e){case L.ZcK.MAINNET:return L.mdu.mainnet;case L.ZcK.TESTNET:return L.mdu.testnet;default:return L.mdu.devnet}}(this.aptosClient.config.network),{message:i,nonce:s}=t,o=new TextEncoder,a=o.encode(i),l=o.encode(s),c=await this.client.signMessage({chainId:n,message:a,nonce:l,signerAddress:r.address});if("dismissed"===c.status)return{status:P.qk.REJECTED};let{fullMessage:u,signature:h}=c.args;return{args:{fullMessage:u,signature:h,address:r.address.toString(),application:this.client.dappInfo.domain,chainId:n,message:i,nonce:s,prefix:"APTOS"},status:P.qk.APPROVED}}async signTransaction(t,r){let{connectedAccount:n}=e;if(!n)throw new P.xl(P.P3.Unauthorized);if("bcsToBytes"in t){let e=t.feePayerAddress?{address:t.feePayerAddress}:void 0,r=t.secondarySignerAddresses?.map(e=>({address:e}));return rr(await this.client.signTransaction({feePayer:e,secondarySigners:r,signerAddress:n.address,transaction:t.rawTransaction}),e=>e.authenticator)}return rr(await this.client.signTransaction({...t,signerAddress:n.address}),e=>{let{authenticator:r,rawTransaction:n}=e;if(!n)throw Error("Expected raw transaction in response args");let i=t.secondarySigners??[];return{authenticator:r,rawTransaction:i.length>0?new L.OqU(n,i.map(e=>e.address),t.feePayer?.address):new L._tO(n,t.feePayer?.address)}})}async signAndSubmitTransaction(t){let{gasUnitPrice:r,maxGasAmount:n,payload:i}=t,{connectedAccount:s}=e;if(!s)throw new P.xl(P.P3.Unauthorized);let o=await this.client.signAndSubmitTransaction({gasUnitPrice:r,maxGasAmount:n,network:this.aptosClient.config.network,payload:i,signerAddress:s.address});return"dismissed"===o.status?{status:P.qk.REJECTED}:{args:{hash:o.args.txnHash},status:P.qk.APPROVED}}async onAccountChange(e){}async onNetworkChange(e){}};rn.connectedAccountStorageKey="@aptos-connect/connectedAccount";var ri=rn,rs=class extends ri{constructor(e){super({...e,provider:"google"}),this.name="Continue with Google",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBjbGFzcz0iaF8yMCB3XzIwIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTIzLjU0IDEyLjc2MTNDMjMuNTQgMTEuOTQ1OSAyMy40NjY4IDExLjE2MTggMjMuMzMwOSAxMC40MDkxSDEyLjVWMTQuODU3NUgxOC42ODkxQzE4LjQyMjUgMTYuMjk1IDE3LjYxMjMgMTcuNTEyOSAxNi4zOTQzIDE4LjMyODRWMjEuMjEzOEgyMC4xMTA5QzIyLjI4NTUgMTkuMjExOCAyMy41NCAxNi4yNjM2IDIzLjU0IDEyLjc2MTNaIiBmaWxsPSIjNDI4NUY0Ij48L3BhdGg+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMi40OTk1IDIzLjk5OThDMTUuNjA0NSAyMy45OTk4IDE4LjIwNzcgMjIuOTcgMjAuMTEwNCAyMS4yMTM3TDE2LjM5MzggMTguMzI4MkMxNS4zNjQgMTkuMDE4MiAxNC4wNDY3IDE5LjQyNTkgMTIuNDk5NSAxOS40MjU5QzkuNTA0MjUgMTkuNDI1OSA2Ljk2OTAyIDE3LjQwMyA2LjA2NDcgMTQuNjg0OEgyLjIyMjY2VjE3LjY2NDRDNC4xMTQ5MyAyMS40MjI4IDguMDA0MDIgMjMuOTk5OCAxMi40OTk1IDIzLjk5OThaIiBmaWxsPSIjMzRBODUzIj48L3BhdGg+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjA2NTIzIDE0LjY4NTFDNS44MzUyMyAxMy45OTUxIDUuNzA0NTUgMTMuMjU4MSA1LjcwNDU1IDEyLjUwMDFDNS43MDQ1NSAxMS43NDIyIDUuODM1MjMgMTEuMDA1MSA2LjA2NTIzIDEwLjMxNTFWNy4zMzU1N0gyLjIyMzE4QzEuNDQ0MzIgOC44ODgwNyAxIDEwLjY0NDQgMSAxMi41MDAxQzEgMTQuMzU1OCAxLjQ0NDMyIDE2LjExMjIgMi4yMjMxOCAxNy42NjQ3TDYuMDY1MjMgMTQuNjg1MVoiIGZpbGw9IiNGQkJDMDUiPjwvcGF0aD48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjQ5OTUgNS41NzM4NkMxNC4xODc5IDUuNTczODYgMTUuNzAzOCA2LjE1NDA5IDE2Ljg5NTYgNy4yOTM2NEwyMC4xOTQgMy45OTUyM0MxOC4yMDI0IDIuMTM5NTUgMTUuNTk5MiAxIDEyLjQ5OTUgMUM4LjAwNDAyIDEgNC4xMTQ5MyAzLjU3NzA1IDIuMjIyNjYgNy4zMzU0NUw2LjA2NDcgMTAuMzE1QzYuOTY5MDIgNy41OTY4MiA5LjUwNDI1IDUuNTczODYgMTIuNDk5NSA1LjU3Mzg2WiIgZmlsbD0iI0VBNDMzNSI+PC9wYXRoPjwvc3ZnPg==",this.url="https://aptosconnect.app"}get features(){return{[P.s8]:{connect:this.connect.bind(this),version:"1.0.0"},[P.TP]:{disconnect:this.disconnect.bind(this),version:"1.0.0"},[P.s]:{account:this.getAccount.bind(this),version:"1.0.0"},[P.n6]:{network:this.getNetwork.bind(this),version:"1.0.0"},[P.ty]:{onAccountChange:this.onAccountChange.bind(this),version:"1.0.0"},[P.A2]:{onNetworkChange:this.onNetworkChange.bind(this),version:"1.0.0"},[P.ff]:{signAndSubmitTransaction:this.signAndSubmitTransaction.bind(this),version:"1.1.0"},[P._3]:{signMessage:this.signMessage.bind(this),version:"1.0.0"},[P.JK]:{signTransaction:this.signTransaction.bind(this),version:"1.1"}}}},ro=class extends ri{constructor(e){super({...e,provider:"apple"}),this.name="Continue with Apple",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxzdHlsZT4KICAgICAgICBwYXRoIHsKICAgICAgICAgICAgZmlsbDogYmxhY2s7CiAgICAgICAgfQoKICAgICAgICBAbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKSB7CiAgICAgICAgICAgIHBhdGggewogICAgICAgICAgICAgICAgZmlsbDogd2hpdGU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICA8L3N0eWxlPgogICAgPHBhdGgKICAgICAgICBkPSJNMjAuMzkzMiA4LjE4MjQyQzIwLjI1NzggOC4yOTA0MyAxNy44NjggOS42NzUzNyAxNy44NjggMTIuNzU0OUMxNy44NjggMTYuMzE2OCAyMC45MDkgMTcuNTc3IDIxIDE3LjYwODJDMjAuOTg2IDE3LjY4NSAyMC41MTY5IDE5LjMzMzkgMTkuMzk2NiAyMS4wMTQxQzE4LjM5NzcgMjIuNDkyNiAxNy4zNTQ1IDIzLjk2ODggMTUuNzY3NSAyMy45Njg4QzE0LjE4MDQgMjMuOTY4OCAxMy43NzIgMjMuMDIwNyAxMS45Mzk5IDIzLjAyMDdDMTAuMTU0NSAyMy4wMjA3IDkuNTE5NzIgMjQgOC4wNjgwNSAyNEM2LjYxNjM5IDI0IDUuNjAzNDkgMjIuNjMxOSA0LjQzODg5IDIwLjk1MTdDMy4wODk5MiAxOC45Nzg3IDIgMTUuOTEzNiAyIDEzLjAwNDVDMiA4LjMzODQzIDQuOTUwMDEgNS44NjM3OSA3Ljg1MzM0IDUuODYzNzlDOS4zOTYwMiA1Ljg2Mzc5IDEwLjY4MiA2LjkwNTQ5IDExLjY1MDUgNi45MDU0OUMxMi41NzI0IDYuOTA1NDkgMTQuMDEwMSA1LjgwMTM4IDE1Ljc2NTEgNS44MDEzOEMxNi40MzAzIDUuODAxMzggMTguODIwMiA1Ljg2Mzc5IDIwLjM5MzIgOC4xODI0MlpNMTQuOTMxOSAzLjgyNTk4QzE1LjY1NzggMi45NDAyOSAxNi4xNzEyIDEuNzExMzcgMTYuMTcxMiAwLjQ4MjQ0OEMxNi4xNzEyIDAuMzEyMDMxIDE2LjE1NzIgMC4xMzkyMTQgMTYuMTI2OSAwQzE0Ljk0NiAwLjA0NTYwNDYgMTMuNTQxIDAuODA4ODgxIDEyLjY5MzggMS44MTkzOEMxMi4wMjg2IDIuNTk3MDYgMTEuNDA3OCAzLjgyNTk4IDExLjQwNzggNS4wNzE3MUMxMS40MDc4IDUuMjU4OTMgMTEuNDM4MiA1LjQ0NjE0IDExLjQ1MjIgNS41MDYxNUMxMS41MjY4IDUuNTIwNTUgMTEuNjQ4MiA1LjUzNzM1IDExLjc2OTYgNS41MzczNUMxMi44MjkxIDUuNTM3MzUgMTQuMTYxOCA0LjgwNzY4IDE0LjkzMTkgMy44MjU5OFoiIC8+Cjwvc3ZnPg==",this.url="https://aptosconnect.app"}get features(){return{[P.s8]:{connect:this.connect.bind(this),version:"1.0.0"},[P.TP]:{disconnect:this.disconnect.bind(this),version:"1.0.0"},[P.s]:{account:this.getAccount.bind(this),version:"1.0.0"},[P.n6]:{network:this.getNetwork.bind(this),version:"1.0.0"},[P.ty]:{onAccountChange:this.onAccountChange.bind(this),version:"1.0.0"},[P.A2]:{onNetworkChange:this.onNetworkChange.bind(this),version:"1.0.0"},[P.ff]:{signAndSubmitTransaction:this.signAndSubmitTransaction.bind(this),version:"1.1.0"},[P._3]:{signMessage:this.signMessage.bind(this),version:"1.0.0"},[P.JK]:{signTransaction:this.signTransaction.bind(this),version:"1.1"}}}}},11743:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(98198);async function i(e){var t;let{params:r,method:i,url:s,headers:o,body:a,overrides:l}=e,c={headers:o,method:i,url:s,params:r,data:a,withCredentials:null==(t=null==l?void 0:l.WITH_CREDENTIALS)||t};try{let e=await (0,n.Z)(c);return{status:e.status,statusText:e.statusText,data:e.data,headers:e.headers,config:e.config}}catch(e){if(e.response)return e.response;throw e}}},60738:function(e,t,r){"use strict";let n,i;r.d(t,{xE:function(){return y},wP:function(){return g},s8:function(){return l},TP:function(){return c},s:function(){return u},n6:function(){return h},ty:function(){return d},A2:function(){return f},ff:function(){return s},_3:function(){return o},JK:function(){return a},xl:function(){return I},P3:function(){return v},qk:function(){return T},Wk:function(){return E},cE:function(){return m}});var s="aptos:signAndSubmitTransaction",o="aptos:signMessage",a="aptos:signTransaction",l="aptos:connect",c="aptos:disconnect",u="aptos:account",h="aptos:network",d="aptos:onAccountChange",f="aptos:onNetworkChange",p=r(81520),g=class e extends p.iVQ{constructor({address:e,publicKey:t,ansName:r}){super(),this.address=p.kxK.from(e),this.publicKey=t,this.ansName=r}serialize(e){if(this.address.serialize(e),this.publicKey instanceof p.EZS)e.serializeU32AsUleb128(p.E62.Ed25519);else if(this.publicKey instanceof p.ZSy)e.serializeU32AsUleb128(p.E62.MultiEd25519);else if(this.publicKey instanceof p.qxW)e.serializeU32AsUleb128(p.E62.SingleKey);else if(this.publicKey instanceof p.mFj)e.serializeU32AsUleb128(p.E62.MultiKey);else throw Error("Unsupported public key");this.publicKey.serialize(e),e.serializeStr(this.ansName??"")}static deserialize(t){let r=p.kxK.deserialize(t),n=t.deserializeUleb128AsU32(),i;switch(n){case p.E62.Ed25519:i=p.EZS.deserialize(t);break;case p.E62.MultiEd25519:i=p.ZSy.deserialize(t);break;case p.E62.SingleKey:i=p.qxW.deserialize(t);break;case p.E62.MultiKey:i=p.mFj.deserialize(t);break;default:throw Error(`Unknown variant index for WrappedPublicKey: ${n}`)}return new e({address:r,publicKey:i,ansName:t.deserializeStr()||void 0})}},y=["aptos:devnet","aptos:testnet","aptos:localnet","aptos:mainnet"],A=r(23167),w=["aptos:account","aptos:connect","aptos:disconnect","aptos:network","aptos:onAccountChange","aptos:onNetworkChange","aptos:signMessage","aptos:signTransaction"];function m(e,t=[]){return[...w,...t].every(t=>t in e.features)}function E(){let{get:e,on:t}=(0,A.M)(),r=e(),n=[];return r.map(e=>{m(e)&&n.push(e)}),{aptosWallets:n,on:t}}var v=((n=v||{})[n.Unauthorized=4100]="Unauthorized",n[n.Unsupported=4200]="Unsupported",n[n.InternalError=-30001]="InternalError",n),b=Object.freeze({4100:{status:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[-30001]:{status:"Internal error",message:"Something went wrong within the wallet."},4200:{status:"Unsupported",message:"The requested feature is not supported."}}),I=class e extends Error{constructor(t,r){super(r??b[t]?.message??"Unknown error occurred"),this.code=t,this.status=b[t]?.status??"Unknown error",this.name="AptosWalletError",Object.setPrototypeOf(this,e.prototype)}},T=((i=T||{}).APPROVED="Approved",i.REJECTED="Rejected",i)},5196:function(e,t,r){"use strict";let n,i,s,o,a,l;r.d(t,{B:function(){return rl}});var c,u,h,d,f,p,g,y,A,w,m,E,v,b,I=r(81520);class T extends Error{response;request;constructor(e,t){super(`${T.extractMessage(e)}: ${JSON.stringify({response:e,request:t})}`),Object.setPrototypeOf(this,T.prototype),this.response=e,this.request=t,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,T)}static extractMessage(e){return e.errors?.[0]?.message??`GraphQL Error (Code: ${String(e.status)})`}}r(32608);let N=e=>e.toUpperCase(),S=e=>"function"==typeof e?e():e,U=(e,t)=>e.map((e,r)=>[e,t[r]]),x=e=>{let t={};return e instanceof Headers?t=k(e):Array.isArray(e)?e.forEach(([e,r])=>{e&&void 0!==r&&(t[e]=r)}):e&&(t=e),t},k=e=>{let t={};return e.forEach((e,r)=>{t[r]=e}),t},C=e=>{try{let t=e();if(O(t))return t.catch(e=>D(e));return t}catch(e){return D(e)}},D=e=>e instanceof Error?e:Error(String(e)),O=e=>"object"==typeof e&&null!==e&&"then"in e&&"function"==typeof e.then&&"catch"in e&&"function"==typeof e.catch&&"finally"in e&&"function"==typeof e.finally,M=e=>{throw Error(`Unhandled case: ${String(e)}`)},P=e=>"object"==typeof e&&null!==e&&!Array.isArray(e),L=(e,t)=>e.documents?e:{documents:e,requestHeaders:t,signal:void 0},z=(e,t,r)=>e.query?e:{query:e,variables:t,requestHeaders:r,signal:void 0};(c=A||(A={})).NAME="Name",c.DOCUMENT="Document",c.OPERATION_DEFINITION="OperationDefinition",c.VARIABLE_DEFINITION="VariableDefinition",c.SELECTION_SET="SelectionSet",c.FIELD="Field",c.ARGUMENT="Argument",c.FRAGMENT_SPREAD="FragmentSpread",c.INLINE_FRAGMENT="InlineFragment",c.FRAGMENT_DEFINITION="FragmentDefinition",c.VARIABLE="Variable",c.INT="IntValue",c.FLOAT="FloatValue",c.STRING="StringValue",c.BOOLEAN="BooleanValue",c.NULL="NullValue",c.ENUM="EnumValue",c.LIST="ListValue",c.OBJECT="ObjectValue",c.OBJECT_FIELD="ObjectField",c.DIRECTIVE="Directive",c.NAMED_TYPE="NamedType",c.LIST_TYPE="ListType",c.NON_NULL_TYPE="NonNullType",c.SCHEMA_DEFINITION="SchemaDefinition",c.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",c.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",c.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",c.FIELD_DEFINITION="FieldDefinition",c.INPUT_VALUE_DEFINITION="InputValueDefinition",c.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",c.UNION_TYPE_DEFINITION="UnionTypeDefinition",c.ENUM_TYPE_DEFINITION="EnumTypeDefinition",c.ENUM_VALUE_DEFINITION="EnumValueDefinition",c.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",c.DIRECTIVE_DEFINITION="DirectiveDefinition",c.SCHEMA_EXTENSION="SchemaExtension",c.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",c.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",c.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",c.UNION_TYPE_EXTENSION="UnionTypeExtension",c.ENUM_TYPE_EXTENSION="EnumTypeExtension",c.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension";let R="Accept",B="Content-Type",K="application/json",j="application/graphql-response+json",_=e=>e.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),F=e=>{let t=e.toLowerCase();return t.includes(j)||t.includes(K)},q=e=>{try{if(Array.isArray(e))return{_tag:"Batch",executionResults:e.map(H)};if(P(e))return{_tag:"Single",executionResult:H(e)};throw Error(`Invalid execution result: result is not object or array. 
Got:
${String(e)}`)}catch(e){return e}},H=e=>{let t,r,n;if("object"!=typeof e||null===e)throw Error("Invalid execution result: result is not object");if("errors"in e){if(!P(e.errors)&&!Array.isArray(e.errors))throw Error("Invalid execution result: errors is not plain object OR array");t=e.errors}if("data"in e){if(!P(e.data)&&null!==e.data)throw Error("Invalid execution result: data is not plain object");r=e.data}if("extensions"in e){if(!P(e.extensions))throw Error("Invalid execution result: extensions is not plain object");n=e.extensions}return{data:r,errors:t,extensions:n}},Q=e=>"Batch"===e._tag?e.executionResults.some(V):V(e.executionResult),V=e=>Array.isArray(e.errors)?e.errors.length>0:!!e.errors,Y=e=>"object"==typeof e&&null!==e&&"kind"in e&&e.kind===A.OPERATION_DEFINITION;class Z{constructor(e,t,r){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class G{constructor(e,t,r,n,i,s){this.kind=e,this.start=t,this.end=r,this.line=n,this.column=i,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}let W={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},J=new Set(Object.keys(W));function X(e){let t=null==e?void 0:e.kind;return"string"==typeof t&&J.has(t)}(u=w||(w={})).QUERY="query",u.MUTATION="mutation",u.SUBSCRIPTION="subscription";let $=/\r\n|[\n\r]/g;function ee(e,t){let r=0,n=1;for(let i of e.body.matchAll($)){if("number"==typeof i.index||function(e,t){if(!e)throw Error("Unexpected invariant triggered.")}(!1),i.index>=t)break;r=i.index+i[0].length,n+=1}return{line:n,column:t+1-r}}function et(e,t){let r=e.locationOffset.column-1,n="".padStart(r)+e.body,i=t.line-1,s=e.locationOffset.line-1,o=t.line+s,a=1===t.line?r:0,l=t.column+a,c=`${e.name}:${o}:${l}
`,u=n.split(/\r\n|[\n\r]/g),h=u[i];if(h.length>120){let e=Math.floor(l/80),t=[];for(let e=0;e<h.length;e+=80)t.push(h.slice(e,e+80));return c+er([[`${o} |`,t[0]],...t.slice(1,e+1).map(e=>["|",e]),["|","^".padStart(l%80)],["|",t[e+1]]])}return c+er([[`${o-1} |`,u[i-1]],[`${o} |`,h],["|","^".padStart(l)],[`${o+1} |`,u[i+1]]])}function er(e){let t=e.filter(([e,t])=>void 0!==t),r=Math.max(...t.map(([e])=>e.length));return t.map(([e,t])=>e.padStart(r)+(t?" "+t:"")).join("\n")}class en extends Error{constructor(e,...t){var r,n,i,s;let{nodes:o,source:a,positions:l,path:c,originalError:u,extensions:h}=function(e){let t=e[0];return null==t||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}(t);super(e),this.name="GraphQLError",this.path=null!=c?c:void 0,this.originalError=null!=u?u:void 0,this.nodes=ei(Array.isArray(o)?o:o?[o]:void 0);let d=ei(null===(r=this.nodes)||void 0===r?void 0:r.map(e=>e.loc).filter(e=>null!=e));this.source=null!=a?a:null==d?void 0:null===(n=d[0])||void 0===n?void 0:n.source,this.positions=null!=l?l:null==d?void 0:d.map(e=>e.start),this.locations=l&&a?l.map(e=>ee(a,e)):null==d?void 0:d.map(e=>ee(e.source,e.start));let f="object"==typeof(s=null==u?void 0:u.extensions)&&null!==s?null==u?void 0:u.extensions:void 0;this.extensions=null!==(i=null!=h?h:f)&&void 0!==i?i:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=u&&u.stack?Object.defineProperty(this,"stack",{value:u.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,en):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes){for(let r of this.nodes)if(r.loc){var t;e+="\n\n"+et((t=r.loc).source,ee(t.source,t.start))}}else if(this.source&&this.locations)for(let t of this.locations)e+="\n\n"+et(this.source,t);return e}toJSON(){let e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function ei(e){return void 0===e||0===e.length?void 0:e}function es(e,t,r){return new en(`Syntax Error: ${r}`,{source:e,positions:[t]})}function eo(e){return 9===e||32===e}function ea(e){return e>=48&&e<=57}function el(e){return e>=97&&e<=122||e>=65&&e<=90}function ec(e){return el(e)||95===e}(h=m||(m={})).QUERY="QUERY",h.MUTATION="MUTATION",h.SUBSCRIPTION="SUBSCRIPTION",h.FIELD="FIELD",h.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",h.FRAGMENT_SPREAD="FRAGMENT_SPREAD",h.INLINE_FRAGMENT="INLINE_FRAGMENT",h.VARIABLE_DEFINITION="VARIABLE_DEFINITION",h.SCHEMA="SCHEMA",h.SCALAR="SCALAR",h.OBJECT="OBJECT",h.FIELD_DEFINITION="FIELD_DEFINITION",h.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",h.INTERFACE="INTERFACE",h.UNION="UNION",h.ENUM="ENUM",h.ENUM_VALUE="ENUM_VALUE",h.INPUT_OBJECT="INPUT_OBJECT",h.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION",(d=E||(E={})).SOF="<SOF>",d.EOF="<EOF>",d.BANG="!",d.DOLLAR="$",d.AMP="&",d.PAREN_L="(",d.PAREN_R=")",d.SPREAD="...",d.COLON=":",d.EQUALS="=",d.AT="@",d.BRACKET_L="[",d.BRACKET_R="]",d.BRACE_L="{",d.PIPE="|",d.BRACE_R="}",d.NAME="Name",d.INT="Int",d.FLOAT="Float",d.STRING="String",d.BLOCK_STRING="BlockString",d.COMMENT="Comment";class eu{constructor(e){let t=new G(E.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==E.EOF)do if(e.next)e=e.next;else{let t=function(e,t){let r=e.source.body,n=r.length,i=t;for(;i<n;){let t=r.charCodeAt(i);switch(t){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:10===r.charCodeAt(i+1)?i+=2:++i,++e.line,e.lineStart=i;continue;case 35:return function(e,t){let r=e.source.body,n=r.length,i=t+1;for(;i<n;){let e=r.charCodeAt(i);if(10===e||13===e)break;if(eh(e))++i;else if(ed(r,i))i+=2;else break}return ey(e,E.COMMENT,t,i,r.slice(t+1,i))}(e,i);case 33:return ey(e,E.BANG,i,i+1);case 36:return ey(e,E.DOLLAR,i,i+1);case 38:return ey(e,E.AMP,i,i+1);case 40:return ey(e,E.PAREN_L,i,i+1);case 41:return ey(e,E.PAREN_R,i,i+1);case 46:if(46===r.charCodeAt(i+1)&&46===r.charCodeAt(i+2))return ey(e,E.SPREAD,i,i+3);break;case 58:return ey(e,E.COLON,i,i+1);case 61:return ey(e,E.EQUALS,i,i+1);case 64:return ey(e,E.AT,i,i+1);case 91:return ey(e,E.BRACKET_L,i,i+1);case 93:return ey(e,E.BRACKET_R,i,i+1);case 123:return ey(e,E.BRACE_L,i,i+1);case 124:return ey(e,E.PIPE,i,i+1);case 125:return ey(e,E.BRACE_R,i,i+1);case 34:if(34===r.charCodeAt(i+1)&&34===r.charCodeAt(i+2))return function(e,t){let r=e.source.body,n=r.length,i=e.lineStart,s=t+3,o=s,a="",l=[];for(;s<n;){let n=r.charCodeAt(s);if(34===n&&34===r.charCodeAt(s+1)&&34===r.charCodeAt(s+2)){a+=r.slice(o,s),l.push(a);let n=ey(e,E.BLOCK_STRING,t,s+3,(function(e){var t,r;let n=Number.MAX_SAFE_INTEGER,i=null,s=-1;for(let t=0;t<e.length;++t){let o=e[t],a=function(e){let t=0;for(;t<e.length&&eo(e.charCodeAt(t));)++t;return t}(o);a!==o.length&&(i=null!==(r=i)&&void 0!==r?r:t,s=t,0!==t&&a<n&&(n=a))}return e.map((e,t)=>0===t?e:e.slice(n)).slice(null!==(t=i)&&void 0!==t?t:0,s+1)})(l).join("\n"));return e.line+=l.length-1,e.lineStart=i,n}if(92===n&&34===r.charCodeAt(s+1)&&34===r.charCodeAt(s+2)&&34===r.charCodeAt(s+3)){a+=r.slice(o,s),o=s+1,s+=4;continue}if(10===n||13===n){a+=r.slice(o,s),l.push(a),13===n&&10===r.charCodeAt(s+1)?s+=2:++s,a="",o=s,i=s;continue}if(eh(n))++s;else if(ed(r,s))s+=2;else throw es(e.source,s,`Invalid character within String: ${eg(e,s)}.`)}throw es(e.source,s,"Unterminated string.")}(e,i);return function(e,t){let r=e.source.body,n=r.length,i=t+1,s=i,o="";for(;i<n;){let n=r.charCodeAt(i);if(34===n)return o+=r.slice(s,i),ey(e,E.STRING,t,i+1,o);if(92===n){o+=r.slice(s,i);let t=117===r.charCodeAt(i+1)?123===r.charCodeAt(i+2)?function(e,t){let r=e.source.body,n=0,i=3;for(;i<12;){let e=r.charCodeAt(t+i++);if(125===e){if(i<5||!eh(n))break;return{value:String.fromCodePoint(n),size:i}}if((n=n<<4|em(e))<0)break}throw es(e.source,t,`Invalid Unicode escape sequence: "${r.slice(t,t+i)}".`)}(e,i):function(e,t){let r=e.source.body,n=ew(r,t+2);if(eh(n))return{value:String.fromCodePoint(n),size:6};if(ef(n)&&92===r.charCodeAt(t+6)&&117===r.charCodeAt(t+7)){let e=ew(r,t+8);if(ep(e))return{value:String.fromCodePoint(n,e),size:12}}throw es(e.source,t,`Invalid Unicode escape sequence: "${r.slice(t,t+6)}".`)}(e,i):function(e,t){let r=e.source.body;switch(r.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw es(e.source,t,`Invalid character escape sequence: "${r.slice(t,t+2)}".`)}(e,i);o+=t.value,i+=t.size,s=i;continue}if(10===n||13===n)break;if(eh(n))++i;else if(ed(r,i))i+=2;else throw es(e.source,i,`Invalid character within String: ${eg(e,i)}.`)}throw es(e.source,i,"Unterminated string.")}(e,i)}if(ea(t)||45===t)return function(e,t,r){let n=e.source.body,i=t,s=r,o=!1;if(45===s&&(s=n.charCodeAt(++i)),48===s){if(ea(s=n.charCodeAt(++i)))throw es(e.source,i,`Invalid number, unexpected digit after 0: ${eg(e,i)}.`)}else i=eA(e,i,s),s=n.charCodeAt(i);if(46===s&&(o=!0,s=n.charCodeAt(++i),i=eA(e,i,s),s=n.charCodeAt(i)),(69===s||101===s)&&(o=!0,(43===(s=n.charCodeAt(++i))||45===s)&&(s=n.charCodeAt(++i)),i=eA(e,i,s),s=n.charCodeAt(i)),46===s||ec(s))throw es(e.source,i,`Invalid number, expected digit but got: ${eg(e,i)}.`);return ey(e,o?E.FLOAT:E.INT,t,i,n.slice(t,i))}(e,i,t);if(ec(t))return function(e,t){let r=e.source.body,n=r.length,i=t+1;for(;i<n;){var s;if(el(s=r.charCodeAt(i))||ea(s)||95===s)++i;else break}return ey(e,E.NAME,t,i,r.slice(t,i))}(e,i);throw es(e.source,i,39===t?"Unexpected single quote character ('), did you mean to use a double quote (\")?":eh(t)||ed(r,i)?`Unexpected character: ${eg(e,i)}.`:`Invalid character: ${eg(e,i)}.`)}return ey(e,E.EOF,n,n)}(this,e.end);e.next=t,t.prev=e,e=t}while(e.kind===E.COMMENT);return e}}function eh(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function ed(e,t){return ef(e.charCodeAt(t))&&ep(e.charCodeAt(t+1))}function ef(e){return e>=55296&&e<=56319}function ep(e){return e>=56320&&e<=57343}function eg(e,t){let r=e.source.body.codePointAt(t);if(void 0===r)return E.EOF;if(r>=32&&r<=126){let e=String.fromCodePoint(r);return'"'===e?"'\"'":`"${e}"`}return"U+"+r.toString(16).toUpperCase().padStart(4,"0")}function ey(e,t,r,n,i){let s=e.line,o=1+r-e.lineStart;return new G(t,r,n,s,o,i)}function eA(e,t,r){if(!ea(r))throw es(e.source,t,`Invalid number, expected digit but got: ${eg(e,t)}.`);let n=e.source.body,i=t+1;for(;ea(n.charCodeAt(i));)++i;return i}function ew(e,t){return em(e.charCodeAt(t))<<12|em(e.charCodeAt(t+1))<<8|em(e.charCodeAt(t+2))<<4|em(e.charCodeAt(t+3))}function em(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function eE(e,t){if(!e)throw Error(t)}function ev(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";let r=[...t,e];if("function"==typeof e.toJSON){let t=e.toJSON();if(t!==e)return"string"==typeof t?t:ev(t,r)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";let r=Math.min(10,e.length),n=e.length-r,i=[];for(let n=0;n<r;++n)i.push(ev(e[n],t));return 1===n?i.push("... 1 more item"):n>1&&i.push(`... ${n} more items`),"["+i.join(", ")+"]"}(e,r);return function(e,t){let r=Object.entries(e);return 0===r.length?"{}":t.length>2?"["+function(e){let t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){let t=e.constructor.name;if("string"==typeof t&&""!==t)return t}return t}(e)+"]":"{ "+r.map(([e,r])=>e+": "+ev(r,t)).join(", ")+" }"}(e,r)}(e,t);default:return String(e)}}let eb=globalThis.process?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;if("object"==typeof e&&null!==e){var r;let n=t.prototype[Symbol.toStringTag];if(n===(Symbol.toStringTag in e?e[Symbol.toStringTag]:null===(r=e.constructor)||void 0===r?void 0:r.name)){let t=ev(e,[]);throw Error(`Cannot use ${n} "${t}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class eI{constructor(e,t="GraphQL request",r={line:1,column:1}){"string"==typeof e||eE(!1,`Body must be a string. Received: ${ev(e,[])}.`),this.body=e,this.name=t,this.locationOffset=r,this.locationOffset.line>0||eE(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||eE(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}class eT{constructor(e,t={}){let r=eb(e,eI)?e:new eI(e);this._lexer=new eu(r),this._options=t,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){let e=this.expectToken(E.NAME);return this.node(e,{kind:A.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:A.DOCUMENT,definitions:this.many(E.SOF,this.parseDefinition,E.EOF)})}parseDefinition(){if(this.peek(E.BRACE_L))return this.parseOperationDefinition();let e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===E.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw es(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){let e;let t=this._lexer.token;if(this.peek(E.BRACE_L))return this.node(t,{kind:A.OPERATION_DEFINITION,operation:w.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});let r=this.parseOperationType();return this.peek(E.NAME)&&(e=this.parseName()),this.node(t,{kind:A.OPERATION_DEFINITION,operation:r,name:e,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){let e=this.expectToken(E.NAME);switch(e.value){case"query":return w.QUERY;case"mutation":return w.MUTATION;case"subscription":return w.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(E.PAREN_L,this.parseVariableDefinition,E.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:A.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(E.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(E.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){let e=this._lexer.token;return this.expectToken(E.DOLLAR),this.node(e,{kind:A.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:A.SELECTION_SET,selections:this.many(E.BRACE_L,this.parseSelection,E.BRACE_R)})}parseSelection(){return this.peek(E.SPREAD)?this.parseFragment():this.parseField()}parseField(){let e,t;let r=this._lexer.token,n=this.parseName();return this.expectOptionalToken(E.COLON)?(e=n,t=this.parseName()):t=n,this.node(r,{kind:A.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(E.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){let t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(E.PAREN_L,t,E.PAREN_R)}parseArgument(e=!1){let t=this._lexer.token,r=this.parseName();return this.expectToken(E.COLON),this.node(t,{kind:A.ARGUMENT,name:r,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){let e=this._lexer.token;this.expectToken(E.SPREAD);let t=this.expectOptionalKeyword("on");return!t&&this.peek(E.NAME)?this.node(e,{kind:A.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:A.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){let e=this._lexer.token;return(this.expectKeyword("fragment"),!0===this._options.allowLegacyFragmentVariables)?this.node(e,{kind:A.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:A.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(e){let t=this._lexer.token;switch(t.kind){case E.BRACKET_L:return this.parseList(e);case E.BRACE_L:return this.parseObject(e);case E.INT:return this.advanceLexer(),this.node(t,{kind:A.INT,value:t.value});case E.FLOAT:return this.advanceLexer(),this.node(t,{kind:A.FLOAT,value:t.value});case E.STRING:case E.BLOCK_STRING:return this.parseStringLiteral();case E.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:A.BOOLEAN,value:!0});case"false":return this.node(t,{kind:A.BOOLEAN,value:!1});case"null":return this.node(t,{kind:A.NULL});default:return this.node(t,{kind:A.ENUM,value:t.value})}case E.DOLLAR:if(e){if(this.expectToken(E.DOLLAR),this._lexer.token.kind===E.NAME){let e=this._lexer.token.value;throw es(this._lexer.source,t.start,`Unexpected variable "$${e}" in constant value.`)}throw this.unexpected(t)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){let e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:A.STRING,value:e.value,block:e.kind===E.BLOCK_STRING})}parseList(e){return this.node(this._lexer.token,{kind:A.LIST,values:this.any(E.BRACKET_L,()=>this.parseValueLiteral(e),E.BRACKET_R)})}parseObject(e){return this.node(this._lexer.token,{kind:A.OBJECT,fields:this.any(E.BRACE_L,()=>this.parseObjectField(e),E.BRACE_R)})}parseObjectField(e){let t=this._lexer.token,r=this.parseName();return this.expectToken(E.COLON),this.node(t,{kind:A.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e)})}parseDirectives(e){let t=[];for(;this.peek(E.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){let t=this._lexer.token;return this.expectToken(E.AT),this.node(t,{kind:A.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){let e;let t=this._lexer.token;if(this.expectOptionalToken(E.BRACKET_L)){let r=this.parseTypeReference();this.expectToken(E.BRACKET_R),e=this.node(t,{kind:A.LIST_TYPE,type:r})}else e=this.parseNamedType();return this.expectOptionalToken(E.BANG)?this.node(t,{kind:A.NON_NULL_TYPE,type:e}):e}parseNamedType(){return this.node(this._lexer.token,{kind:A.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(E.STRING)||this.peek(E.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");let r=this.parseConstDirectives(),n=this.many(E.BRACE_L,this.parseOperationTypeDefinition,E.BRACE_R);return this.node(e,{kind:A.SCHEMA_DEFINITION,description:t,directives:r,operationTypes:n})}parseOperationTypeDefinition(){let e=this._lexer.token,t=this.parseOperationType();this.expectToken(E.COLON);let r=this.parseNamedType();return this.node(e,{kind:A.OPERATION_TYPE_DEFINITION,operation:t,type:r})}parseScalarTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");let r=this.parseName(),n=this.parseConstDirectives();return this.node(e,{kind:A.SCALAR_TYPE_DEFINITION,description:t,name:r,directives:n})}parseObjectTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");let r=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(e,{kind:A.OBJECT_TYPE_DEFINITION,description:t,name:r,interfaces:n,directives:i,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(E.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(E.BRACE_L,this.parseFieldDefinition,E.BRACE_R)}parseFieldDefinition(){let e=this._lexer.token,t=this.parseDescription(),r=this.parseName(),n=this.parseArgumentDefs();this.expectToken(E.COLON);let i=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(e,{kind:A.FIELD_DEFINITION,description:t,name:r,arguments:n,type:i,directives:s})}parseArgumentDefs(){return this.optionalMany(E.PAREN_L,this.parseInputValueDef,E.PAREN_R)}parseInputValueDef(){let e;let t=this._lexer.token,r=this.parseDescription(),n=this.parseName();this.expectToken(E.COLON);let i=this.parseTypeReference();this.expectOptionalToken(E.EQUALS)&&(e=this.parseConstValueLiteral());let s=this.parseConstDirectives();return this.node(t,{kind:A.INPUT_VALUE_DEFINITION,description:r,name:n,type:i,defaultValue:e,directives:s})}parseInterfaceTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");let r=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(e,{kind:A.INTERFACE_TYPE_DEFINITION,description:t,name:r,interfaces:n,directives:i,fields:s})}parseUnionTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");let r=this.parseName(),n=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(e,{kind:A.UNION_TYPE_DEFINITION,description:t,name:r,directives:n,types:i})}parseUnionMemberTypes(){return this.expectOptionalToken(E.EQUALS)?this.delimitedMany(E.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");let r=this.parseName(),n=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(e,{kind:A.ENUM_TYPE_DEFINITION,description:t,name:r,directives:n,values:i})}parseEnumValuesDefinition(){return this.optionalMany(E.BRACE_L,this.parseEnumValueDefinition,E.BRACE_R)}parseEnumValueDefinition(){let e=this._lexer.token,t=this.parseDescription(),r=this.parseEnumValueName(),n=this.parseConstDirectives();return this.node(e,{kind:A.ENUM_VALUE_DEFINITION,description:t,name:r,directives:n})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw es(this._lexer.source,this._lexer.token.start,`${eN(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");let r=this.parseName(),n=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(e,{kind:A.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:r,directives:n,fields:i})}parseInputFieldsDefinition(){return this.optionalMany(E.BRACE_L,this.parseInputValueDef,E.BRACE_R)}parseTypeSystemExtension(){let e=this._lexer.lookahead();if(e.kind===E.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");let t=this.parseConstDirectives(),r=this.optionalMany(E.BRACE_L,this.parseOperationTypeDefinition,E.BRACE_R);if(0===t.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:A.SCHEMA_EXTENSION,directives:t,operationTypes:r})}parseScalarTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");let t=this.parseName(),r=this.parseConstDirectives();if(0===r.length)throw this.unexpected();return this.node(e,{kind:A.SCALAR_TYPE_EXTENSION,name:t,directives:r})}parseObjectTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");let t=this.parseName(),r=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===r.length&&0===n.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:A.OBJECT_TYPE_EXTENSION,name:t,interfaces:r,directives:n,fields:i})}parseInterfaceTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");let t=this.parseName(),r=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===r.length&&0===n.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:A.INTERFACE_TYPE_EXTENSION,name:t,interfaces:r,directives:n,fields:i})}parseUnionTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");let t=this.parseName(),r=this.parseConstDirectives(),n=this.parseUnionMemberTypes();if(0===r.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:A.UNION_TYPE_EXTENSION,name:t,directives:r,types:n})}parseEnumTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");let t=this.parseName(),r=this.parseConstDirectives(),n=this.parseEnumValuesDefinition();if(0===r.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:A.ENUM_TYPE_EXTENSION,name:t,directives:r,values:n})}parseInputObjectTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");let t=this.parseName(),r=this.parseConstDirectives(),n=this.parseInputFieldsDefinition();if(0===r.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:A.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:r,fields:n})}parseDirectiveDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(E.AT);let r=this.parseName(),n=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");let s=this.parseDirectiveLocations();return this.node(e,{kind:A.DIRECTIVE_DEFINITION,description:t,name:r,arguments:n,repeatable:i,locations:s})}parseDirectiveLocations(){return this.delimitedMany(E.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){let e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(m,t.value))return t;throw this.unexpected(e)}node(e,t){return!0!==this._options.noLocation&&(t.loc=new Z(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){let t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw es(this._lexer.source,t.start,`Expected ${eS(e)}, found ${eN(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e&&(this.advanceLexer(),!0)}expectKeyword(e){let t=this._lexer.token;if(t.kind===E.NAME&&t.value===e)this.advanceLexer();else throw es(this._lexer.source,t.start,`Expected "${e}", found ${eN(t)}.`)}expectOptionalKeyword(e){let t=this._lexer.token;return t.kind===E.NAME&&t.value===e&&(this.advanceLexer(),!0)}unexpected(e){let t=null!=e?e:this._lexer.token;return es(this._lexer.source,t.start,`Unexpected ${eN(t)}.`)}any(e,t,r){this.expectToken(e);let n=[];for(;!this.expectOptionalToken(r);)n.push(t.call(this));return n}optionalMany(e,t,r){if(this.expectOptionalToken(e)){let e=[];do e.push(t.call(this));while(!this.expectOptionalToken(r));return e}return[]}many(e,t,r){this.expectToken(e);let n=[];do n.push(t.call(this));while(!this.expectOptionalToken(r));return n}delimitedMany(e,t){this.expectOptionalToken(e);let r=[];do r.push(t.call(this));while(this.expectOptionalToken(e));return r}advanceLexer(){let{maxTokens:e}=this._options,t=this._lexer.advance();if(t.kind!==E.EOF&&(++this._tokenCounter,void 0!==e&&this._tokenCounter>e))throw es(this._lexer.source,t.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function eN(e){let t=e.value;return eS(e.kind)+(null!=t?` "${t}"`:"")}function eS(e){return e===E.BANG||e===E.DOLLAR||e===E.AMP||e===E.PAREN_L||e===E.PAREN_R||e===E.SPREAD||e===E.COLON||e===E.EQUALS||e===E.AT||e===E.BRACKET_L||e===E.BRACKET_R||e===E.BRACE_L||e===E.PIPE||e===E.BRACE_R?`"${e}"`:e}let eU=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function ex(e){return ek[e.charCodeAt(0)]}let ek=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],eC=Object.freeze({}),eD={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>eO(e.definitions,"\n\n")},OperationDefinition:{leave(e){let t=eP("(",eO(e.variableDefinitions,", "),")"),r=eO([e.operation,eO([e.name,t]),eO(e.directives," ")]," ");return("query"===r?"":r+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:r,directives:n})=>e+": "+t+eP(" = ",r)+eP(" ",eO(n," "))},SelectionSet:{leave:({selections:e})=>eM(e)},Field:{leave({alias:e,name:t,arguments:r,directives:n,selectionSet:i}){let s=eP("",e,": ")+t,o=s+eP("(",eO(r,", "),")");return o.length>80&&(o=s+eP("(\n",eL(eO(r,"\n")),"\n)")),eO([o,eO(n," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+eP(" ",eO(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:r})=>eO(["...",eP("on ",e),eO(t," "),r]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:r,directives:n,selectionSet:i})=>`fragment ${e}${eP("(",eO(r,", "),")")} on ${t} ${eP("",eO(n," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?function(e,t){let r=e.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),i=1===n.length,s=n.length>1&&n.slice(1).every(e=>0===e.length||eo(e.charCodeAt(0))),o=r.endsWith('\\"""'),a=e.endsWith('"')&&!o,l=e.endsWith("\\"),c=a||l,u=!i||e.length>70||c||s||o,h="",d=i&&eo(e.charCodeAt(0));return(u&&!d||s)&&(h+="\n"),h+=r,(u||c)&&(h+="\n"),'"""'+h+'"""'}(e):`"${e.replace(eU,ex)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+eO(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+eO(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+eP("(",eO(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:r})=>eP("",e,"\n")+eO(["schema",eO(t," "),eM(r)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:r})=>eP("",e,"\n")+eO(["scalar",t,eO(r," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:n,fields:i})=>eP("",e,"\n")+eO(["type",t,eP("implements ",eO(r," & ")),eO(n," "),eM(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:r,type:n,directives:i})=>eP("",e,"\n")+t+(ez(r)?eP("(\n",eL(eO(r,"\n")),"\n)"):eP("(",eO(r,", "),")"))+": "+n+eP(" ",eO(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:r,defaultValue:n,directives:i})=>eP("",e,"\n")+eO([t+": "+r,eP("= ",n),eO(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:n,fields:i})=>eP("",e,"\n")+eO(["interface",t,eP("implements ",eO(r," & ")),eO(n," "),eM(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:r,types:n})=>eP("",e,"\n")+eO(["union",t,eO(r," "),eP("= ",eO(n," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:r,values:n})=>eP("",e,"\n")+eO(["enum",t,eO(r," "),eM(n)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:r})=>eP("",e,"\n")+eO([t,eO(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:r,fields:n})=>eP("",e,"\n")+eO(["input",t,eO(r," "),eM(n)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:r,repeatable:n,locations:i})=>eP("",e,"\n")+"directive @"+t+(ez(r)?eP("(\n",eL(eO(r,"\n")),"\n)"):eP("(",eO(r,", "),")"))+(n?" repeatable":"")+" on "+eO(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>eO(["extend schema",eO(e," "),eM(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>eO(["extend scalar",e,eO(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>eO(["extend type",e,eP("implements ",eO(t," & ")),eO(r," "),eM(n)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>eO(["extend interface",e,eP("implements ",eO(t," & ")),eO(r," "),eM(n)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:r})=>eO(["extend union",e,eO(t," "),eP("= ",eO(r," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:r})=>eO(["extend enum",e,eO(t," "),eM(r)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:r})=>eO(["extend input",e,eO(t," "),eM(r)]," ")}};function eO(e,t=""){var r;return null!==(r=null==e?void 0:e.filter(e=>e).join(t))&&void 0!==r?r:""}function eM(e){return eP("{\n",eL(eO(e,"\n")),"\n}")}function eP(e,t,r=""){return null!=t&&""!==t?e+t+r:""}function eL(e){return eP("  ",e.replace(/\n/g,"\n  "))}function ez(e){var t;return null!==(t=null==e?void 0:e.some(e=>e.includes("\n")))&&void 0!==t&&t}let eR=e=>{let t;let r=e.definitions.filter(Y);return 1===r.length&&(t=r[0].name?.value),t},eB=e=>{let t=!1,r=e.definitions.filter(Y);return 1===r.length&&(t=r[0].operation===w.MUTATION),t},eK=(e,t)=>{let r;let n="string"==typeof e?e:function(e,t,r=W){let n,i,s;let o=new Map;for(let e of Object.values(A))o.set(e,function(e,t){let r=e[t];return"object"==typeof r?r:"function"==typeof r?{enter:r,leave:void 0}:{enter:e.enter,leave:e.leave}}(t,e));let a=Array.isArray(e),l=[e],c=-1,u=[],h=e,d=[],f=[];do{var p,g,y;let e;let A=++c===l.length,w=A&&0!==u.length;if(A){if(i=0===f.length?void 0:d[d.length-1],h=s,s=f.pop(),w){if(a){h=h.slice();let e=0;for(let[t,r]of u){let n=t-e;null===r?(h.splice(n,1),e++):h[n]=r}}else for(let[e,t]of(h=Object.defineProperties({},Object.getOwnPropertyDescriptors(h)),u))h[e]=t}c=n.index,l=n.keys,u=n.edits,a=n.inArray,n=n.prev}else if(s){if(null==(h=s[i=a?c:l[c]]))continue;d.push(i)}if(!Array.isArray(h)){X(h)||eE(!1,`Invalid AST Node: ${ev(h,[])}.`);let r=A?null===(p=o.get(h.kind))||void 0===p?void 0:p.leave:null===(g=o.get(h.kind))||void 0===g?void 0:g.enter;if((e=null==r?void 0:r.call(t,h,i,s,d,f))===eC)break;if(!1===e){if(!A){d.pop();continue}}else if(void 0!==e&&(u.push([i,e]),!A)){if(X(e))h=e;else{d.pop();continue}}}void 0===e&&w&&u.push([i,h]),A?d.pop():(n={inArray:a,index:c,keys:l,edits:u,prev:n},l=(a=Array.isArray(h))?h:null!==(y=r[h.kind])&&void 0!==y?y:[],c=-1,u=[],s&&f.push(s),s=h)}while(void 0!==n);return 0!==u.length?u[u.length-1][1]:e}(e,eD),i=!1;if(t)return{expression:n,isMutation:i,operationName:r};let s=C(()=>"string"==typeof e?function(e,t){let r=new eT(e,void 0),n=r.parseDocument();return Object.defineProperty(n,"tokenCount",{enumerable:!1,value:r.tokenCount}),n}(e):e);return s instanceof Error?{expression:n,isMutation:i,operationName:r}:{expression:n,operationName:r=eR(s),isMutation:i=eB(s)}},ej=JSON,e_=async e=>{let t={...e,method:"Single"===e.request._tag?e.request.document.isMutation?"POST":N(e.method??"post"):e.request.hasMutations?"POST":N(e.method??"post"),fetchOptions:{...e.fetchOptions,errorPolicy:e.fetchOptions.errorPolicy??"none"}},r=eH(t.method),n=await r(t);if(!n.ok)return new T({status:n.status,headers:n.headers},{query:"Single"===e.request._tag?e.request.document.expression:e.request.query,variables:e.request.variables});let i=await eq(n,e.fetchOptions.jsonSerializer??ej);if(i instanceof Error)throw i;let s={status:n.status,headers:n.headers};if(Q(i)&&"none"===t.fetchOptions.errorPolicy)return new T("Batch"===i._tag?{...i.executionResults,...s}:{...i.executionResult,...s},{query:"Single"===e.request._tag?e.request.document.expression:e.request.query,variables:e.request.variables});switch(i._tag){case"Single":return{...s,...eF(t)(i.executionResult)};case"Batch":return{...s,data:i.executionResults.map(eF(t))};default:M(i)}},eF=e=>t=>({extensions:t.extensions,data:t.data,errors:"all"===e.fetchOptions.errorPolicy?t.errors:void 0}),eq=async(e,t)=>{let r=e.headers.get(B),n=await e.text();return r&&F(r)?q(t.parse(n)):q(n)},eH=e=>async t=>{let r;let n=new Headers(t.headers),i=null;n.has(R)||n.set(R,[j,K].join(", ")),"POST"===e?"string"!=typeof(r=(t.fetchOptions.jsonSerializer??ej).stringify(eQ(t)))||n.has(B)||n.set(B,K):i=eV(t);let s={method:e,headers:n,body:r,...t.fetchOptions},o=new URL(t.url),a=s;if(t.middleware){let{url:e,...r}=await Promise.resolve(t.middleware({...s,url:t.url,operationName:"Single"===t.request._tag?t.request.document.operationName:void 0,variables:t.request.variables}));o=new URL(e),a=r}i&&i.forEach((e,t)=>{o.searchParams.append(t,e)});let l=t.fetch??fetch;return await l(o,a)},eQ=e=>{switch(e.request._tag){case"Single":return{query:e.request.document.expression,variables:e.request.variables,operationName:e.request.document.operationName};case"Batch":return U(e.request.query,e.request.variables??[]).map(([e,t])=>({query:e,variables:t}));default:throw M(e.request)}},eV=e=>{let t=e.fetchOptions.jsonSerializer??ej,r=new URLSearchParams;switch(e.request._tag){case"Single":return r.append("query",_(e.request.document.expression)),e.request.variables&&r.append("variables",t.stringify(e.request.variables)),e.request.document.operationName&&r.append("operationName",e.request.document.operationName),r;case"Batch":{let n=e.request.variables?.map(e=>t.stringify(e))??[],i=U(e.request.query.map(_),n).map(([e,t])=>({query:e,variables:t}));return r.append("query",t.stringify(i)),r}default:throw M(e.request)}};class eY{url;requestConfig;constructor(e,t={}){this.url=e,this.requestConfig=t}rawRequest=async(...e)=>{let[t,r,n]=e,i=z(t,r,n),{headers:s,fetch:o=globalThis.fetch,method:a="POST",requestMiddleware:l,responseMiddleware:c,excludeOperationName:u,...h}=this.requestConfig,{url:d}=this;void 0!==i.signal&&(h.signal=i.signal);let f=eK(i.query,u),p=await e_({url:d,request:{_tag:"Single",document:f,variables:i.variables},headers:{...x(S(s)),...x(i.requestHeaders)},fetch:o,method:a,fetchOptions:h,middleware:l});if(c&&await c(p,{operationName:f.operationName,variables:r,url:this.url}),p instanceof Error)throw p;return p};async request(e,...t){let[r,n]=t,i=eG(e,r,n),{headers:s,fetch:o=globalThis.fetch,method:a="POST",requestMiddleware:l,responseMiddleware:c,excludeOperationName:u,...h}=this.requestConfig,{url:d}=this;void 0!==i.signal&&(h.signal=i.signal);let f=eK(i.document,u),p=await e_({url:d,request:{_tag:"Single",document:f,variables:i.variables},headers:{...x(S(s)),...x(i.requestHeaders)},fetch:o,method:a,fetchOptions:h,middleware:l});if(c&&await c(p,{operationName:f.operationName,variables:i.variables,url:this.url}),p instanceof Error)throw p;return p.data}async batchRequests(e,t){let r=L(e,t),{headers:n,excludeOperationName:i,...s}=this.requestConfig;void 0!==r.signal&&(s.signal=r.signal);let o=r.documents.map(({document:e})=>eK(e,i)),a=o.map(({expression:e})=>e),l=o.some(({isMutation:e})=>e),c=r.documents.map(({variables:e})=>e),u=await e_({url:this.url,request:{_tag:"Batch",operationName:void 0,query:a,hasMutations:l,variables:c},headers:{...x(S(n)),...x(r.requestHeaders)},fetch:this.requestConfig.fetch??globalThis.fetch,method:this.requestConfig.method||"POST",fetchOptions:s,middleware:this.requestConfig.requestMiddleware});if(this.requestConfig.responseMiddleware&&await this.requestConfig.responseMiddleware(u,{operationName:void 0,variables:c,url:this.url}),u instanceof Error)throw u;return u.data}setHeaders(e){return this.requestConfig.headers=e,this}setHeader(e,t){let{headers:r}=this.requestConfig;return r?r[e]=t:this.requestConfig.headers={[e]:t},this}setEndpoint(e){return this.url=e,this}}async function eZ(e,t,...r){let n=eW(e,t,...r);return new eY(n.url).request({...n})}let eG=(e,t,r)=>e.document?e:{document:e,variables:t,requestHeaders:r,signal:void 0},eW=(e,t,...r)=>{let[n,i]=r;return"string"==typeof e?{url:e,document:t,variables:n,requestHeaders:i,signal:void 0}:e},eJ=(e,...t)=>e.reduce((e,r,n)=>`${e}${r}${n in t?String(t[n]):""}`,"");var eX=r(31228),e$=r(34701).Buffer,e5=Object.defineProperty,e1=(e,t,r)=>t in e?e5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,e0=(e,t,r)=>e1(e,"symbol"!=typeof t?t+"":t,r),e2="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof global?global:"u">typeof self?self:{},e6={exports:{}};f=function(){var e={};function t(e){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e))throw TypeError("invalid encoding")}return e.decodeUTF8=function(e){if("string"!=typeof e)throw TypeError("expected string");var t,r=unescape(encodeURIComponent(e)),n=new Uint8Array(r.length);for(t=0;t<r.length;t++)n[t]=r.charCodeAt(t);return n},e.encodeUTF8=function(e){var t,r=[];for(t=0;t<e.length;t++)r.push(String.fromCharCode(e[t]));return decodeURIComponent(escape(r.join("")))},typeof atob>"u"?"u">typeof e$.from?(e.encodeBase64=function(e){return e$.from(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(e$.from(e,"base64"),0))}):(e.encodeBase64=function(e){return new e$(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(new e$(e,"base64"),0))}):(e.encodeBase64=function(e){var t,r=[],n=e.length;for(t=0;t<n;t++)r.push(String.fromCharCode(e[t]));return btoa(r.join(""))},e.decodeBase64=function(e){t(e);var r,n=atob(e),i=new Uint8Array(n.length);for(r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}),e},e6.exports?e6.exports=f():(e2.nacl||(e2.nacl={}),e2.nacl.util=f());let e3=(p=e6.exports)&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p,e4=function(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}),r}(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));!function(e){var t,r=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},n=function(){throw Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=r(),a=r([1]),l=r([56129,1]),c=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function g(e,t,r,n,i){var s,o=0;for(s=0;s<i;s++)o|=e[t+s]^r[n+s];return(1&o-1>>>8)-1}function y(e,t,r,n){return g(e,t,r,n,16)}function A(e,t,r,n){return g(e,t,r,n,32)}function w(e,t,r,n){!function(e,t,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,l=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,u=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,A=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,w=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,m=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,E=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,v=s,b=o,I=a,T=l,N=c,S=u,U=h,x=d,k=f,C=p,D=g,O=y,M=A,P=w,L=m,z=E,R=0;R<20;R+=2)N^=(i=v+M|0)<<7|i>>>25,k^=(i=N+v|0)<<9|i>>>23,M^=(i=k+N|0)<<13|i>>>19,v^=(i=M+k|0)<<18|i>>>14,C^=(i=S+b|0)<<7|i>>>25,P^=(i=C+S|0)<<9|i>>>23,b^=(i=P+C|0)<<13|i>>>19,S^=(i=b+P|0)<<18|i>>>14,L^=(i=D+U|0)<<7|i>>>25,I^=(i=L+D|0)<<9|i>>>23,U^=(i=I+L|0)<<13|i>>>19,D^=(i=U+I|0)<<18|i>>>14,T^=(i=z+O|0)<<7|i>>>25,x^=(i=T+z|0)<<9|i>>>23,O^=(i=x+T|0)<<13|i>>>19,z^=(i=O+x|0)<<18|i>>>14,b^=(i=v+T|0)<<7|i>>>25,I^=(i=b+v|0)<<9|i>>>23,T^=(i=I+b|0)<<13|i>>>19,v^=(i=T+I|0)<<18|i>>>14,U^=(i=S+N|0)<<7|i>>>25,x^=(i=U+S|0)<<9|i>>>23,N^=(i=x+U|0)<<13|i>>>19,S^=(i=N+x|0)<<18|i>>>14,O^=(i=D+C|0)<<7|i>>>25,k^=(i=O+D|0)<<9|i>>>23,C^=(i=k+O|0)<<13|i>>>19,D^=(i=C+k|0)<<18|i>>>14,M^=(i=z+L|0)<<7|i>>>25,P^=(i=M+z|0)<<9|i>>>23,L^=(i=P+M|0)<<13|i>>>19,z^=(i=L+P|0)<<18|i>>>14;v=v+s|0,b=b+o|0,I=I+a|0,T=T+l|0,N=N+c|0,S=S+u|0,U=U+h|0,x=x+d|0,k=k+f|0,C=C+p|0,D=D+g|0,O=O+y|0,M=M+A|0,P=P+w|0,L=L+m|0,z=z+E|0,e[0]=v>>>0&255,e[1]=v>>>8&255,e[2]=v>>>16&255,e[3]=v>>>24&255,e[4]=b>>>0&255,e[5]=b>>>8&255,e[6]=b>>>16&255,e[7]=b>>>24&255,e[8]=I>>>0&255,e[9]=I>>>8&255,e[10]=I>>>16&255,e[11]=I>>>24&255,e[12]=T>>>0&255,e[13]=T>>>8&255,e[14]=T>>>16&255,e[15]=T>>>24&255,e[16]=N>>>0&255,e[17]=N>>>8&255,e[18]=N>>>16&255,e[19]=N>>>24&255,e[20]=S>>>0&255,e[21]=S>>>8&255,e[22]=S>>>16&255,e[23]=S>>>24&255,e[24]=U>>>0&255,e[25]=U>>>8&255,e[26]=U>>>16&255,e[27]=U>>>24&255,e[28]=x>>>0&255,e[29]=x>>>8&255,e[30]=x>>>16&255,e[31]=x>>>24&255,e[32]=k>>>0&255,e[33]=k>>>8&255,e[34]=k>>>16&255,e[35]=k>>>24&255,e[36]=C>>>0&255,e[37]=C>>>8&255,e[38]=C>>>16&255,e[39]=C>>>24&255,e[40]=D>>>0&255,e[41]=D>>>8&255,e[42]=D>>>16&255,e[43]=D>>>24&255,e[44]=O>>>0&255,e[45]=O>>>8&255,e[46]=O>>>16&255,e[47]=O>>>24&255,e[48]=M>>>0&255,e[49]=M>>>8&255,e[50]=M>>>16&255,e[51]=M>>>24&255,e[52]=P>>>0&255,e[53]=P>>>8&255,e[54]=P>>>16&255,e[55]=P>>>24&255,e[56]=L>>>0&255,e[57]=L>>>8&255,e[58]=L>>>16&255,e[59]=L>>>24&255,e[60]=z>>>0&255,e[61]=z>>>8&255,e[62]=z>>>16&255,e[63]=z>>>24&255}(e,t,r,n)}function m(e,t,r,n){!function(e,t,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,l=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,u=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,A=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,w=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,m=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,E=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,v=s,b=o,I=a,T=l,N=c,S=u,U=h,x=d,k=f,C=p,D=g,O=y,M=A,P=w,L=m,z=E,R=0;R<20;R+=2)N^=(i=v+M|0)<<7|i>>>25,k^=(i=N+v|0)<<9|i>>>23,M^=(i=k+N|0)<<13|i>>>19,v^=(i=M+k|0)<<18|i>>>14,C^=(i=S+b|0)<<7|i>>>25,P^=(i=C+S|0)<<9|i>>>23,b^=(i=P+C|0)<<13|i>>>19,S^=(i=b+P|0)<<18|i>>>14,L^=(i=D+U|0)<<7|i>>>25,I^=(i=L+D|0)<<9|i>>>23,U^=(i=I+L|0)<<13|i>>>19,D^=(i=U+I|0)<<18|i>>>14,T^=(i=z+O|0)<<7|i>>>25,x^=(i=T+z|0)<<9|i>>>23,O^=(i=x+T|0)<<13|i>>>19,z^=(i=O+x|0)<<18|i>>>14,b^=(i=v+T|0)<<7|i>>>25,I^=(i=b+v|0)<<9|i>>>23,T^=(i=I+b|0)<<13|i>>>19,v^=(i=T+I|0)<<18|i>>>14,U^=(i=S+N|0)<<7|i>>>25,x^=(i=U+S|0)<<9|i>>>23,N^=(i=x+U|0)<<13|i>>>19,S^=(i=N+x|0)<<18|i>>>14,O^=(i=D+C|0)<<7|i>>>25,k^=(i=O+D|0)<<9|i>>>23,C^=(i=k+O|0)<<13|i>>>19,D^=(i=C+k|0)<<18|i>>>14,M^=(i=z+L|0)<<7|i>>>25,P^=(i=M+z|0)<<9|i>>>23,L^=(i=P+M|0)<<13|i>>>19,z^=(i=L+P|0)<<18|i>>>14;e[0]=v>>>0&255,e[1]=v>>>8&255,e[2]=v>>>16&255,e[3]=v>>>24&255,e[4]=S>>>0&255,e[5]=S>>>8&255,e[6]=S>>>16&255,e[7]=S>>>24&255,e[8]=D>>>0&255,e[9]=D>>>8&255,e[10]=D>>>16&255,e[11]=D>>>24&255,e[12]=z>>>0&255,e[13]=z>>>8&255,e[14]=z>>>16&255,e[15]=z>>>24&255,e[16]=U>>>0&255,e[17]=U>>>8&255,e[18]=U>>>16&255,e[19]=U>>>24&255,e[20]=x>>>0&255,e[21]=x>>>8&255,e[22]=x>>>16&255,e[23]=x>>>24&255,e[24]=k>>>0&255,e[25]=k>>>8&255,e[26]=k>>>16&255,e[27]=k>>>24&255,e[28]=C>>>0&255,e[29]=C>>>8&255,e[30]=C>>>16&255,e[31]=C>>>24&255}(e,t,r,n)}var E=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function v(e,t,r,n,i,s,o){var a,l,c=new Uint8Array(16),u=new Uint8Array(64);for(l=0;l<16;l++)c[l]=0;for(l=0;l<8;l++)c[l]=s[l];for(;i>=64;){for(w(u,c,o,E),l=0;l<64;l++)e[t+l]=r[n+l]^u[l];for(a=1,l=8;l<16;l++)a=a+(255&c[l])|0,c[l]=255&a,a>>>=8;i-=64,t+=64,n+=64}if(i>0)for(w(u,c,o,E),l=0;l<i;l++)e[t+l]=r[n+l]^u[l];return 0}function b(e,t,r,n,i){var s,o,a=new Uint8Array(16),l=new Uint8Array(64);for(o=0;o<16;o++)a[o]=0;for(o=0;o<8;o++)a[o]=n[o];for(;r>=64;){for(w(l,a,i,E),o=0;o<64;o++)e[t+o]=l[o];for(s=1,o=8;o<16;o++)s=s+(255&a[o])|0,a[o]=255&s,s>>>=8;r-=64,t+=64}if(r>0)for(w(l,a,i,E),o=0;o<r;o++)e[t+o]=l[o];return 0}function I(e,t,r,n,i){var s=new Uint8Array(32);m(s,n,i,E);for(var o=new Uint8Array(8),a=0;a<8;a++)o[a]=n[a+16];return b(e,t,r,o,s)}function T(e,t,r,n,i,s,o){var a=new Uint8Array(32);m(a,s,o,E);for(var l=new Uint8Array(8),c=0;c<8;c++)l[c]=s[c+16];return v(e,t,r,n,i,l,a)}var N=function(e){var t,r,n,i,s,o,a,l;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=(t>>>13|r<<3)&8191,n=255&e[4]|(255&e[5])<<8,this.r[2]=(r>>>10|n<<6)&7939,i=255&e[6]|(255&e[7])<<8,this.r[3]=(n>>>7|i<<9)&8191,s=255&e[8]|(255&e[9])<<8,this.r[4]=(i>>>4|s<<12)&255,this.r[5]=s>>>1&8190,o=255&e[10]|(255&e[11])<<8,this.r[6]=(s>>>14|o<<2)&8191,a=255&e[12]|(255&e[13])<<8,this.r[7]=(o>>>11|a<<5)&8065,l=255&e[14]|(255&e[15])<<8,this.r[8]=(a>>>8|l<<8)&8191,this.r[9]=l>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function S(e,t,r,n,i,s){var o=new N(s);return o.update(r,n,i),o.finish(e,t),0}function U(e,t,r,n,i,s){var o=new Uint8Array(16);return S(o,0,r,n,i,s),y(e,t,o,0)}function x(e,t,r,n,i){var s;if(r<32)return -1;for(T(e,0,t,0,r,n,i),S(e,16,e,32,r-32,e),s=0;s<16;s++)e[s]=0;return 0}function k(e,t,r,n,i){var s,o=new Uint8Array(32);if(r<32||(I(o,0,32,n,i),0!==U(t,16,t,32,r-32,o)))return -1;for(T(e,0,t,0,r,n,i),s=0;s<32;s++)e[s]=0;return 0}function C(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function D(e){var t,r,n=1;for(t=0;t<16;t++)n=Math.floor((r=e[t]+n+65535)/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function O(e,t,r){for(var n,i=~(r-1),s=0;s<16;s++)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}function M(e,t){var n,i,s,o=r(),a=r();for(n=0;n<16;n++)a[n]=t[n];for(D(a),D(a),D(a),i=0;i<2;i++){for(o[0]=a[0]-65517,n=1;n<15;n++)o[n]=a[n]-65535-(o[n-1]>>16&1),o[n-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),s=o[15]>>16&1,o[14]&=65535,O(a,o,1-s)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function P(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return M(r,e),M(n,t),A(r,0,n,0)}function L(e){var t=new Uint8Array(32);return M(t,e),1&t[0]}function z(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function R(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function B(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function K(e,t,r){var n,i,s=0,o=0,a=0,l=0,c=0,u=0,h=0,d=0,f=0,p=0,g=0,y=0,A=0,w=0,m=0,E=0,v=0,b=0,I=0,T=0,N=0,S=0,U=0,x=0,k=0,C=0,D=0,O=0,M=0,P=0,L=0,z=r[0],R=r[1],B=r[2],K=r[3],j=r[4],_=r[5],F=r[6],q=r[7],H=r[8],Q=r[9],V=r[10],Y=r[11],Z=r[12],G=r[13],W=r[14],J=r[15];s+=(n=t[0])*z,o+=n*R,a+=n*B,l+=n*K,c+=n*j,u+=n*_,h+=n*F,d+=n*q,f+=n*H,p+=n*Q,g+=n*V,y+=n*Y,A+=n*Z,w+=n*G,m+=n*W,E+=n*J,o+=(n=t[1])*z,a+=n*R,l+=n*B,c+=n*K,u+=n*j,h+=n*_,d+=n*F,f+=n*q,p+=n*H,g+=n*Q,y+=n*V,A+=n*Y,w+=n*Z,m+=n*G,E+=n*W,v+=n*J,a+=(n=t[2])*z,l+=n*R,c+=n*B,u+=n*K,h+=n*j,d+=n*_,f+=n*F,p+=n*q,g+=n*H,y+=n*Q,A+=n*V,w+=n*Y,m+=n*Z,E+=n*G,v+=n*W,b+=n*J,l+=(n=t[3])*z,c+=n*R,u+=n*B,h+=n*K,d+=n*j,f+=n*_,p+=n*F,g+=n*q,y+=n*H,A+=n*Q,w+=n*V,m+=n*Y,E+=n*Z,v+=n*G,b+=n*W,I+=n*J,c+=(n=t[4])*z,u+=n*R,h+=n*B,d+=n*K,f+=n*j,p+=n*_,g+=n*F,y+=n*q,A+=n*H,w+=n*Q,m+=n*V,E+=n*Y,v+=n*Z,b+=n*G,I+=n*W,T+=n*J,u+=(n=t[5])*z,h+=n*R,d+=n*B,f+=n*K,p+=n*j,g+=n*_,y+=n*F,A+=n*q,w+=n*H,m+=n*Q,E+=n*V,v+=n*Y,b+=n*Z,I+=n*G,T+=n*W,N+=n*J,h+=(n=t[6])*z,d+=n*R,f+=n*B,p+=n*K,g+=n*j,y+=n*_,A+=n*F,w+=n*q,m+=n*H,E+=n*Q,v+=n*V,b+=n*Y,I+=n*Z,T+=n*G,N+=n*W,S+=n*J,d+=(n=t[7])*z,f+=n*R,p+=n*B,g+=n*K,y+=n*j,A+=n*_,w+=n*F,m+=n*q,E+=n*H,v+=n*Q,b+=n*V,I+=n*Y,T+=n*Z,N+=n*G,S+=n*W,U+=n*J,f+=(n=t[8])*z,p+=n*R,g+=n*B,y+=n*K,A+=n*j,w+=n*_,m+=n*F,E+=n*q,v+=n*H,b+=n*Q,I+=n*V,T+=n*Y,N+=n*Z,S+=n*G,U+=n*W,x+=n*J,p+=(n=t[9])*z,g+=n*R,y+=n*B,A+=n*K,w+=n*j,m+=n*_,E+=n*F,v+=n*q,b+=n*H,I+=n*Q,T+=n*V,N+=n*Y,S+=n*Z,U+=n*G,x+=n*W,k+=n*J,g+=(n=t[10])*z,y+=n*R,A+=n*B,w+=n*K,m+=n*j,E+=n*_,v+=n*F,b+=n*q,I+=n*H,T+=n*Q,N+=n*V,S+=n*Y,U+=n*Z,x+=n*G,k+=n*W,C+=n*J,y+=(n=t[11])*z,A+=n*R,w+=n*B,m+=n*K,E+=n*j,v+=n*_,b+=n*F,I+=n*q,T+=n*H,N+=n*Q,S+=n*V,U+=n*Y,x+=n*Z,k+=n*G,C+=n*W,D+=n*J,A+=(n=t[12])*z,w+=n*R,m+=n*B,E+=n*K,v+=n*j,b+=n*_,I+=n*F,T+=n*q,N+=n*H,S+=n*Q,U+=n*V,x+=n*Y,k+=n*Z,C+=n*G,D+=n*W,O+=n*J,w+=(n=t[13])*z,m+=n*R,E+=n*B,v+=n*K,b+=n*j,I+=n*_,T+=n*F,N+=n*q,S+=n*H,U+=n*Q,x+=n*V,k+=n*Y,C+=n*Z,D+=n*G,O+=n*W,M+=n*J,m+=(n=t[14])*z,E+=n*R,v+=n*B,b+=n*K,I+=n*j,T+=n*_,N+=n*F,S+=n*q,U+=n*H,x+=n*Q,k+=n*V,C+=n*Y,D+=n*Z,O+=n*G,M+=n*W,P+=n*J,E+=(n=t[15])*z,v+=n*R,b+=n*B,I+=n*K,T+=n*j,N+=n*_,S+=n*F,U+=n*q,x+=n*H,k+=n*Q,C+=n*V,D+=n*Y,O+=n*Z,M+=n*G,P+=n*W,L+=n*J,s+=38*v,o+=38*b,a+=38*I,l+=38*T,c+=38*N,u+=38*S,h+=38*U,d+=38*x,f+=38*k,p+=38*C,g+=38*D,y+=38*O,A+=38*M,w+=38*P,m+=38*L,i=Math.floor((n=s+(i=1)+65535)/65536),s=n-65536*i,i=Math.floor((n=o+i+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=A+i+65535)/65536),A=n-65536*i,i=Math.floor((n=w+i+65535)/65536),w=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=E+i+65535)/65536),E=n-65536*i,s+=i-1+37*(i-1),i=Math.floor((n=s+(i=1)+65535)/65536),s=n-65536*i,i=Math.floor((n=o+i+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=A+i+65535)/65536),A=n-65536*i,i=Math.floor((n=w+i+65535)/65536),w=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=E+i+65535)/65536),E=n-65536*i,s+=i-1+37*(i-1),e[0]=s,e[1]=o,e[2]=a,e[3]=l,e[4]=c,e[5]=u,e[6]=h,e[7]=d,e[8]=f,e[9]=p,e[10]=g,e[11]=y,e[12]=A,e[13]=w,e[14]=m,e[15]=E}function j(e,t){K(e,t,t)}function _(e,t){var n,i=r();for(n=0;n<16;n++)i[n]=t[n];for(n=253;n>=0;n--)j(i,i),2!==n&&4!==n&&K(i,i,t);for(n=0;n<16;n++)e[n]=i[n]}function F(e,t){var n,i=r();for(n=0;n<16;n++)i[n]=t[n];for(n=250;n>=0;n--)j(i,i),1!==n&&K(i,i,t);for(n=0;n<16;n++)e[n]=i[n]}function q(e,t,n){var i,s,o=new Uint8Array(32),a=new Float64Array(80),c=r(),u=r(),h=r(),d=r(),f=r(),p=r();for(s=0;s<31;s++)o[s]=t[s];for(o[31]=127&t[31]|64,o[0]&=248,z(a,n),s=0;s<16;s++)u[s]=a[s],d[s]=c[s]=h[s]=0;for(c[0]=d[0]=1,s=254;s>=0;--s)O(c,u,i=o[s>>>3]>>>(7&s)&1),O(h,d,i),R(f,c,h),B(c,c,h),R(h,u,d),B(u,u,d),j(d,f),j(p,c),K(c,h,c),K(h,u,f),R(f,c,h),B(c,c,h),j(u,c),B(h,d,p),K(c,h,l),R(c,c,d),K(h,h,c),K(c,d,p),K(d,u,a),j(u,f),O(c,u,i),O(h,d,i);for(s=0;s<16;s++)a[s+16]=c[s],a[s+32]=h[s],a[s+48]=u[s],a[s+64]=d[s];var g=a.subarray(32),y=a.subarray(16);return _(g,g),K(y,y,g),M(e,y),0}function H(e,t){return q(e,t,s)}function Q(e,t){return n(t,32),H(e,t)}function V(e,t,r){var n=new Uint8Array(32);return q(n,r,t),m(e,i,n,E)}N.prototype.blocks=function(e,t,r){for(var n,i,s,o,a,l,c,u,h,d,f,p,g,y,A,w,m,E,v,b=this.fin?0:2048,I=this.h[0],T=this.h[1],N=this.h[2],S=this.h[3],U=this.h[4],x=this.h[5],k=this.h[6],C=this.h[7],D=this.h[8],O=this.h[9],M=this.r[0],P=this.r[1],L=this.r[2],z=this.r[3],R=this.r[4],B=this.r[5],K=this.r[6],j=this.r[7],_=this.r[8],F=this.r[9];r>=16;)I+=8191&(n=255&e[t+0]|(255&e[t+1])<<8),T+=(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3)&8191,N+=(i>>>10|(s=255&e[t+4]|(255&e[t+5])<<8)<<6)&8191,S+=(s>>>7|(o=255&e[t+6]|(255&e[t+7])<<8)<<9)&8191,U+=(o>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12)&8191,x+=a>>>1&8191,k+=(a>>>14|(l=255&e[t+10]|(255&e[t+11])<<8)<<2)&8191,C+=(l>>>11|(c=255&e[t+12]|(255&e[t+13])<<8)<<5)&8191,D+=(c>>>8|(u=255&e[t+14]|(255&e[t+15])<<8)<<8)&8191,O+=u>>>5|b,h=(d=(h=0)+I*M+5*F*T+5*_*N+5*j*S+5*K*U)>>>13,d&=8191,d+=5*B*x+5*R*k+5*z*C+5*L*D+5*P*O,h+=d>>>13,d&=8191,h=(f=h+I*P+T*M+5*F*N+5*_*S+5*j*U)>>>13,f&=8191,f+=5*K*x+5*B*k+5*R*C+5*z*D+5*L*O,h+=f>>>13,f&=8191,h=(p=h+I*L+T*P+N*M+5*F*S+5*_*U)>>>13,p&=8191,p+=5*j*x+5*K*k+5*B*C+5*R*D+5*z*O,h+=p>>>13,p&=8191,h=(g=h+I*z+T*L+N*P+S*M+5*F*U)>>>13,g&=8191,g+=5*_*x+5*j*k+5*K*C+5*B*D+5*R*O,h+=g>>>13,g&=8191,h=(y=h+I*R+T*z+N*L+S*P+U*M)>>>13,y&=8191,y+=5*F*x+5*_*k+5*j*C+5*K*D+5*B*O,h+=y>>>13,y&=8191,h=(A=h+I*B+T*R+N*z+S*L+U*P)>>>13,A&=8191,A+=x*M+5*F*k+5*_*C+5*j*D+5*K*O,h+=A>>>13,A&=8191,h=(w=h+I*K+T*B+N*R+S*z+U*L)>>>13,w&=8191,w+=x*P+k*M+5*F*C+5*_*D+5*j*O,h+=w>>>13,w&=8191,h=(m=h+I*j+T*K+N*B+S*R+U*z)>>>13,m&=8191,m+=x*L+k*P+C*M+5*F*D+5*_*O,h+=m>>>13,m&=8191,h=(E=h+I*_+T*j+N*K+S*B+U*R)>>>13,E&=8191,E+=x*z+k*L+C*P+D*M+5*F*O,h+=E>>>13,E&=8191,h=(v=h+I*F+T*_+N*j+S*K+U*B)>>>13,v&=8191,v+=x*R+k*z+C*L+D*P+O*M,h+=v>>>13,v&=8191,d=8191&(h=(h=(h<<2)+h|0)+d|0),h>>>=13,f+=h,I=d,T=f,N=p,S=g,U=y,x=A,k=w,C=m,D=E,O=v,t+=16,r-=16;this.h[0]=I,this.h[1]=T,this.h[2]=N,this.h[3]=S,this.h[4]=U,this.h[5]=x,this.h[6]=k,this.h[7]=C,this.h[8]=D,this.h[9]=O},N.prototype.finish=function(e,t){var r,n,i,s,o=new Uint16Array(10);if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=r,r=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,o[0]=this.h[0]+5,r=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this.h[s]+r,r=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,n=(1^r)-1,s=0;s<10;s++)o[s]&=n;for(n=~n,s=0;s<10;s++)this.h[s]=this.h[s]&n|o[s];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,i=this.h[0]+this.pad[0],this.h[0]=65535&i,s=1;s<8;s++)i=(this.h[s]+this.pad[s]|0)+(i>>>16)|0,this.h[s]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},N.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var Y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Z(e,t,r,n){for(var i,s,o,a,l,c,u,h,d,f,p,g,y,A,w,m,E,v,b,I,T,N,S,U,x,k,C=new Int32Array(16),D=new Int32Array(16),O=e[0],M=e[1],P=e[2],L=e[3],z=e[4],R=e[5],B=e[6],K=e[7],j=t[0],_=t[1],F=t[2],q=t[3],H=t[4],Q=t[5],V=t[6],Z=t[7],G=0;n>=128;){for(b=0;b<16;b++)I=8*b+G,C[b]=r[I+0]<<24|r[I+1]<<16|r[I+2]<<8|r[I+3],D[b]=r[I+4]<<24|r[I+5]<<16|r[I+6]<<8|r[I+7];for(b=0;b<80;b++)if(i=O,s=M,o=P,a=L,l=z,c=R,u=B,h=K,d=j,f=_,p=F,g=q,y=H,A=Q,w=V,m=Z,T=K,S=65535&(N=Z),U=N>>>16,x=65535&T,k=T>>>16,T=(z>>>14|H<<18)^(z>>>18|H<<14)^(H>>>9|z<<23),S+=65535&(N=(H>>>14|z<<18)^(H>>>18|z<<14)^(z>>>9|H<<23)),U+=N>>>16,x+=65535&T,k+=T>>>16,T=z&R^~z&B,S+=65535&(N=H&Q^~H&V),U+=N>>>16,x+=65535&T,k+=T>>>16,T=Y[2*b],S+=65535&(N=Y[2*b+1]),U+=N>>>16,x+=65535&T,k+=T>>>16,T=C[b%16],S+=65535&(N=D[b%16]),U+=N>>>16,x+=65535&T,k+=T>>>16,U+=S>>>16,x+=U>>>16,k+=x>>>16,E=65535&x|k<<16,v=65535&S|U<<16,T=E,S=65535&(N=v),U=N>>>16,x=65535&T,k=T>>>16,T=(O>>>28|j<<4)^(j>>>2|O<<30)^(j>>>7|O<<25),S+=65535&(N=(j>>>28|O<<4)^(O>>>2|j<<30)^(O>>>7|j<<25)),U+=N>>>16,x+=65535&T,k+=T>>>16,T=O&M^O&P^M&P,S+=65535&(N=j&_^j&F^_&F),U+=N>>>16,x+=65535&T,k+=T>>>16,U+=S>>>16,x+=U>>>16,k+=x>>>16,h=65535&x|k<<16,m=65535&S|U<<16,T=a,S=65535&(N=g),U=N>>>16,x=65535&T,k=T>>>16,T=E,S+=65535&(N=v),U+=N>>>16,x+=65535&T,k+=T>>>16,U+=S>>>16,x+=U>>>16,k+=x>>>16,a=65535&x|k<<16,g=65535&S|U<<16,M=i,P=s,L=o,z=a,R=l,B=c,K=u,O=h,_=d,F=f,q=p,H=g,Q=y,V=A,Z=w,j=m,b%16==15)for(I=0;I<16;I++)T=C[I],S=65535&(N=D[I]),U=N>>>16,x=65535&T,k=T>>>16,T=C[(I+9)%16],S+=65535&(N=D[(I+9)%16]),U+=N>>>16,x+=65535&T,k+=T>>>16,T=((E=C[(I+1)%16])>>>1|(v=D[(I+1)%16])<<31)^(E>>>8|v<<24)^E>>>7,S+=65535&(N=(v>>>1|E<<31)^(v>>>8|E<<24)^(v>>>7|E<<25)),U+=N>>>16,x+=65535&T,k+=T>>>16,T=((E=C[(I+14)%16])>>>19|(v=D[(I+14)%16])<<13)^(v>>>29|E<<3)^E>>>6,S+=65535&(N=(v>>>19|E<<13)^(E>>>29|v<<3)^(v>>>6|E<<26)),U+=N>>>16,x+=65535&T,k+=T>>>16,U+=S>>>16,x+=U>>>16,k+=x>>>16,C[I]=65535&x|k<<16,D[I]=65535&S|U<<16;T=O,S=65535&(N=j),U=N>>>16,x=65535&T,k=T>>>16,T=e[0],S+=65535&(N=t[0]),U+=N>>>16,x+=65535&T,k+=T>>>16,U+=S>>>16,x+=U>>>16,k+=x>>>16,e[0]=O=65535&x|k<<16,t[0]=j=65535&S|U<<16,T=M,S=65535&(N=_),U=N>>>16,x=65535&T,k=T>>>16,T=e[1],S+=65535&(N=t[1]),U+=N>>>16,x+=65535&T,k+=T>>>16,U+=S>>>16,x+=U>>>16,k+=x>>>16,e[1]=M=65535&x|k<<16,t[1]=_=65535&S|U<<16,T=P,S=65535&(N=F),U=N>>>16,x=65535&T,k=T>>>16,T=e[2],S+=65535&(N=t[2]),U+=N>>>16,x+=65535&T,k+=T>>>16,U+=S>>>16,x+=U>>>16,k+=x>>>16,e[2]=P=65535&x|k<<16,t[2]=F=65535&S|U<<16,T=L,S=65535&(N=q),U=N>>>16,x=65535&T,k=T>>>16,T=e[3],S+=65535&(N=t[3]),U+=N>>>16,x+=65535&T,k+=T>>>16,U+=S>>>16,x+=U>>>16,k+=x>>>16,e[3]=L=65535&x|k<<16,t[3]=q=65535&S|U<<16,T=z,S=65535&(N=H),U=N>>>16,x=65535&T,k=T>>>16,T=e[4],S+=65535&(N=t[4]),U+=N>>>16,x+=65535&T,k+=T>>>16,U+=S>>>16,x+=U>>>16,k+=x>>>16,e[4]=z=65535&x|k<<16,t[4]=H=65535&S|U<<16,T=R,S=65535&(N=Q),U=N>>>16,x=65535&T,k=T>>>16,T=e[5],S+=65535&(N=t[5]),U+=N>>>16,x+=65535&T,k+=T>>>16,U+=S>>>16,x+=U>>>16,k+=x>>>16,e[5]=R=65535&x|k<<16,t[5]=Q=65535&S|U<<16,T=B,S=65535&(N=V),U=N>>>16,x=65535&T,k=T>>>16,T=e[6],S+=65535&(N=t[6]),U+=N>>>16,x+=65535&T,k+=T>>>16,U+=S>>>16,x+=U>>>16,k+=x>>>16,e[6]=B=65535&x|k<<16,t[6]=V=65535&S|U<<16,T=K,S=65535&(N=Z),U=N>>>16,x=65535&T,k=T>>>16,T=e[7],S+=65535&(N=t[7]),U+=N>>>16,x+=65535&T,k+=T>>>16,U+=S>>>16,x+=U>>>16,k+=x>>>16,e[7]=K=65535&x|k<<16,t[7]=Z=65535&S|U<<16,G+=128,n-=128}return n}function G(e,t,r){var n,i=new Int32Array(8),s=new Int32Array(8),o=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,s[0]=4089235720,s[1]=2227873595,s[2]=4271175723,s[3]=1595750129,s[4]=2917565137,s[5]=725511199,s[6]=4215389547,s[7]=327033209,Z(i,s,t,r),r%=128,n=0;n<r;n++)o[n]=t[a-r+n];for(o[r]=128,o[(r=256-128*(r<112?1:0))-9]=0,p(o,r-8,a/536870912|0,a<<3),Z(i,s,o,r),n=0;n<8;n++)p(e,8*n,i[n],s[n]);return 0}function W(e,t){var n=r(),i=r(),s=r(),o=r(),a=r(),l=r(),c=r(),h=r(),d=r();B(n,e[1],e[0]),B(d,t[1],t[0]),K(n,n,d),R(i,e[0],e[1]),R(d,t[0],t[1]),K(i,i,d),K(s,e[3],t[3]),K(s,s,u),K(o,e[2],t[2]),R(o,o,o),B(a,i,n),B(l,o,s),R(c,o,s),R(h,i,n),K(e[0],a,l),K(e[1],h,c),K(e[2],c,l),K(e[3],a,h)}function J(e,t,r){var n;for(n=0;n<4;n++)O(e[n],t[n],r)}function X(e,t){var n=r(),i=r(),s=r();_(s,t[2]),K(n,t[0],s),K(i,t[1],s),M(e,i),e[31]^=L(n)<<7}function $(e,t,r){var n,i;for(C(e[0],o),C(e[1],a),C(e[2],a),C(e[3],o),i=255;i>=0;--i)J(e,t,n=r[i/8|0]>>(7&i)&1),W(t,e),W(e,e),J(e,t,n)}function ee(e,t){var n=[r(),r(),r(),r()];C(n[0],h),C(n[1],d),C(n[2],a),K(n[3],h,d),$(e,n,t)}function et(e,t,i){var s,o=new Uint8Array(64),a=[r(),r(),r(),r()];for(i||n(t,32),G(o,t,32),o[0]&=248,o[31]&=127,o[31]|=64,ee(a,o),X(e,a),s=0;s<32;s++)t[s+32]=e[s];return 0}var er=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function en(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*er[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*er[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*er[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function ei(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;en(e,r)}function es(e,t,n,i){var s,o,a=new Uint8Array(64),l=new Uint8Array(64),c=new Uint8Array(64),u=new Float64Array(64),h=[r(),r(),r(),r()];for(G(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64,s=0;s<n;s++)e[64+s]=t[s];for(s=0;s<32;s++)e[32+s]=a[32+s];for(G(c,e.subarray(32),n+32),ei(c),ee(h,c),X(e,h),s=32;s<64;s++)e[s]=i[s];for(G(l,e,n+64),ei(l),s=0;s<64;s++)u[s]=0;for(s=0;s<32;s++)u[s]=c[s];for(s=0;s<32;s++)for(o=0;o<32;o++)u[s+o]+=l[s]*a[o];return en(e.subarray(32),u),n+64}function eo(e,t,n,i){var s,l,u,h,d,p,g,y,w=new Uint8Array(32),m=new Uint8Array(64),E=[r(),r(),r(),r()],v=[r(),r(),r(),r()];if(n<64||(s=r(),l=r(),u=r(),h=r(),d=r(),p=r(),g=r(),C(v[2],a),z(v[1],i),j(u,v[1]),K(h,u,c),B(u,u,v[2]),R(h,v[2],h),j(d,h),j(p,d),K(g,p,d),K(s,g,u),K(s,s,h),F(s,s),K(s,s,u),K(s,s,h),K(s,s,h),K(v[0],s,h),j(l,v[0]),K(l,l,h),P(l,u)&&K(v[0],v[0],f),j(l,v[0]),K(l,l,h),P(l,u)?-1:(L(v[0])===i[31]>>7&&B(v[0],o,v[0]),K(v[3],v[0],v[1]),0)))return -1;for(y=0;y<n;y++)e[y]=t[y];for(y=0;y<32;y++)e[y+32]=i[y];if(G(m,e,n),ei(m),$(E,v,m),ee(v,t.subarray(32)),W(E,v),X(w,E),n-=64,A(t,0,w,0)){for(y=0;y<n;y++)e[y]=0;return -1}for(y=0;y<n;y++)e[y]=t[y+64];return n}function ea(e,t){if(32!==e.length)throw Error("bad key size");if(24!==t.length)throw Error("bad nonce size")}function el(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw TypeError("unexpected type, use Uint8Array")}function ec(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:m,crypto_stream_xor:T,crypto_stream:I,crypto_stream_salsa20_xor:v,crypto_stream_salsa20:b,crypto_onetimeauth:S,crypto_onetimeauth_verify:U,crypto_verify_16:y,crypto_verify_32:A,crypto_secretbox:x,crypto_secretbox_open:k,crypto_scalarmult:q,crypto_scalarmult_base:H,crypto_box_beforenm:V,crypto_box_afternm:x,crypto_box:function(e,t,r,n,i,s){var o=new Uint8Array(32);return V(o,i,s),x(e,t,r,n,o)},crypto_box_open:function(e,t,r,n,i,s){var o=new Uint8Array(32);return V(o,i,s),k(e,t,r,n,o)},crypto_box_keypair:Q,crypto_hash:G,crypto_sign:es,crypto_sign_keypair:et,crypto_sign_open:eo,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:r,D:c,L:er,pack25519:M,unpack25519:z,M:K,A:R,S:j,Z:B,pow2523:F,add:W,set25519:C,modL:en,scalarmult:$,scalarbase:ee},e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,r){el(e,t,r),ea(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+32]=e[s];return x(i,n,n.length,t,r),i.subarray(16)},e.secretbox.open=function(e,t,r){el(e,t,r),ea(r,t);for(var n=new Uint8Array(16+e.length),i=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+16]=e[s];return n.length<32||0!==k(i,n,n.length,t,r)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(el(e,t),32!==e.length)throw Error("bad n size");if(32!==t.length)throw Error("bad p size");var r=new Uint8Array(32);return q(r,e,t),r},e.scalarMult.base=function(e){if(el(e),32!==e.length)throw Error("bad n size");var t=new Uint8Array(32);return H(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var s=e.box.before(n,i);return e.secretbox(t,r,s)},e.box.before=function(e,t){el(e,t),function(e,t){if(32!==e.length)throw Error("bad public key size");if(32!==t.length)throw Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return V(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var s=e.box.before(n,i);return e.secretbox.open(t,r,s)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return Q(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(el(e),32!==e.length)throw Error("bad secret key size");var t=new Uint8Array(32);return H(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(el(e,t),64!==t.length)throw Error("bad secret key size");var r=new Uint8Array(64+e.length);return es(r,e,e.length,t),r},e.sign.open=function(e,t){if(el(e,t),32!==t.length)throw Error("bad public key size");var r=new Uint8Array(e.length),n=eo(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),s=0;s<i.length;s++)i[s]=r[s];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(64),s=0;s<i.length;s++)i[s]=n[s];return i},e.sign.detached.verify=function(e,t,r){if(el(e,t,r),64!==t.length)throw Error("bad signature size");if(32!==r.length)throw Error("bad public key size");var n,i=new Uint8Array(64+e.length),s=new Uint8Array(64+e.length);for(n=0;n<64;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+64]=e[n];return eo(s,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return et(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(el(e),64!==e.length)throw Error("bad secret key size");for(var t=new Uint8Array(32),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(el(e),32!==e.length)throw Error("bad seed size");for(var t=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=e[n];return et(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=32,e.sign.secretKeyLength=64,e.sign.seedLength=32,e.sign.signatureLength=64,e.hash=function(e){el(e);var t=new Uint8Array(64);return G(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return el(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===g(e,0,t,0,e.length)},e.setPRNG=function(e){n=e},(t="u">typeof self?self.crypto||self.msCrypto:null)&&t.getRandomValues?e.setPRNG(function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];ec(i)}):(t=e4)&&t.randomBytes&&e.setPRNG(function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];ec(i)})}((g={exports:{}}).exports?g.exports:self.nacl=self.nacl||{});let e8={encode:function(e,t=!1){let r;return e instanceof Uint8Array?r=e:("string"!=typeof e&&(e=JSON.stringify(e)),r=e3.decodeUTF8(e)),function(e,t){let r=e3.encodeBase64(e);return t?encodeURIComponent(r):r}(r,t)}};new AbortController;let e9=e=>{var t;if(!e)return Error("JWT Token not found. ");let r=(0,eX.o)(e);if((null==r?void 0:r.exp)<Date.now()/1e3)throw Error("JWT Token expired. Please login again! ");if(null!=(t=null==r?void 0:r["https://hasura.io/jwt/claims"])&&t["x-hasura-user-id"])return[r["https://hasura.io/jwt/claims"]["x-hasura-user-id"],e];throw Error("User id not found in JWT Token")},e7=eJ`
  mutation TGLoginMutation($appId: String = "", $initData: String = "") {
    tgLogin(appId: $appId, initData: $initData)
  }
`,te=eJ`
  mutation TGLoginMutation($appId: String = "", $initData: String = "", $shortId: String = "") {
    tgLogin(appId: $appId, initData: $initData, shortId: $shortId)
  }
`,tt=eJ`
  mutation tgWidgetLoginMutation($appId: String = "", $authData: String = "") {
    tgWidgetLogin(appId: $appId, authData: $authData)
  }
`,tr=eJ`
  mutation tgWidgetLoginMutation(
    $appId: String = ""
    $authData: String = ""
    $shortId: String = ""
  ) {
    tgWidgetLogin(appId: $appId, authData: $authData, shortId: $shortId)
  }
`,tn=eJ`
  query CheckUserIsExistQueryByTgId {
    telegramUser {
      walletUserId
      tgId
    }
  }
`,ti=eJ`
  query UserWalletAddressQuery($id: uuid = "") {
    walletUserByPk(id: $id) {
      sub_wallets {
        address
        publicKey
      }
      google_user {
        email
      }
      telegram_user {
        firstName
        lastName
        photoUrl
        userName
      }
      twitter_user {
        name
        userName
      }
    }
  }
`,ts=eJ`
  mutation CreateOrderQuery($appId: String = "", $payload: String = "") {
    createOrder(appId: $appId, payload: $payload, encode: "base64")
  }
`,to=eJ`
  mutation createSignatureMutation($appId: String = "", $transactionHex: String = "") {
    createSignature(appId: $appId, transactionHex: $transactionHex)
  }
`,ta=eJ`
  mutation createSignMessageMutation(
    $appId: String = ""
    $message: String = ""
    $nonce: String = ""
  ) {
    createSignMessage(appId: $appId, nonce: $nonce, message: $message) {
      fullMessage
      message
      nonce
      prefix
      signature
    }
  }
`,tl=eJ`
  query simulateOrderQuery($payload: String = "") {
    simulateOrder(payload: $payload, encode: "base64")
  }
`,tc=eJ`
  mutation confirmOrderQuery($orderId: String = "") {
    confirmOrder(orderId: $orderId)
  }
`,tu=eJ`
  query fetchOrderQuery($id: uuid = "") {
    orderByPk(id: $id) {
      id
      createdAt
      payload
      decodedPayload
      status
      type
      updatedAt
      walletUserId
      applicationId
      hash
      type
      transactions {
        hash
        type
      }
    }
  }
`;eJ`
  query fetchOrderHashQuery($orderId: String = "") {
    getOrderHash(orderId: $orderId)
  }
`;let th=eJ`
  query fetchOrderListQuery(
    $walletUserId: uuid = ""
    $limit: Int = 10
    $offset: Int = 0
    $status: [Int] = []
  ) {
    order(
      where: { walletUserId: { _eq: $walletUserId } }
      limit: $limit
      offset: $offset
      orderBy: { createdAt: DESC }
    ) {
      applicationId
      createdAt
      id
      payload
      decodedPayload
      status
      transactionSeqNo
      type
      updatedAt
      walletUserId
      hash
      gasFee
      transactions {
        hash
        gasFee
        createdAt
        status
        type
      }
    }
    orderAggregate(where: { walletUserId: { _eq: $walletUserId } }) {
      aggregate {
        count
      }
    }
  }
`,td=eJ`
  mutation bindGoogleQuery($address: String = "", $idToken: String = "") {
    googleBind(address: $address, idToken: $idToken)
  }
`,tf=eJ`
  mutation createOrderWithCodeMutation(
    $appId: String = ""
    $authCode: String = ""
    $payload: String = ""
  ) {
    createOrderWithCode(appId: $appId, authCode: $authCode, payload: $payload, encode: "base64")
  }
`,tp=e=>({function:e.function,functionArguments:e.functionArguments||e.arguments,typeArguments:e.typeArguments||e.type_arguments});var tg=((n=tg||{})[n.PENDING=0]="PENDING",n[n.CONFIRMED=1]="CONFIRMED",n[n.EXECUTED=2]="EXECUTED",n[n.SUCCESS=3]="SUCCESS",n[n.FAIL=4]="FAIL",n[n.CANCELED=5]="CANCELED",n);let ty={testnet:"https://hasura-wallet.mizu.one/v1/graphql",mainnet:"https://api.mz.xyz/v1/graphql/"};class tA{constructor(e){if(e0(this,"appId"),e0(this,"network"),e0(this,"graphqlEndPoint",""),e0(this,"userId",""),e0(this,"jwtToken",""),e0(this,"initialized",!1),!e.appId)throw Error("appId is required");if(!e.network)throw Error("network is required");this.appId=e.appId,this.network=e.network,this.graphqlEndPoint=ty[this.network],this.initialized=!0}checkInitialized(){if(!this.initialized)throw Error("MizuWallet SDK Core Client not initialized")}checkJWTToken(){if(!this.jwtToken)throw Error("JWT Token not found. Please login first.")}static decodeJWTToken(e){let[t,r]=e9(e);return[t,r]}static clone(e){if(!e.appId)throw Error("appId is required");if(!e.network)throw Error("network is required");if(!e.jwtToken)throw Error("jwtToken is required");let t=new tA({appId:e.appId,network:e.network});return[t.userId,t.jwtToken]=tA.decodeJWTToken(e.jwtToken),t}updateNetwork(e){this.checkInitialized(),this.network=e,this.graphqlEndPoint=ty[this.network]}get networkInfo(){return{name:this.network,chainId:this.network===I.ZcK.MAINNET?1:2,url:this.network===I.ZcK.MAINNET?"https://fullnode.mainnet.aptoslabs.com/v1":"https://fullnode.testnet.aptoslabs.com/v1"}}login(){this.checkInitialized()}async loginInTG(e,t){this.checkInitialized();let r="";r=null!=t&&t.isWidget?(await eZ({url:this.graphqlEndPoint,document:null!=t&&t.shortID?tr:tt,variables:{appId:this.appId,authData:e8.encode(e),...null!=t&&t.shortID?{shortId:t.shortID}:{}}})).tgWidgetLogin:(await eZ({url:this.graphqlEndPoint,document:null!=t&&t.shortID?te:e7,variables:{appId:this.appId,initData:e,...null!=t&&t.shortID?{shortId:t.shortID}:{}}})).tgLogin;try{[this.userId,this.jwtToken]=tA.decodeJWTToken(r)}catch{this.logout()}}async isUserExistByTgID(e){var t;if(this.checkInitialized(),!e)throw Error("tgId is required");let r=await eZ({url:this.graphqlEndPoint,document:tn,variables:{},requestHeaders:{"x-hasura-tg-id":e}});return(null==(t=null==r?void 0:r.telegramUser)?void 0:t.length)>0}async getUserWalletAddress(){return this.checkInitialized(),this.checkJWTToken(),(await eZ({url:this.graphqlEndPoint,document:ti,variables:{id:this.userId},requestHeaders:{Authorization:`Bearer ${this.jwtToken}`}})).walletUserByPk.sub_wallets[0].address}async getUserInfo(){return this.checkInitialized(),this.checkJWTToken(),(await eZ({url:this.graphqlEndPoint,document:ti,variables:{id:this.userId},requestHeaders:{Authorization:`Bearer ${this.jwtToken}`}})).walletUserByPk}logout(){this.userId="",this.jwtToken=""}async startBindGoogle(e){this.checkInitialized(),this.checkJWTToken();let t=new URLSearchParams({token:this.jwtToken,appId:this.appId,...e});window.open(`https://mizu.io/keyless_google?${t.toString()}`,"_blank")}async bindGoogleAccount(e){return this.checkInitialized(),this.checkJWTToken(),await eZ({url:this.graphqlEndPoint,document:td,variables:{...e},requestHeaders:{Authorization:`Bearer ${this.jwtToken}`}})}async simulateOrder(e){this.checkInitialized(),this.checkJWTToken();let t=await eZ({url:this.graphqlEndPoint,document:tl,variables:{payload:e8.encode(tp(e.payload))},requestHeaders:{Authorization:`Bearer ${this.jwtToken}`}});return null==t?void 0:t.simulateOrder}async createOrder(e){this.checkInitialized(),this.checkJWTToken();let t=await eZ({url:this.graphqlEndPoint,document:ts,variables:{appId:this.appId,payload:e8.encode(tp(e.payload))},requestHeaders:{Authorization:`Bearer ${this.jwtToken}`}});return null==t?void 0:t.createOrder}async createOrderWithCode(e){this.checkInitialized();let t=await eZ({url:this.graphqlEndPoint,document:tf,variables:{appId:this.appId,authCode:e.code,payload:e8.encode(tp(e.payload))},requestHeaders:{}});return null==t?void 0:t.createOrderWithCode}async createSignature(e){this.checkInitialized(),this.checkJWTToken();let t=await eZ({url:this.graphqlEndPoint,document:to,variables:{appId:this.appId,transactionHex:e.transactionHex},requestHeaders:{Authorization:`Bearer ${this.jwtToken}`}});return null==t?void 0:t.createSignature}async signMessage(e){this.checkInitialized(),this.checkJWTToken();let t=await eZ({url:this.graphqlEndPoint,document:ta,variables:{appId:this.appId,...e},requestHeaders:{Authorization:`Bearer ${this.jwtToken}`}});return null==t?void 0:t.createSignMessage}async confirmOrder(e){this.checkInitialized(),this.checkJWTToken();let t=await eZ({url:this.graphqlEndPoint,document:tc,variables:{orderId:e.orderId},requestHeaders:{Authorization:`Bearer ${this.jwtToken}`}});return null==t?void 0:t.confirmOrder}async fetchOrder(e){this.checkInitialized(),this.checkJWTToken();let t=await eZ({url:this.graphqlEndPoint,document:tu,variables:{id:e.id},requestHeaders:{Authorization:`Bearer ${this.jwtToken}`}});if(!t.orderByPk)throw Error("Order not found");return{...t.orderByPk,payload:t.orderByPk.decodedPayload}}async waitForOrder(e){let t=await this.fetchOrder({id:e.orderId}),r=20;for(;r-- >0&&![tg.SUCCESS,tg.FAIL,tg.CANCELED].includes(t.status);)await new Promise(e=>setTimeout(e,5e3)),t=await this.fetchOrder({id:e.orderId});if(t.status===tg.FAIL)throw Error("Order failed");return t}async fetchOrderList(e){this.checkInitialized(),this.checkJWTToken();let{limit:t=10,offset:r=0}=e||{},n=await eZ({url:this.graphqlEndPoint,document:th,variables:{walletUserId:this.userId,limit:t,offset:r},requestHeaders:{Authorization:`Bearer ${this.jwtToken}`}});return{data:null==n?void 0:n.order.map(e=>{let t={};try{t=e.decodedPayload}catch(e){console.error(e)}return{...e,payload:t}}),pagination:{total:null==n?void 0:n.orderAggregate.aggregate.count,limit:t,offset:r}}}}var tw=r(34701),tm=r(34701).Buffer,tE=Object.defineProperty,tv=(e,t,r)=>t in e?tE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,tb=(e,t,r)=>tv(e,"symbol"!=typeof t?t+"":t,r),tI=["aptos:devnet","aptos:testnet","aptos:localnet","aptos:mainnet"],tT=((i=tT||{})[i.Unauthorized=4100]="Unauthorized",i[i.InternalError=-30001]="InternalError",i),tN=Object.freeze({4100:{status:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[-30001]:{status:"Internal error",message:"Something went wrong within the wallet."}}),tS=class e extends Error{constructor(t,r){var n,i;super(r??(null==(n=tN[t])?void 0:n.message)??"Unknown error occurred"),this.code=t,this.status=(null==(i=tN[t])?void 0:i.status)??"Unknown error",this.name="AptosWalletError",Object.setPrototypeOf(this,e.prototype)}},tU=((s=tU||{}).APPROVED="Approved",s.REJECTED="Rejected",s);let tx=e=>e===I.ZcK.TESTNET?"https://t.me/mizuwallet_bot/mizuwallet_testnet":"https://t.me/mizuwallet_bot/mizuwallet",tk={CONNECT:"[Mizu Wallet Connection] ",TRANSACTION:"[Mizu Wallet Transaction] "},tC=e=>e===I.ZcK.TESTNET?"0c460c1a-5175-4383-b1c2-35b934f5aa71":"07418a1b-9574-4449-bd34-2146db60b05c";var tD="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof global?global:"u">typeof self?self:{};function tO(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tM={exports:{}};y=function(){var e={};function t(e){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e))throw TypeError("invalid encoding")}return e.decodeUTF8=function(e){if("string"!=typeof e)throw TypeError("expected string");var t,r=unescape(encodeURIComponent(e)),n=new Uint8Array(r.length);for(t=0;t<r.length;t++)n[t]=r.charCodeAt(t);return n},e.encodeUTF8=function(e){var t,r=[];for(t=0;t<e.length;t++)r.push(String.fromCharCode(e[t]));return decodeURIComponent(escape(r.join("")))},typeof atob>"u"?"u">typeof tm.from?(e.encodeBase64=function(e){return tm.from(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(tm.from(e,"base64"),0))}):(e.encodeBase64=function(e){return new tm(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(new tm(e,"base64"),0))}):(e.encodeBase64=function(e){var t,r=[],n=e.length;for(t=0;t<n;t++)r.push(String.fromCharCode(e[t]));return btoa(r.join(""))},e.decodeBase64=function(e){t(e);var r,n=atob(e),i=new Uint8Array(n.length);for(r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}),e},tM.exports?tM.exports=y():(tD.nacl||(tD.nacl={}),tD.nacl.util=y());let tP=tO(tM.exports);var tL={exports:{}};let tz=function(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}),r}(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));!function(e){var t,r=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},n=function(){throw Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=r(),a=r([1]),l=r([56129,1]),c=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function g(e,t,r,n,i){var s,o=0;for(s=0;s<i;s++)o|=e[t+s]^r[n+s];return(1&o-1>>>8)-1}function y(e,t,r,n){return g(e,t,r,n,16)}function A(e,t,r,n){return g(e,t,r,n,32)}function w(e,t,r,n){!function(e,t,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,l=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,u=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,A=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,w=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,m=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,E=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,v=s,b=o,I=a,T=l,N=c,S=u,U=h,x=d,k=f,C=p,D=g,O=y,M=A,P=w,L=m,z=E,R=0;R<20;R+=2)N^=(i=v+M|0)<<7|i>>>25,k^=(i=N+v|0)<<9|i>>>23,M^=(i=k+N|0)<<13|i>>>19,v^=(i=M+k|0)<<18|i>>>14,C^=(i=S+b|0)<<7|i>>>25,P^=(i=C+S|0)<<9|i>>>23,b^=(i=P+C|0)<<13|i>>>19,S^=(i=b+P|0)<<18|i>>>14,L^=(i=D+U|0)<<7|i>>>25,I^=(i=L+D|0)<<9|i>>>23,U^=(i=I+L|0)<<13|i>>>19,D^=(i=U+I|0)<<18|i>>>14,T^=(i=z+O|0)<<7|i>>>25,x^=(i=T+z|0)<<9|i>>>23,O^=(i=x+T|0)<<13|i>>>19,z^=(i=O+x|0)<<18|i>>>14,b^=(i=v+T|0)<<7|i>>>25,I^=(i=b+v|0)<<9|i>>>23,T^=(i=I+b|0)<<13|i>>>19,v^=(i=T+I|0)<<18|i>>>14,U^=(i=S+N|0)<<7|i>>>25,x^=(i=U+S|0)<<9|i>>>23,N^=(i=x+U|0)<<13|i>>>19,S^=(i=N+x|0)<<18|i>>>14,O^=(i=D+C|0)<<7|i>>>25,k^=(i=O+D|0)<<9|i>>>23,C^=(i=k+O|0)<<13|i>>>19,D^=(i=C+k|0)<<18|i>>>14,M^=(i=z+L|0)<<7|i>>>25,P^=(i=M+z|0)<<9|i>>>23,L^=(i=P+M|0)<<13|i>>>19,z^=(i=L+P|0)<<18|i>>>14;v=v+s|0,b=b+o|0,I=I+a|0,T=T+l|0,N=N+c|0,S=S+u|0,U=U+h|0,x=x+d|0,k=k+f|0,C=C+p|0,D=D+g|0,O=O+y|0,M=M+A|0,P=P+w|0,L=L+m|0,z=z+E|0,e[0]=v>>>0&255,e[1]=v>>>8&255,e[2]=v>>>16&255,e[3]=v>>>24&255,e[4]=b>>>0&255,e[5]=b>>>8&255,e[6]=b>>>16&255,e[7]=b>>>24&255,e[8]=I>>>0&255,e[9]=I>>>8&255,e[10]=I>>>16&255,e[11]=I>>>24&255,e[12]=T>>>0&255,e[13]=T>>>8&255,e[14]=T>>>16&255,e[15]=T>>>24&255,e[16]=N>>>0&255,e[17]=N>>>8&255,e[18]=N>>>16&255,e[19]=N>>>24&255,e[20]=S>>>0&255,e[21]=S>>>8&255,e[22]=S>>>16&255,e[23]=S>>>24&255,e[24]=U>>>0&255,e[25]=U>>>8&255,e[26]=U>>>16&255,e[27]=U>>>24&255,e[28]=x>>>0&255,e[29]=x>>>8&255,e[30]=x>>>16&255,e[31]=x>>>24&255,e[32]=k>>>0&255,e[33]=k>>>8&255,e[34]=k>>>16&255,e[35]=k>>>24&255,e[36]=C>>>0&255,e[37]=C>>>8&255,e[38]=C>>>16&255,e[39]=C>>>24&255,e[40]=D>>>0&255,e[41]=D>>>8&255,e[42]=D>>>16&255,e[43]=D>>>24&255,e[44]=O>>>0&255,e[45]=O>>>8&255,e[46]=O>>>16&255,e[47]=O>>>24&255,e[48]=M>>>0&255,e[49]=M>>>8&255,e[50]=M>>>16&255,e[51]=M>>>24&255,e[52]=P>>>0&255,e[53]=P>>>8&255,e[54]=P>>>16&255,e[55]=P>>>24&255,e[56]=L>>>0&255,e[57]=L>>>8&255,e[58]=L>>>16&255,e[59]=L>>>24&255,e[60]=z>>>0&255,e[61]=z>>>8&255,e[62]=z>>>16&255,e[63]=z>>>24&255}(e,t,r,n)}function m(e,t,r,n){!function(e,t,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,l=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,u=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,A=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,w=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,m=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,E=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,v=s,b=o,I=a,T=l,N=c,S=u,U=h,x=d,k=f,C=p,D=g,O=y,M=A,P=w,L=m,z=E,R=0;R<20;R+=2)N^=(i=v+M|0)<<7|i>>>25,k^=(i=N+v|0)<<9|i>>>23,M^=(i=k+N|0)<<13|i>>>19,v^=(i=M+k|0)<<18|i>>>14,C^=(i=S+b|0)<<7|i>>>25,P^=(i=C+S|0)<<9|i>>>23,b^=(i=P+C|0)<<13|i>>>19,S^=(i=b+P|0)<<18|i>>>14,L^=(i=D+U|0)<<7|i>>>25,I^=(i=L+D|0)<<9|i>>>23,U^=(i=I+L|0)<<13|i>>>19,D^=(i=U+I|0)<<18|i>>>14,T^=(i=z+O|0)<<7|i>>>25,x^=(i=T+z|0)<<9|i>>>23,O^=(i=x+T|0)<<13|i>>>19,z^=(i=O+x|0)<<18|i>>>14,b^=(i=v+T|0)<<7|i>>>25,I^=(i=b+v|0)<<9|i>>>23,T^=(i=I+b|0)<<13|i>>>19,v^=(i=T+I|0)<<18|i>>>14,U^=(i=S+N|0)<<7|i>>>25,x^=(i=U+S|0)<<9|i>>>23,N^=(i=x+U|0)<<13|i>>>19,S^=(i=N+x|0)<<18|i>>>14,O^=(i=D+C|0)<<7|i>>>25,k^=(i=O+D|0)<<9|i>>>23,C^=(i=k+O|0)<<13|i>>>19,D^=(i=C+k|0)<<18|i>>>14,M^=(i=z+L|0)<<7|i>>>25,P^=(i=M+z|0)<<9|i>>>23,L^=(i=P+M|0)<<13|i>>>19,z^=(i=L+P|0)<<18|i>>>14;e[0]=v>>>0&255,e[1]=v>>>8&255,e[2]=v>>>16&255,e[3]=v>>>24&255,e[4]=S>>>0&255,e[5]=S>>>8&255,e[6]=S>>>16&255,e[7]=S>>>24&255,e[8]=D>>>0&255,e[9]=D>>>8&255,e[10]=D>>>16&255,e[11]=D>>>24&255,e[12]=z>>>0&255,e[13]=z>>>8&255,e[14]=z>>>16&255,e[15]=z>>>24&255,e[16]=U>>>0&255,e[17]=U>>>8&255,e[18]=U>>>16&255,e[19]=U>>>24&255,e[20]=x>>>0&255,e[21]=x>>>8&255,e[22]=x>>>16&255,e[23]=x>>>24&255,e[24]=k>>>0&255,e[25]=k>>>8&255,e[26]=k>>>16&255,e[27]=k>>>24&255,e[28]=C>>>0&255,e[29]=C>>>8&255,e[30]=C>>>16&255,e[31]=C>>>24&255}(e,t,r,n)}var E=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function v(e,t,r,n,i,s,o){var a,l,c=new Uint8Array(16),u=new Uint8Array(64);for(l=0;l<16;l++)c[l]=0;for(l=0;l<8;l++)c[l]=s[l];for(;i>=64;){for(w(u,c,o,E),l=0;l<64;l++)e[t+l]=r[n+l]^u[l];for(a=1,l=8;l<16;l++)a=a+(255&c[l])|0,c[l]=255&a,a>>>=8;i-=64,t+=64,n+=64}if(i>0)for(w(u,c,o,E),l=0;l<i;l++)e[t+l]=r[n+l]^u[l];return 0}function b(e,t,r,n,i){var s,o,a=new Uint8Array(16),l=new Uint8Array(64);for(o=0;o<16;o++)a[o]=0;for(o=0;o<8;o++)a[o]=n[o];for(;r>=64;){for(w(l,a,i,E),o=0;o<64;o++)e[t+o]=l[o];for(s=1,o=8;o<16;o++)s=s+(255&a[o])|0,a[o]=255&s,s>>>=8;r-=64,t+=64}if(r>0)for(w(l,a,i,E),o=0;o<r;o++)e[t+o]=l[o];return 0}function I(e,t,r,n,i){var s=new Uint8Array(32);m(s,n,i,E);for(var o=new Uint8Array(8),a=0;a<8;a++)o[a]=n[a+16];return b(e,t,r,o,s)}function T(e,t,r,n,i,s,o){var a=new Uint8Array(32);m(a,s,o,E);for(var l=new Uint8Array(8),c=0;c<8;c++)l[c]=s[c+16];return v(e,t,r,n,i,l,a)}var N=function(e){var t,r,n,i,s,o,a,l;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=(t>>>13|r<<3)&8191,n=255&e[4]|(255&e[5])<<8,this.r[2]=(r>>>10|n<<6)&7939,i=255&e[6]|(255&e[7])<<8,this.r[3]=(n>>>7|i<<9)&8191,s=255&e[8]|(255&e[9])<<8,this.r[4]=(i>>>4|s<<12)&255,this.r[5]=s>>>1&8190,o=255&e[10]|(255&e[11])<<8,this.r[6]=(s>>>14|o<<2)&8191,a=255&e[12]|(255&e[13])<<8,this.r[7]=(o>>>11|a<<5)&8065,l=255&e[14]|(255&e[15])<<8,this.r[8]=(a>>>8|l<<8)&8191,this.r[9]=l>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function S(e,t,r,n,i,s){var o=new N(s);return o.update(r,n,i),o.finish(e,t),0}function U(e,t,r,n,i,s){var o=new Uint8Array(16);return S(o,0,r,n,i,s),y(e,t,o,0)}function x(e,t,r,n,i){var s;if(r<32)return -1;for(T(e,0,t,0,r,n,i),S(e,16,e,32,r-32,e),s=0;s<16;s++)e[s]=0;return 0}function k(e,t,r,n,i){var s,o=new Uint8Array(32);if(r<32||(I(o,0,32,n,i),0!==U(t,16,t,32,r-32,o)))return -1;for(T(e,0,t,0,r,n,i),s=0;s<32;s++)e[s]=0;return 0}function C(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function D(e){var t,r,n=1;for(t=0;t<16;t++)n=Math.floor((r=e[t]+n+65535)/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function O(e,t,r){for(var n,i=~(r-1),s=0;s<16;s++)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}function M(e,t){var n,i,s,o=r(),a=r();for(n=0;n<16;n++)a[n]=t[n];for(D(a),D(a),D(a),i=0;i<2;i++){for(o[0]=a[0]-65517,n=1;n<15;n++)o[n]=a[n]-65535-(o[n-1]>>16&1),o[n-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),s=o[15]>>16&1,o[14]&=65535,O(a,o,1-s)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function P(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return M(r,e),M(n,t),A(r,0,n,0)}function L(e){var t=new Uint8Array(32);return M(t,e),1&t[0]}function z(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function R(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function B(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function K(e,t,r){var n,i,s=0,o=0,a=0,l=0,c=0,u=0,h=0,d=0,f=0,p=0,g=0,y=0,A=0,w=0,m=0,E=0,v=0,b=0,I=0,T=0,N=0,S=0,U=0,x=0,k=0,C=0,D=0,O=0,M=0,P=0,L=0,z=r[0],R=r[1],B=r[2],K=r[3],j=r[4],_=r[5],F=r[6],q=r[7],H=r[8],Q=r[9],V=r[10],Y=r[11],Z=r[12],G=r[13],W=r[14],J=r[15];s+=(n=t[0])*z,o+=n*R,a+=n*B,l+=n*K,c+=n*j,u+=n*_,h+=n*F,d+=n*q,f+=n*H,p+=n*Q,g+=n*V,y+=n*Y,A+=n*Z,w+=n*G,m+=n*W,E+=n*J,o+=(n=t[1])*z,a+=n*R,l+=n*B,c+=n*K,u+=n*j,h+=n*_,d+=n*F,f+=n*q,p+=n*H,g+=n*Q,y+=n*V,A+=n*Y,w+=n*Z,m+=n*G,E+=n*W,v+=n*J,a+=(n=t[2])*z,l+=n*R,c+=n*B,u+=n*K,h+=n*j,d+=n*_,f+=n*F,p+=n*q,g+=n*H,y+=n*Q,A+=n*V,w+=n*Y,m+=n*Z,E+=n*G,v+=n*W,b+=n*J,l+=(n=t[3])*z,c+=n*R,u+=n*B,h+=n*K,d+=n*j,f+=n*_,p+=n*F,g+=n*q,y+=n*H,A+=n*Q,w+=n*V,m+=n*Y,E+=n*Z,v+=n*G,b+=n*W,I+=n*J,c+=(n=t[4])*z,u+=n*R,h+=n*B,d+=n*K,f+=n*j,p+=n*_,g+=n*F,y+=n*q,A+=n*H,w+=n*Q,m+=n*V,E+=n*Y,v+=n*Z,b+=n*G,I+=n*W,T+=n*J,u+=(n=t[5])*z,h+=n*R,d+=n*B,f+=n*K,p+=n*j,g+=n*_,y+=n*F,A+=n*q,w+=n*H,m+=n*Q,E+=n*V,v+=n*Y,b+=n*Z,I+=n*G,T+=n*W,N+=n*J,h+=(n=t[6])*z,d+=n*R,f+=n*B,p+=n*K,g+=n*j,y+=n*_,A+=n*F,w+=n*q,m+=n*H,E+=n*Q,v+=n*V,b+=n*Y,I+=n*Z,T+=n*G,N+=n*W,S+=n*J,d+=(n=t[7])*z,f+=n*R,p+=n*B,g+=n*K,y+=n*j,A+=n*_,w+=n*F,m+=n*q,E+=n*H,v+=n*Q,b+=n*V,I+=n*Y,T+=n*Z,N+=n*G,S+=n*W,U+=n*J,f+=(n=t[8])*z,p+=n*R,g+=n*B,y+=n*K,A+=n*j,w+=n*_,m+=n*F,E+=n*q,v+=n*H,b+=n*Q,I+=n*V,T+=n*Y,N+=n*Z,S+=n*G,U+=n*W,x+=n*J,p+=(n=t[9])*z,g+=n*R,y+=n*B,A+=n*K,w+=n*j,m+=n*_,E+=n*F,v+=n*q,b+=n*H,I+=n*Q,T+=n*V,N+=n*Y,S+=n*Z,U+=n*G,x+=n*W,k+=n*J,g+=(n=t[10])*z,y+=n*R,A+=n*B,w+=n*K,m+=n*j,E+=n*_,v+=n*F,b+=n*q,I+=n*H,T+=n*Q,N+=n*V,S+=n*Y,U+=n*Z,x+=n*G,k+=n*W,C+=n*J,y+=(n=t[11])*z,A+=n*R,w+=n*B,m+=n*K,E+=n*j,v+=n*_,b+=n*F,I+=n*q,T+=n*H,N+=n*Q,S+=n*V,U+=n*Y,x+=n*Z,k+=n*G,C+=n*W,D+=n*J,A+=(n=t[12])*z,w+=n*R,m+=n*B,E+=n*K,v+=n*j,b+=n*_,I+=n*F,T+=n*q,N+=n*H,S+=n*Q,U+=n*V,x+=n*Y,k+=n*Z,C+=n*G,D+=n*W,O+=n*J,w+=(n=t[13])*z,m+=n*R,E+=n*B,v+=n*K,b+=n*j,I+=n*_,T+=n*F,N+=n*q,S+=n*H,U+=n*Q,x+=n*V,k+=n*Y,C+=n*Z,D+=n*G,O+=n*W,M+=n*J,m+=(n=t[14])*z,E+=n*R,v+=n*B,b+=n*K,I+=n*j,T+=n*_,N+=n*F,S+=n*q,U+=n*H,x+=n*Q,k+=n*V,C+=n*Y,D+=n*Z,O+=n*G,M+=n*W,P+=n*J,E+=(n=t[15])*z,v+=n*R,b+=n*B,I+=n*K,T+=n*j,N+=n*_,S+=n*F,U+=n*q,x+=n*H,k+=n*Q,C+=n*V,D+=n*Y,O+=n*Z,M+=n*G,P+=n*W,L+=n*J,s+=38*v,o+=38*b,a+=38*I,l+=38*T,c+=38*N,u+=38*S,h+=38*U,d+=38*x,f+=38*k,p+=38*C,g+=38*D,y+=38*O,A+=38*M,w+=38*P,m+=38*L,i=Math.floor((n=s+(i=1)+65535)/65536),s=n-65536*i,i=Math.floor((n=o+i+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=A+i+65535)/65536),A=n-65536*i,i=Math.floor((n=w+i+65535)/65536),w=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=E+i+65535)/65536),E=n-65536*i,s+=i-1+37*(i-1),i=Math.floor((n=s+(i=1)+65535)/65536),s=n-65536*i,i=Math.floor((n=o+i+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=A+i+65535)/65536),A=n-65536*i,i=Math.floor((n=w+i+65535)/65536),w=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=E+i+65535)/65536),E=n-65536*i,s+=i-1+37*(i-1),e[0]=s,e[1]=o,e[2]=a,e[3]=l,e[4]=c,e[5]=u,e[6]=h,e[7]=d,e[8]=f,e[9]=p,e[10]=g,e[11]=y,e[12]=A,e[13]=w,e[14]=m,e[15]=E}function j(e,t){K(e,t,t)}function _(e,t){var n,i=r();for(n=0;n<16;n++)i[n]=t[n];for(n=253;n>=0;n--)j(i,i),2!==n&&4!==n&&K(i,i,t);for(n=0;n<16;n++)e[n]=i[n]}function F(e,t){var n,i=r();for(n=0;n<16;n++)i[n]=t[n];for(n=250;n>=0;n--)j(i,i),1!==n&&K(i,i,t);for(n=0;n<16;n++)e[n]=i[n]}function q(e,t,n){var i,s,o=new Uint8Array(32),a=new Float64Array(80),c=r(),u=r(),h=r(),d=r(),f=r(),p=r();for(s=0;s<31;s++)o[s]=t[s];for(o[31]=127&t[31]|64,o[0]&=248,z(a,n),s=0;s<16;s++)u[s]=a[s],d[s]=c[s]=h[s]=0;for(c[0]=d[0]=1,s=254;s>=0;--s)O(c,u,i=o[s>>>3]>>>(7&s)&1),O(h,d,i),R(f,c,h),B(c,c,h),R(h,u,d),B(u,u,d),j(d,f),j(p,c),K(c,h,c),K(h,u,f),R(f,c,h),B(c,c,h),j(u,c),B(h,d,p),K(c,h,l),R(c,c,d),K(h,h,c),K(c,d,p),K(d,u,a),j(u,f),O(c,u,i),O(h,d,i);for(s=0;s<16;s++)a[s+16]=c[s],a[s+32]=h[s],a[s+48]=u[s],a[s+64]=d[s];var g=a.subarray(32),y=a.subarray(16);return _(g,g),K(y,y,g),M(e,y),0}function H(e,t){return q(e,t,s)}function Q(e,t){return n(t,32),H(e,t)}function V(e,t,r){var n=new Uint8Array(32);return q(n,r,t),m(e,i,n,E)}N.prototype.blocks=function(e,t,r){for(var n,i,s,o,a,l,c,u,h,d,f,p,g,y,A,w,m,E,v,b=this.fin?0:2048,I=this.h[0],T=this.h[1],N=this.h[2],S=this.h[3],U=this.h[4],x=this.h[5],k=this.h[6],C=this.h[7],D=this.h[8],O=this.h[9],M=this.r[0],P=this.r[1],L=this.r[2],z=this.r[3],R=this.r[4],B=this.r[5],K=this.r[6],j=this.r[7],_=this.r[8],F=this.r[9];r>=16;)I+=8191&(n=255&e[t+0]|(255&e[t+1])<<8),T+=(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3)&8191,N+=(i>>>10|(s=255&e[t+4]|(255&e[t+5])<<8)<<6)&8191,S+=(s>>>7|(o=255&e[t+6]|(255&e[t+7])<<8)<<9)&8191,U+=(o>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12)&8191,x+=a>>>1&8191,k+=(a>>>14|(l=255&e[t+10]|(255&e[t+11])<<8)<<2)&8191,C+=(l>>>11|(c=255&e[t+12]|(255&e[t+13])<<8)<<5)&8191,D+=(c>>>8|(u=255&e[t+14]|(255&e[t+15])<<8)<<8)&8191,O+=u>>>5|b,h=(d=(h=0)+I*M+5*F*T+5*_*N+5*j*S+5*K*U)>>>13,d&=8191,d+=5*B*x+5*R*k+5*z*C+5*L*D+5*P*O,h+=d>>>13,d&=8191,h=(f=h+I*P+T*M+5*F*N+5*_*S+5*j*U)>>>13,f&=8191,f+=5*K*x+5*B*k+5*R*C+5*z*D+5*L*O,h+=f>>>13,f&=8191,h=(p=h+I*L+T*P+N*M+5*F*S+5*_*U)>>>13,p&=8191,p+=5*j*x+5*K*k+5*B*C+5*R*D+5*z*O,h+=p>>>13,p&=8191,h=(g=h+I*z+T*L+N*P+S*M+5*F*U)>>>13,g&=8191,g+=5*_*x+5*j*k+5*K*C+5*B*D+5*R*O,h+=g>>>13,g&=8191,h=(y=h+I*R+T*z+N*L+S*P+U*M)>>>13,y&=8191,y+=5*F*x+5*_*k+5*j*C+5*K*D+5*B*O,h+=y>>>13,y&=8191,h=(A=h+I*B+T*R+N*z+S*L+U*P)>>>13,A&=8191,A+=x*M+5*F*k+5*_*C+5*j*D+5*K*O,h+=A>>>13,A&=8191,h=(w=h+I*K+T*B+N*R+S*z+U*L)>>>13,w&=8191,w+=x*P+k*M+5*F*C+5*_*D+5*j*O,h+=w>>>13,w&=8191,h=(m=h+I*j+T*K+N*B+S*R+U*z)>>>13,m&=8191,m+=x*L+k*P+C*M+5*F*D+5*_*O,h+=m>>>13,m&=8191,h=(E=h+I*_+T*j+N*K+S*B+U*R)>>>13,E&=8191,E+=x*z+k*L+C*P+D*M+5*F*O,h+=E>>>13,E&=8191,h=(v=h+I*F+T*_+N*j+S*K+U*B)>>>13,v&=8191,v+=x*R+k*z+C*L+D*P+O*M,h+=v>>>13,v&=8191,d=8191&(h=(h=(h<<2)+h|0)+d|0),h>>>=13,f+=h,I=d,T=f,N=p,S=g,U=y,x=A,k=w,C=m,D=E,O=v,t+=16,r-=16;this.h[0]=I,this.h[1]=T,this.h[2]=N,this.h[3]=S,this.h[4]=U,this.h[5]=x,this.h[6]=k,this.h[7]=C,this.h[8]=D,this.h[9]=O},N.prototype.finish=function(e,t){var r,n,i,s,o=new Uint16Array(10);if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=r,r=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,o[0]=this.h[0]+5,r=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this.h[s]+r,r=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,n=(1^r)-1,s=0;s<10;s++)o[s]&=n;for(n=~n,s=0;s<10;s++)this.h[s]=this.h[s]&n|o[s];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,i=this.h[0]+this.pad[0],this.h[0]=65535&i,s=1;s<8;s++)i=(this.h[s]+this.pad[s]|0)+(i>>>16)|0,this.h[s]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},N.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var Y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Z(e,t,r,n){for(var i,s,o,a,l,c,u,h,d,f,p,g,y,A,w,m,E,v,b,I,T,N,S,U,x,k,C=new Int32Array(16),D=new Int32Array(16),O=e[0],M=e[1],P=e[2],L=e[3],z=e[4],R=e[5],B=e[6],K=e[7],j=t[0],_=t[1],F=t[2],q=t[3],H=t[4],Q=t[5],V=t[6],Z=t[7],G=0;n>=128;){for(b=0;b<16;b++)I=8*b+G,C[b]=r[I+0]<<24|r[I+1]<<16|r[I+2]<<8|r[I+3],D[b]=r[I+4]<<24|r[I+5]<<16|r[I+6]<<8|r[I+7];for(b=0;b<80;b++)if(i=O,s=M,o=P,a=L,l=z,c=R,u=B,h=K,d=j,f=_,p=F,g=q,y=H,A=Q,w=V,m=Z,T=K,S=65535&(N=Z),U=N>>>16,x=65535&T,k=T>>>16,T=(z>>>14|H<<18)^(z>>>18|H<<14)^(H>>>9|z<<23),S+=65535&(N=(H>>>14|z<<18)^(H>>>18|z<<14)^(z>>>9|H<<23)),U+=N>>>16,x+=65535&T,k+=T>>>16,T=z&R^~z&B,S+=65535&(N=H&Q^~H&V),U+=N>>>16,x+=65535&T,k+=T>>>16,T=Y[2*b],S+=65535&(N=Y[2*b+1]),U+=N>>>16,x+=65535&T,k+=T>>>16,T=C[b%16],S+=65535&(N=D[b%16]),U+=N>>>16,x+=65535&T,k+=T>>>16,U+=S>>>16,x+=U>>>16,k+=x>>>16,E=65535&x|k<<16,v=65535&S|U<<16,T=E,S=65535&(N=v),U=N>>>16,x=65535&T,k=T>>>16,T=(O>>>28|j<<4)^(j>>>2|O<<30)^(j>>>7|O<<25),S+=65535&(N=(j>>>28|O<<4)^(O>>>2|j<<30)^(O>>>7|j<<25)),U+=N>>>16,x+=65535&T,k+=T>>>16,T=O&M^O&P^M&P,S+=65535&(N=j&_^j&F^_&F),U+=N>>>16,x+=65535&T,k+=T>>>16,U+=S>>>16,x+=U>>>16,k+=x>>>16,h=65535&x|k<<16,m=65535&S|U<<16,T=a,S=65535&(N=g),U=N>>>16,x=65535&T,k=T>>>16,T=E,S+=65535&(N=v),U+=N>>>16,x+=65535&T,k+=T>>>16,U+=S>>>16,x+=U>>>16,k+=x>>>16,a=65535&x|k<<16,g=65535&S|U<<16,M=i,P=s,L=o,z=a,R=l,B=c,K=u,O=h,_=d,F=f,q=p,H=g,Q=y,V=A,Z=w,j=m,b%16==15)for(I=0;I<16;I++)T=C[I],S=65535&(N=D[I]),U=N>>>16,x=65535&T,k=T>>>16,T=C[(I+9)%16],S+=65535&(N=D[(I+9)%16]),U+=N>>>16,x+=65535&T,k+=T>>>16,T=((E=C[(I+1)%16])>>>1|(v=D[(I+1)%16])<<31)^(E>>>8|v<<24)^E>>>7,S+=65535&(N=(v>>>1|E<<31)^(v>>>8|E<<24)^(v>>>7|E<<25)),U+=N>>>16,x+=65535&T,k+=T>>>16,T=((E=C[(I+14)%16])>>>19|(v=D[(I+14)%16])<<13)^(v>>>29|E<<3)^E>>>6,S+=65535&(N=(v>>>19|E<<13)^(E>>>29|v<<3)^(v>>>6|E<<26)),U+=N>>>16,x+=65535&T,k+=T>>>16,U+=S>>>16,x+=U>>>16,k+=x>>>16,C[I]=65535&x|k<<16,D[I]=65535&S|U<<16;T=O,S=65535&(N=j),U=N>>>16,x=65535&T,k=T>>>16,T=e[0],S+=65535&(N=t[0]),U+=N>>>16,x+=65535&T,k+=T>>>16,U+=S>>>16,x+=U>>>16,k+=x>>>16,e[0]=O=65535&x|k<<16,t[0]=j=65535&S|U<<16,T=M,S=65535&(N=_),U=N>>>16,x=65535&T,k=T>>>16,T=e[1],S+=65535&(N=t[1]),U+=N>>>16,x+=65535&T,k+=T>>>16,U+=S>>>16,x+=U>>>16,k+=x>>>16,e[1]=M=65535&x|k<<16,t[1]=_=65535&S|U<<16,T=P,S=65535&(N=F),U=N>>>16,x=65535&T,k=T>>>16,T=e[2],S+=65535&(N=t[2]),U+=N>>>16,x+=65535&T,k+=T>>>16,U+=S>>>16,x+=U>>>16,k+=x>>>16,e[2]=P=65535&x|k<<16,t[2]=F=65535&S|U<<16,T=L,S=65535&(N=q),U=N>>>16,x=65535&T,k=T>>>16,T=e[3],S+=65535&(N=t[3]),U+=N>>>16,x+=65535&T,k+=T>>>16,U+=S>>>16,x+=U>>>16,k+=x>>>16,e[3]=L=65535&x|k<<16,t[3]=q=65535&S|U<<16,T=z,S=65535&(N=H),U=N>>>16,x=65535&T,k=T>>>16,T=e[4],S+=65535&(N=t[4]),U+=N>>>16,x+=65535&T,k+=T>>>16,U+=S>>>16,x+=U>>>16,k+=x>>>16,e[4]=z=65535&x|k<<16,t[4]=H=65535&S|U<<16,T=R,S=65535&(N=Q),U=N>>>16,x=65535&T,k=T>>>16,T=e[5],S+=65535&(N=t[5]),U+=N>>>16,x+=65535&T,k+=T>>>16,U+=S>>>16,x+=U>>>16,k+=x>>>16,e[5]=R=65535&x|k<<16,t[5]=Q=65535&S|U<<16,T=B,S=65535&(N=V),U=N>>>16,x=65535&T,k=T>>>16,T=e[6],S+=65535&(N=t[6]),U+=N>>>16,x+=65535&T,k+=T>>>16,U+=S>>>16,x+=U>>>16,k+=x>>>16,e[6]=B=65535&x|k<<16,t[6]=V=65535&S|U<<16,T=K,S=65535&(N=Z),U=N>>>16,x=65535&T,k=T>>>16,T=e[7],S+=65535&(N=t[7]),U+=N>>>16,x+=65535&T,k+=T>>>16,U+=S>>>16,x+=U>>>16,k+=x>>>16,e[7]=K=65535&x|k<<16,t[7]=Z=65535&S|U<<16,G+=128,n-=128}return n}function G(e,t,r){var n,i=new Int32Array(8),s=new Int32Array(8),o=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,s[0]=4089235720,s[1]=2227873595,s[2]=4271175723,s[3]=1595750129,s[4]=2917565137,s[5]=725511199,s[6]=4215389547,s[7]=327033209,Z(i,s,t,r),r%=128,n=0;n<r;n++)o[n]=t[a-r+n];for(o[r]=128,o[(r=256-128*(r<112?1:0))-9]=0,p(o,r-8,a/536870912|0,a<<3),Z(i,s,o,r),n=0;n<8;n++)p(e,8*n,i[n],s[n]);return 0}function W(e,t){var n=r(),i=r(),s=r(),o=r(),a=r(),l=r(),c=r(),h=r(),d=r();B(n,e[1],e[0]),B(d,t[1],t[0]),K(n,n,d),R(i,e[0],e[1]),R(d,t[0],t[1]),K(i,i,d),K(s,e[3],t[3]),K(s,s,u),K(o,e[2],t[2]),R(o,o,o),B(a,i,n),B(l,o,s),R(c,o,s),R(h,i,n),K(e[0],a,l),K(e[1],h,c),K(e[2],c,l),K(e[3],a,h)}function J(e,t,r){var n;for(n=0;n<4;n++)O(e[n],t[n],r)}function X(e,t){var n=r(),i=r(),s=r();_(s,t[2]),K(n,t[0],s),K(i,t[1],s),M(e,i),e[31]^=L(n)<<7}function $(e,t,r){var n,i;for(C(e[0],o),C(e[1],a),C(e[2],a),C(e[3],o),i=255;i>=0;--i)J(e,t,n=r[i/8|0]>>(7&i)&1),W(t,e),W(e,e),J(e,t,n)}function ee(e,t){var n=[r(),r(),r(),r()];C(n[0],h),C(n[1],d),C(n[2],a),K(n[3],h,d),$(e,n,t)}function et(e,t,i){var s,o=new Uint8Array(64),a=[r(),r(),r(),r()];for(i||n(t,32),G(o,t,32),o[0]&=248,o[31]&=127,o[31]|=64,ee(a,o),X(e,a),s=0;s<32;s++)t[s+32]=e[s];return 0}var er=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function en(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*er[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*er[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*er[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function ei(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;en(e,r)}function es(e,t,n,i){var s,o,a=new Uint8Array(64),l=new Uint8Array(64),c=new Uint8Array(64),u=new Float64Array(64),h=[r(),r(),r(),r()];for(G(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64,s=0;s<n;s++)e[64+s]=t[s];for(s=0;s<32;s++)e[32+s]=a[32+s];for(G(c,e.subarray(32),n+32),ei(c),ee(h,c),X(e,h),s=32;s<64;s++)e[s]=i[s];for(G(l,e,n+64),ei(l),s=0;s<64;s++)u[s]=0;for(s=0;s<32;s++)u[s]=c[s];for(s=0;s<32;s++)for(o=0;o<32;o++)u[s+o]+=l[s]*a[o];return en(e.subarray(32),u),n+64}function eo(e,t,n,i){var s,l,u,h,d,p,g,y,w=new Uint8Array(32),m=new Uint8Array(64),E=[r(),r(),r(),r()],v=[r(),r(),r(),r()];if(n<64||(s=r(),l=r(),u=r(),h=r(),d=r(),p=r(),g=r(),C(v[2],a),z(v[1],i),j(u,v[1]),K(h,u,c),B(u,u,v[2]),R(h,v[2],h),j(d,h),j(p,d),K(g,p,d),K(s,g,u),K(s,s,h),F(s,s),K(s,s,u),K(s,s,h),K(s,s,h),K(v[0],s,h),j(l,v[0]),K(l,l,h),P(l,u)&&K(v[0],v[0],f),j(l,v[0]),K(l,l,h),P(l,u)?-1:(L(v[0])===i[31]>>7&&B(v[0],o,v[0]),K(v[3],v[0],v[1]),0)))return -1;for(y=0;y<n;y++)e[y]=t[y];for(y=0;y<32;y++)e[y+32]=i[y];if(G(m,e,n),ei(m),$(E,v,m),ee(v,t.subarray(32)),W(E,v),X(w,E),n-=64,A(t,0,w,0)){for(y=0;y<n;y++)e[y]=0;return -1}for(y=0;y<n;y++)e[y]=t[y+64];return n}function ea(e,t){if(32!==e.length)throw Error("bad key size");if(24!==t.length)throw Error("bad nonce size")}function el(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw TypeError("unexpected type, use Uint8Array")}function ec(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:m,crypto_stream_xor:T,crypto_stream:I,crypto_stream_salsa20_xor:v,crypto_stream_salsa20:b,crypto_onetimeauth:S,crypto_onetimeauth_verify:U,crypto_verify_16:y,crypto_verify_32:A,crypto_secretbox:x,crypto_secretbox_open:k,crypto_scalarmult:q,crypto_scalarmult_base:H,crypto_box_beforenm:V,crypto_box_afternm:x,crypto_box:function(e,t,r,n,i,s){var o=new Uint8Array(32);return V(o,i,s),x(e,t,r,n,o)},crypto_box_open:function(e,t,r,n,i,s){var o=new Uint8Array(32);return V(o,i,s),k(e,t,r,n,o)},crypto_box_keypair:Q,crypto_hash:G,crypto_sign:es,crypto_sign_keypair:et,crypto_sign_open:eo,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:r,D:c,L:er,pack25519:M,unpack25519:z,M:K,A:R,S:j,Z:B,pow2523:F,add:W,set25519:C,modL:en,scalarmult:$,scalarbase:ee},e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,r){el(e,t,r),ea(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+32]=e[s];return x(i,n,n.length,t,r),i.subarray(16)},e.secretbox.open=function(e,t,r){el(e,t,r),ea(r,t);for(var n=new Uint8Array(16+e.length),i=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+16]=e[s];return n.length<32||0!==k(i,n,n.length,t,r)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(el(e,t),32!==e.length)throw Error("bad n size");if(32!==t.length)throw Error("bad p size");var r=new Uint8Array(32);return q(r,e,t),r},e.scalarMult.base=function(e){if(el(e),32!==e.length)throw Error("bad n size");var t=new Uint8Array(32);return H(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var s=e.box.before(n,i);return e.secretbox(t,r,s)},e.box.before=function(e,t){el(e,t),function(e,t){if(32!==e.length)throw Error("bad public key size");if(32!==t.length)throw Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return V(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var s=e.box.before(n,i);return e.secretbox.open(t,r,s)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return Q(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(el(e),32!==e.length)throw Error("bad secret key size");var t=new Uint8Array(32);return H(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(el(e,t),64!==t.length)throw Error("bad secret key size");var r=new Uint8Array(64+e.length);return es(r,e,e.length,t),r},e.sign.open=function(e,t){if(el(e,t),32!==t.length)throw Error("bad public key size");var r=new Uint8Array(e.length),n=eo(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),s=0;s<i.length;s++)i[s]=r[s];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(64),s=0;s<i.length;s++)i[s]=n[s];return i},e.sign.detached.verify=function(e,t,r){if(el(e,t,r),64!==t.length)throw Error("bad signature size");if(32!==r.length)throw Error("bad public key size");var n,i=new Uint8Array(64+e.length),s=new Uint8Array(64+e.length);for(n=0;n<64;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+64]=e[n];return eo(s,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return et(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(el(e),64!==e.length)throw Error("bad secret key size");for(var t=new Uint8Array(32),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(el(e),32!==e.length)throw Error("bad seed size");for(var t=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=e[n];return et(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=32,e.sign.secretKeyLength=64,e.sign.seedLength=32,e.sign.signatureLength=64,e.hash=function(e){el(e);var t=new Uint8Array(64);return G(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return el(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===g(e,0,t,0,e.length)},e.setPRNG=function(e){n=e},(t="u">typeof self?self.crypto||self.msCrypto:null)&&t.getRandomValues?e.setPRNG(function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];ec(i)}):(t=tz)&&t.randomBytes&&e.setPRNG(function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];ec(i)})}(tL.exports?tL.exports:self.nacl=self.nacl||{});let tR=tO(tL.exports);var tB=Object.defineProperty,tK=(e,t,r)=>t in e?tB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,tj=(e,t,r)=>tK(e,"symbol"!=typeof t?t+"":t,r);async function t_(e,t){let r;let n=e.getReader();for(;!(r=await n.read()).done;)t(r.value)}function tF(){return{data:"",event:"",id:"",retry:void 0}}var tq=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let tH="text/event-stream",tQ="last-event-id";function tV(e,t){var{signal:r,headers:n,onopen:i,onmessage:s,onclose:o,onerror:a,openWhenHidden:l,fetch:c}=t,u=tq(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((t,h)=>{let d;let f=Object.assign({},n);function p(){d.abort(),document.hidden||E()}f.accept||(f.accept=tH),l||document.addEventListener("visibilitychange",p);let g=1e3,y=0;function A(){document.removeEventListener("visibilitychange",p),window.clearTimeout(y),d.abort()}null==r||r.addEventListener("abort",()=>{A(),t()});let w=c??window.fetch,m=i??tY;async function E(){var r,n;d=new AbortController;try{let r,i,a,l;let c=await w(e,Object.assign(Object.assign({},u),{headers:f,signal:d.signal}));await m(c),await t_(c.body,(n=function(e,t,r){let n=tF(),i=new TextDecoder;return function(s,o){if(0===s.length)null==r||r(n),n=tF();else if(o>0){let r=i.decode(s.subarray(0,o)),a=o+(32===s[o+1]?2:1),l=i.decode(s.subarray(a));switch(r){case"data":n.data=n.data?n.data+`
`+l:l;break;case"event":n.event=l;break;case"id":e(n.id=l);break;case"retry":let c=parseInt(l,10);isNaN(c)||t(n.retry=c)}}}}(e=>{e?f[tQ]=e:delete f[tQ]},e=>{g=e},s),l=!1,function(e){void 0===r?(r=e,i=0,a=-1):r=function(e,t){let r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}(r,e);let t=r.length,s=0;for(;i<t;){l&&(10===r[i]&&(s=++i),l=!1);let e=-1;for(;i<t&&-1===e;++i)switch(r[i]){case 58:-1===a&&(a=i-s);break;case 13:l=!0;case 10:e=i}if(-1===e)break;n(r.subarray(s,e),a),s=i,a=-1}s===t?r=void 0:0!==s&&(r=r.subarray(s),i-=s)})),null==o||o(),A(),t()}catch(e){if(!d.signal.aborted)try{let t=null!==(r=null==a?void 0:a(e))&&void 0!==r?r:g;window.clearTimeout(y),y=window.setTimeout(E,t)}catch(e){A(),h(e)}}}E()})}function tY(e){let t=e.headers.get("content-type");if(!(null!=t&&t.startsWith(tH)))throw Error(`Expected content-type to be ${tH}, Actual: ${t}`)}let tZ={encode:function(e,t=!1){let r;return e instanceof Uint8Array?r=e:("string"!=typeof e&&(e=JSON.stringify(e)),r=tP.decodeUTF8(e)),function(e,t){let r=tP.encodeBase64(e);return t?encodeURIComponent(r):r}(r,t)}};function tG(e){let t="";return e.forEach(e=>{t+=("0"+(255&e).toString(16)).slice(-2)}),t}function tW(e){if(e.length%2!=0)throw Error(`Cannot convert ${e} to bytesArray`);let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=parseInt(e.slice(r,r+2),16);return t}class tJ{constructor(e){tj(this,"nonceLength",24),tj(this,"keyPair"),tj(this,"sessionId"),this.keyPair=e?this.createKeypairFromString(e):this.createKeypair(),this.sessionId=tG(this.keyPair.publicKey)}createKeypair(){return tR.box.keyPair()}createKeypairFromString(e){return{publicKey:tW(e.publicKey),secretKey:tW(e.secretKey)}}createNonce(){return tR.randomBytes(this.nonceLength)}encrypt(e,t){let r=new TextEncoder().encode(e),n=this.createNonce(),i=tR.box(r,n,t,this.keyPair.secretKey);return function(e,t){let r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}(n,i)}decrypt(e,t){let[r,n]=function(e,t){if(t>=e.length)throw Error("Index is out of buffer");return[e.slice(0,t),e.slice(t)]}(e,this.nonceLength),i=tR.box.open(n,r,t,this.keyPair.secretKey);if(!i)throw Error(`Decryption error: 
 message: ${e.toString()} 
 sender pubkey: ${t.toString()} 
 keypair pubkey: ${this.keyPair.publicKey.toString()} 
 keypair secretkey: ${this.keyPair.secretKey.toString()}`);return new TextDecoder().decode(i)}stringifyKeypair(){return{publicKey:tG(this.keyPair.publicKey),secretKey:tG(this.keyPair.secretKey)}}static async generateKeyPairByString(e){let t=new TextEncoder().encode(e),r=new Uint8Array(await crypto.subtle.digest("SHA-256",t)),n=tR.box.keyPair.fromSecretKey(r.slice(0,32));return{publicKey:tG(n.publicKey),secretKey:tG(n.secretKey)}}static isSameKeypair(e,t){return!!e&&!!t&&e.publicKey===t.publicKey&&e.secretKey===t.secretKey}}let tX="https://bridge.mz.xyz",t$={CONNECT:"[MizuWallet SSE Connect]"};var t5=((o=t5||{})[o.SUCCESS=0]="SUCCESS",o[o.ERROR=1]="ERROR",o),t1=((a=t1||{})[a.MIZU=0]="MIZU",a[a.MIZU_PC=1]="MIZU_PC",a[a.THIRD_PARTY=2]="THIRD_PARTY",a),t0=((l=t0||{})[l.START=0]="START",l[l.DATA=1]="DATA",l[l.FULFILLED=2]="FULFILLED",l[l.REJECT=3]="REJECT",l[l.CANCEL=4]="CANCEL",l[l.CLOSE=5]="CLOSE",l);let t2=async e=>{let t=new URLSearchParams,r=new tJ(e.keypair),n=new AbortController;t.append("client_id",r.sessionId.toString()),t.append("to",e.to.toString()),t.append("ttl",e.ttl.toString());let i=JSON.stringify(e.content),s=tW(e.to.toString()),o=tG(r.encrypt(i,s));return await tV(`${tX}/bridge/message?${t.toString()}`,{method:"POST",openWhenHidden:!1,headers:{Accept:"text/event-stream"},onopen(t){var n,i,s,o;return t.ok&&200===t.status?(null==(n=console.group)||n.call(console,"[SessionPost]"),console.log(`The connection from ${r.sessionId} to ${e.to}`),null==(i=console.groupEnd)||i.call(console),Promise.resolve()):(null==(s=console.group)||s.call(console,"[SessionPost]"),console.log(`The connection from ${r.sessionId} to ${e.to}`),console.log("Client side error ",t),null==(o=console.groupEnd)||o.call(console),Promise.reject())},onmessage(){},onclose(){var t,i;null==(t=console.group)||t.call(console,"[SessionPost]"),console.log(`The connection from ${r.sessionId} to ${e.to} is closed by the server`),null==(i=console.groupEnd)||i.call(console),console.log("abort"),null==n||n.abort()},onerror(t){var i,s;null==(i=console.group)||i.call(console,"[SessionPost]"),console.log(`The connection from ${r.sessionId} to ${e.to}`),console.log("There was an error from server",t.message||t),null==(s=console.groupEnd)||s.call(console),null==n||n.abort()},body:o,signal:n.signal}),{ctrl:n}},t6=async e=>{let t=new URLSearchParams,r=e.keypair.publicKey.toString();t.append("client_id",r);let n=new AbortController;return tV(`${tX}/bridge/events?${t.toString()}`,{openWhenHidden:!1,onopen:e=>200===e.status?(console.info(`${t$.CONNECT} Opened`),Promise.resolve()):(console.error(`${t$.CONNECT} Failed to open`),Promise.reject()),onmessage(t){var r,n;try{if(t.data&&t.data.startsWith("{")){let n=JSON.parse(t.data);if(n.message){let t=new tJ({...e.keypair}),i=n.message,s=tW(i),o=t.decrypt(s,tW(n.from.toString())),a=JSON.parse(o);(e.nonce&&a.nonce==e.nonce||!e.nonce)&&(null==(r=e.callback)||r.call(e,{status:0,message:a}))}}}catch(t){console.error(t),null==(n=e.callback)||n.call(e,{status:1,error:t})}},onclose(){var e,t;null==(e=console.group)||e.call(console,"[SessionListenerLong]"),console.log(`Listening channel: ${r}`),console.log("Close abort"),null==(t=console.groupEnd)||t.call(console),null==n||n.abort()},onerror(e){var t,i;null==(t=console.group)||t.call(console,"[SessionListenerLong]"),console.log(`Listening channel: ${r}`),console.log("There was an error from server",e.message||e),console.log("Error abort"),null==(i=console.groupEnd)||i.call(console),null==n||n.abort()},signal:n.signal}),{ctrl:n}};class t3{constructor(e){tj(this,"from",""),tj(this,"nonce",""),tj(this,"body"),tj(this,"type",""),Object.assign(this,e),this.body=e.body}}let t4="u">typeof window&&!!(null!=window&&window.TelegramWebviewProxy);"u">typeof window&&null!=(b=null==(v=null==window?void 0:window.Telegram)?void 0:v.WebApp)&&b.openTelegramLink;let t8="u">typeof window&&(null==window?void 0:window.parent)!=null&&window!=(null==window?void 0:window.parent),t9=function(e){var t,r,n,i;if("u">typeof window&&null!=(r=null==(t=null==window?void 0:window.Telegram)?void 0:t.WebApp)&&r.openTelegramLink){null==(i=null==(n=null==window?void 0:window.Telegram)?void 0:n.WebApp)||i.openTelegramLink(e);return}let s=document.createElement("A");if(s.href=e,"http:"!=s.protocol&&"https:"!=s.protocol)throw console.error("[Telegram.WebApp] Url protocol is not supported",e),Error("WebAppTgUrlInvalid");if("t.me"!=s.hostname)throw console.error("[Telegram.WebApp] Url host is not supported",e),Error("WebAppTgUrlInvalid");!function(e,t,r){if(t||(t=function(){}),void 0===r&&(r=""),console.log("[Telegram.WebView] > postEvent",e,r),(null==window?void 0:window.TelegramWebviewProxy)!==void 0)null==window||window.TelegramWebviewProxy.postEvent(e,JSON.stringify(r)),t();else if(t8)try{var n="https://web.telegram.org";n="*",null==window||window.parent.postMessage(JSON.stringify({eventType:e,eventData:r}),n),t()}catch(e){t(e)}else t({notAvailable:!0})}("web_app_open_tg_link",!1,{path_full:s.pathname+s.search})},t7=e=>{var t,r,n;return(null==(n=null==(r=null==(t=null==e?void 0:e.response)?void 0:t.errors)?void 0:r[0])?void 0:n.message)||e.message||e};class re{static buildAction(e){return`${e.prefix}${e.action}_${e.params.map(e=>re.actionParamsEncode(e)).join("_")}`}static actionParamsEncode(e){return encodeURIComponent(e).replace(/\./g,"%2E").replace(/%/g,"--")}static actionParamsDecode(e){return decodeURIComponent(e.replace(/--/g,"%"))}}let rt="mizuwallet-address";class rr{constructor(){tb(this,"manifestURL",""),tb(this,"miniAppURL",""),tb(this,"origin",""),tb(this,"mizuClient",null),tb(this,"network","")}async startWebChannel(e){var t;let r=new tJ,n=Date.now().toString(),i=await tJ.generateKeyPairByString(`${e.address||""}+${n}`),s=tZ.encode(i,!0),o=new URLSearchParams;o.append("network",this.network),o.append("sessionId",r.sessionId),o.append("nonce",n.toString()),o.append("k",s),e.redirectURL&&o.append("redirect_url",e.redirectURL),document.querySelector(".mizu-wallet-frame")&&(null==(t=document.querySelector(".mizu-wallet-frame"))||t.remove());let a=document.createElement("iframe");a.setAttribute("class","mizu-wallet-frame"),a.setAttribute("src",`${this.origin}/walletv2/${e.url}?${o.toString()}`),document.body.appendChild(a);let{ctrl:l}=await t2({to:i.publicKey,ttl:300,content:new t3({from:t1.THIRD_PARTY,type:t0.DATA,body:{manifestURL:this.manifestURL,address:null==window?void 0:window.localStorage.getItem(rt),...e.metadata},nonce:n})});return new Promise(async(t,n)=>{let{ctrl:i}=await t6({keypair:r.stringifyKeypair(),callback:r=>{var s,o,c,u,h;let{message:d,status:f}=r;if((null==d?void 0:d.from)===t1.MIZU_PC){if(f===t5.ERROR){null==(s=a.parentNode)||s.removeChild(a),l.abort(),i.abort(),n(r.error);return}if((null==d?void 0:d.type)==t0.CLOSE){null==(o=a.parentNode)||o.removeChild(a),l.abort(),i.abort(),t({});return}if((null==d?void 0:d.type)==t0.CANCEL){null==(c=a.parentNode)||c.removeChild(a),l.abort(),i.abort(),n("User Canceled");return}if(d.type===t0.FULFILLED){null==(u=a.parentNode)||u.removeChild(a),l.abort(),i.abort(),e.returnKey?t({[e.returnKey]:null==(h=d.body)?void 0:h[e.returnKey]}):t({});return}}}})})}async startChannel(e){let t=null==window?void 0:window.localStorage.getItem(rt);if(t&&e.isAddressRequired||!e.isAddressRequired){let r=new tJ,n=Date.now().toString(),i=await tJ.generateKeyPairByString(`${t||""}+${n}`),s=tZ.encode(i,!0),o=re.buildAction({prefix:"R_",action:e.buildAction.actions,params:[r.sessionId,n,s]});t9(`${this.miniAppURL}?startapp=${o}`);let{ctrl:a}=await t2({to:i.publicKey,ttl:300,content:new t3({from:t1.THIRD_PARTY,type:t0.DATA,body:{manifestURL:this.manifestURL,address:null==window?void 0:window.localStorage.getItem(rt),...e.metadata},nonce:n})});return new Promise(async(t,n)=>{let{ctrl:i}=await t6({keypair:r.stringifyKeypair(),callback:r=>{var s;let{message:o,status:l}=r;if((null==o?void 0:o.from)===t1.MIZU){if(l===t5.ERROR){a.abort(),i.abort(),n(r.error);return}if((null==o?void 0:o.type)==t0.CANCEL){a.abort(),i.abort(),n("User Canceled");return}if(o.type===t0.FULFILLED){a.abort(),i.abort(),e.returnKey?t({[e.returnKey]:null==(s=o.body)?void 0:s[e.returnKey]}):t({});return}}}})})}throw Error(`${tk.TRANSACTION} No address found`)}}let rn="mizuwallet-address",ri="mizuwallet-publickey";class rs extends rr{constructor(e){if(super(),tb(this,"manifestURL"),tb(this,"miniAppURL"),!e.manifestURL)throw Error("manifestURL is required");this.manifestURL=e.manifestURL,this.miniAppURL=tx(e.network)}async connect(){var e,t,r,n;if(null!=window&&window.localStorage&&null!=(e=window.localStorage)&&e.getItem(rn)&&null!=(t=window.localStorage)&&t.getItem(ri))return{address:(null==(r=window.localStorage.getItem(rn))?void 0:r.toString())||"",publicKey:(null==(n=window.localStorage.getItem(ri))?void 0:n.toString())||""};let{account:i}=await this.startChannel({buildAction:{actions:"miniapp-connectv2"},metadata:{},returnKey:"account"});if(null!=window&&window.localStorage&&null!=i&&i.address&&I.kxK.isValid({input:null==i?void 0:i.address,strict:!0}))return window.localStorage.setItem(rn,null==i?void 0:i.address),window.localStorage.setItem(ri,null==i?void 0:i.publicKey),{address:null==i?void 0:i.address,publicKey:null==i?void 0:i.publicKey};throw Error(`${tk.CONNECT} Error`)}disconnect(){null!=window&&window.localStorage.getItem(rn)&&(null==window||window.localStorage.removeItem(rn)),null!=window&&window.localStorage.getItem(ri)&&(null==window||window.localStorage.removeItem(ri))}async signAndSubmitTransaction(e){return await this.startChannel({buildAction:{actions:"miniapp-transactionv2"},metadata:{transaction:e},returnKey:"hash",isAddressRequired:!0})}async signTransaction(e){return await this.startChannel({buildAction:{actions:"miniapp-signtransactionv2"},metadata:{transaction:e.bcsToHex().toStringWithoutPrefix()},returnKey:"signature",isAddressRequired:!0})}async signMessage(e){return await this.startChannel({buildAction:{actions:"miniapp-signmessagev2"},metadata:{args:e},returnKey:"data",isAddressRequired:!0})}}let ro=()=>{let e=document.createElement("style");e.innerHTML=`
	  .mizu-wallet-frame {
		position: fixed;
		top: 0;
		left: 0;
		width: 100vw;
		height: 100vh;
		border: none;
		z-index: 999999999;
		inset: 0px;
    color-scheme: light;
    pointer-events: auto;
	  }
	`,document.head.appendChild(e)};class ra extends rr{constructor(e){if(super(),tb(this,"authCode"),tb(this,"address"),tb(this,"manifestURL"),tb(this,"network"),tb(this,"mizuClient"),tb(this,"provider"),tb(this,"origin"),!e.manifestURL)throw Error("manifestURL is required");this.authCode="",this.manifestURL=e.manifestURL,this.network=e.network,this.mizuClient=e.mizuClient,this.origin="https://mizu.io",this.address="",ro()}async connect(){var e,t,r,n;let i=await this.startWebChannel({url:"checkLogin",metadata:{manifestURL:this.manifestURL,network:this.network,appId:this.mizuClient.appId},returnKey:"account"});return i.account?(this.authCode=null==(e=i.account)?void 0:e.code,this.address=null==(t=i.account)?void 0:t.address,Promise.resolve({address:null==(r=i.account)?void 0:r.address,publicKey:(null==(n=i.account)?void 0:n.publicKey)||""})):Promise.reject("User Canceled")}async disconnect(){var e;await this.startWebChannel({url:"checkLogin",redirectURL:"/walletv2/logout",metadata:{manifestURL:this.manifestURL,network:this.network,appId:this.mizuClient.appId},returnKey:""}),await (null==(e=this.mizuClient)?void 0:e.logout())}async signAndSubmitTransaction(e){var t;try{let r=await (null==(t=this.mizuClient)?void 0:t.createOrderWithCode({code:this.authCode,payload:e}));if(!r)throw Error("Transaction creation failed");return await this.startWebChannel({url:"checkLogin",redirectURL:"/walletv2/transaction",metadata:{manifestURL:this.manifestURL,network:this.network,appId:this.mizuClient.appId,orderId:r,transaction:e},returnKey:"hash"})}catch(e){throw console.error(e),Error(t7(e))}}async signTransaction(e){try{return{signature:(await this.startWebChannel({url:"checkLogin",redirectURL:"/walletv2/sign_transaction",metadata:{manifestURL:this.manifestURL,network:this.network,appId:this.mizuClient.appId,transaction:e.bcsToHex().toStringWithoutPrefix()},returnKey:"signature"})).signature}}catch(e){throw console.error(e),Error(t7(e))}}async signMessage(e){try{return{data:{...(await this.startWebChannel({url:"checkLogin",redirectURL:"/walletv2/sign_message",metadata:{manifestURL:this.manifestURL,network:this.network,appId:this.mizuClient.appId,messageInfo:{...e}},returnKey:"message"})).message}}}catch(e){throw console.error(e),Error(t7(e))}}}class rl{constructor(e){if(tb(this,"url","https://mizu.io"),tb(this,"version","1.0.0"),tb(this,"name","Mizu Wallet"),tb(this,"icon","data:image/png;base64,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"),tb(this,"chains",tI),tb(this,"accounts",[]),tb(this,"provider"),tb(this,"mizuClient"),tb(this,"telegramMiniAppHelper"),tb(this,"websiteHelper"),tb(this,"accountInfo"),tb(this,"account",async()=>this.accountInfo||{address:"",publicKey:""}),tb(this,"connect",async()=>{var e;try{if(t4){if(this.telegramMiniAppHelper)this.accountInfo=await this.telegramMiniAppHelper.connect();else throw Error(`${tk.CONNECT} Please pass a valid manifestURL`)}else this.accountInfo=await (null==(e=this.websiteHelper)?void 0:e.connect());return{args:{...this.accountInfo},status:tU.APPROVED}}catch(e){return console.error(e),{status:tU.REJECTED}}}),tb(this,"network",async()=>({name:this.provider.network,chainId:"mainnet"===this.provider.network?1:2})),tb(this,"disconnect",async()=>{var e,t;try{t4?await (null==(e=this.telegramMiniAppHelper)?void 0:e.disconnect()):await (null==(t=this.websiteHelper)?void 0:t.disconnect())}catch(e){throw e}}),tb(this,"signTransaction",async(e,t)=>{var r,n;try{console.log(t);let i={};if(!(i=t4?await (null==(r=this.telegramMiniAppHelper)?void 0:r.signTransaction(e)):await (null==(n=this.websiteHelper)?void 0:n.signTransaction(e))).signature)return{status:tU.REJECTED};{let e=new I.ZKs(tw.Buffer.from(i.signature,"hex"));return{args:I.LLd.deserialize(e),status:tU.APPROVED}}}catch(e){throw e.message||e?Error(e.message||e):new tS(tT.InternalError)}}),tb(this,"signAndSubmitTransaction",async e=>{var t,r;try{let n={};return n=t4?await (null==(t=this.telegramMiniAppHelper)?void 0:t.signAndSubmitTransaction(e.payload)):await (null==(r=this.websiteHelper)?void 0:r.signAndSubmitTransaction(e.payload)),null!=n&&n.hash?{args:n,status:tU.APPROVED}:{status:tU.REJECTED}}catch(e){throw e.message||e?Error(e.message||e):new tS(tT.InternalError)}}),tb(this,"signMessage",async e=>{var t,r;try{let{message:n,nonce:i,...s}=e,o={};return o=t4?await (null==(t=this.telegramMiniAppHelper)?void 0:t.signMessage({message:n,nonce:i})):await (null==(r=this.websiteHelper)?void 0:r.signMessage({message:n,nonce:i})),null!=o&&o.data?{args:{...null==o?void 0:o.data,...s},status:tU.APPROVED}:{status:tU.REJECTED}}catch(e){throw e.message||e?Error(e.message||e):new tS(tT.InternalError)}}),tb(this,"onAccountChange",async()=>Promise.resolve()),tb(this,"onNetworkChange",async()=>Promise.resolve()),!e.network)throw Error("MizuWallet: network is required");if(this.mizuClient=new tA({appId:e.appId||tC(e.network),network:e.network}),this.provider={network:e.network,address:""},e.manifestURL.indexOf("_")>-1)throw Error('manifestURL can not contain underscore: "_"');null!=e&&e.manifestURL&&(this.telegramMiniAppHelper=new rs({manifestURL:null==e?void 0:e.manifestURL,network:e.network})),this.websiteHelper=new ra({manifestURL:e.manifestURL,network:e.network,mizuClient:this.mizuClient})}get features(){return{"aptos:connect":{version:"1.0.0",connect:this.connect},"aptos:network":{version:"1.0.0",network:this.network},"aptos:disconnect":{version:"1.0.0",disconnect:this.disconnect},"aptos:signTransaction":{version:"1.0.0",signTransaction:this.signTransaction},"aptos:signAndSubmitTransaction":{version:"1.1.0",signAndSubmitTransaction:this.signAndSubmitTransaction},"aptos:signMessage":{version:"1.0.0",signMessage:this.signMessage},"aptos:onAccountChange":{version:"1.0.0",onAccountChange:this.onAccountChange},"aptos:onNetworkChange":{version:"1.0.0",onNetworkChange:this.onNetworkChange},"aptos:account":{version:"1.0.0",account:this.account}}}}},1810:function(e,t,r){"use strict";function n(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function i(e,...t){if(!(e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name))throw Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function s(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function o(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function a(e,t){i(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}r.d(t,{Gg:function(){return o},J8:function(){return a},Rx:function(){return n},aI:function(){return i},vp:function(){return s}})},27489:function(e,t,r){"use strict";r.d(t,{N:function(){return s}});var n=r(1810),i=r(48011);class s extends i.kb{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.GL)(this.buffer)}update(e){(0,n.Gg)(this);let{view:t,buffer:r,blockLen:s}=this,o=(e=(0,i.O0)(e)).length;for(let n=0;n<o;){let a=Math.min(s-this.pos,o-n);if(a===s){let t=(0,i.GL)(e);for(;s<=o-n;n+=s)this.process(t,n);continue}r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.Gg)(this),(0,n.J8)(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:s,isLE:o}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let e=a;e<s;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),l=n?4:0,c=n?0:4;e.setUint32(t+l,o,n),e.setUint32(t+c,a,n)}(r,s-8,BigInt(8*this.length),o),this.process(r,0);let l=(0,i.GL)(e),c=this.outputLen;if(c%4)throw Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,h=this.get();if(u>h.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)l.setUint32(4*e,h[e],o)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}},79491:function(e,t,r){"use strict";r.d(t,{EP:function(){return a},SD:function(){return c},Vl:function(){return o},gm:function(){return l},mk:function(){return u}});let n=BigInt(4294967296-1),i=BigInt(32);function s(e,t=!1){return t?{h:Number(e&n),l:Number(e>>i&n)}:{h:0|Number(e>>i&n),l:0|Number(e&n)}}function o(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:a}=s(e[i],t);[r[i],n[i]]=[o,a]}return[r,n]}let a=(e,t,r)=>e<<r|t>>>32-r,l=(e,t,r)=>t<<r|e>>>32-r,c=(e,t,r)=>t<<r-32|e>>>64-r,u=(e,t,r)=>e<<r-32|t>>>64-r;t.ZP={fromBig:s,split:o,toBig:(e,t)=>BigInt(e>>>0)<<i|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:a,rotlSL:l,rotlBH:c,rotlBL:u,add:function(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/4294967296|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/4294967296|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/4294967296|0)|0,add5H:(e,t,r,n,i,s)=>t+r+n+i+s+(e/4294967296|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)}},10278:function(e,t,r){"use strict";r.d(t,{b:function(){return o}});var n=r(1810),i=r(48011);class s extends i.kb{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.vp)(e);let r=(0,i.O0)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?e.create().update(r).digest():r);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),o.fill(0)}update(e){return(0,n.Gg)(this),this.iHash.update(e),this}digestInto(e){(0,n.Gg)(this),(0,n.aI)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let o=(e,t,r)=>new s(e,t).update(r).digest();o.create=(e,t)=>new s(e,t)},30143:function(e,t,r){"use strict";r.d(t,{J:function(){return h}});var n=r(27489),i=r(48011);let s=(e,t,r)=>e&t^~e&r,o=(e,t,r)=>e&t^e&r^t&r,a=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),l=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class u extends n.N{constructor(){super(64,32,8,!1),this.A=0|l[0],this.B=0|l[1],this.C=0|l[2],this.D=0|l[3],this.E=0|l[4],this.F=0|l[5],this.G=0|l[6],this.H=0|l[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=c[e-15],r=c[e-2],n=(0,i.np)(t,7)^(0,i.np)(t,18)^t>>>3,s=(0,i.np)(r,17)^(0,i.np)(r,19)^r>>>10;c[e]=s+c[e-7]+n+c[e-16]|0}let{A:r,B:n,C:l,D:u,E:h,F:d,G:f,H:p}=this;for(let e=0;e<64;e++){let t=p+((0,i.np)(h,6)^(0,i.np)(h,11)^(0,i.np)(h,25))+s(h,d,f)+a[e]+c[e]|0,g=((0,i.np)(r,2)^(0,i.np)(r,13)^(0,i.np)(r,22))+o(r,n,l)|0;p=f,f=d,d=h,h=u+t|0,u=l,l=n,n=r,r=t+g|0}r=r+this.A|0,n=n+this.B|0,l=l+this.C|0,u=u+this.D|0,h=h+this.E|0,d=d+this.F|0,f=f+this.G|0,p=p+this.H|0,this.set(r,n,l,u,h,d,f,p)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let h=(0,i.hE)(()=>new u)},2987:function(e,t,r){"use strict";r.d(t,{DZ:function(){return E}});var n=r(1810),i=r(79491),s=r(48011);let[o,a,l]=[[],[],[]],c=BigInt(0),u=BigInt(1),h=BigInt(2),d=BigInt(7),f=BigInt(256),p=BigInt(113);for(let e=0,t=u,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],o.push(2*(5*n+r)),a.push((e+1)*(e+2)/2%64);let i=c;for(let e=0;e<7;e++)(t=(t<<u^(t>>d)*p)%f)&h&&(i^=u<<(u<<BigInt(e))-u);l.push(i)}let[g,y]=(0,i.Vl)(l,!0),A=(e,t,r)=>r>32?(0,i.SD)(e,t,r):(0,i.EP)(e,t,r),w=(e,t,r)=>r>32?(0,i.mk)(e,t,r):(0,i.gm)(e,t,r);class m extends s.kb{constructor(e,t,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,n.Rx)(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,s.Jq)(this.state)}keccak(){!function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,s=r[i],o=r[i+1],a=A(s,o,1)^r[n],l=w(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=a[r],s=A(t,i,n),l=w(t,i,n),c=o[r];t=e[c],i=e[c+1],e[c]=s,e[c+1]=l}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=g[n],e[1]^=y[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){(0,n.Gg)(this);let{blockLen:t,state:r}=this,i=(e=(0,s.O0)(e)).length;for(let n=0;n<i;){let s=Math.min(t-this.pos,i-n);for(let t=0;t<s;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,n.Gg)(this,!1),(0,n.aI)(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,n.Rx)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,n.J8)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new m(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}let E=(0,s.hE)(()=>new m(136,6,32))},9154:function(e,t,r){"use strict";r.d(t,{o:function(){return h}});var n=r(27489),i=r(79491),s=r(48011);let[o,a]=i.ZP.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),l=new Uint32Array(80),c=new Uint32Array(80);class u extends n.N{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:l,El:c,Fh:u,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[e,t,r,n,i,s,o,a,l,c,u,h,d,f,p,g]}set(e,t,r,n,i,s,o,a,l,c,u,h,d,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)l[r]=e.getUint32(t),c[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|l[e-15],r=0|c[e-15],n=i.ZP.rotrSH(t,r,1)^i.ZP.rotrSH(t,r,8)^i.ZP.shrSH(t,r,7),s=i.ZP.rotrSL(t,r,1)^i.ZP.rotrSL(t,r,8)^i.ZP.shrSL(t,r,7),o=0|l[e-2],a=0|c[e-2],u=i.ZP.rotrSH(o,a,19)^i.ZP.rotrBH(o,a,61)^i.ZP.shrSH(o,a,6),h=i.ZP.rotrSL(o,a,19)^i.ZP.rotrBL(o,a,61)^i.ZP.shrSL(o,a,6),d=i.ZP.add4L(s,h,c[e-7],c[e-16]),f=i.ZP.add4H(d,n,u,l[e-7],l[e-16]);l[e]=0|f,c[e]=0|d}let{Ah:r,Al:n,Bh:s,Bl:u,Ch:h,Cl:d,Dh:f,Dl:p,Eh:g,El:y,Fh:A,Fl:w,Gh:m,Gl:E,Hh:v,Hl:b}=this;for(let e=0;e<80;e++){let t=i.ZP.rotrSH(g,y,14)^i.ZP.rotrSH(g,y,18)^i.ZP.rotrBH(g,y,41),I=i.ZP.rotrSL(g,y,14)^i.ZP.rotrSL(g,y,18)^i.ZP.rotrBL(g,y,41),T=g&A^~g&m,N=y&w^~y&E,S=i.ZP.add5L(b,I,N,a[e],c[e]),U=i.ZP.add5H(S,v,t,T,o[e],l[e]),x=0|S,k=i.ZP.rotrSH(r,n,28)^i.ZP.rotrBH(r,n,34)^i.ZP.rotrBH(r,n,39),C=i.ZP.rotrSL(r,n,28)^i.ZP.rotrBL(r,n,34)^i.ZP.rotrBL(r,n,39),D=r&s^r&h^s&h,O=n&u^n&d^u&d;v=0|m,b=0|E,m=0|A,E=0|w,A=0|g,w=0|y,({h:g,l:y}=i.ZP.add(0|f,0|p,0|U,0|x)),f=0|h,p=0|d,h=0|s,d=0|u,s=0|r,u=0|n;let M=i.ZP.add3L(x,C,O);r=i.ZP.add3H(M,U,k,D),n=0|M}({h:r,l:n}=i.ZP.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:s,l:u}=i.ZP.add(0|this.Bh,0|this.Bl,0|s,0|u)),({h:h,l:d}=i.ZP.add(0|this.Ch,0|this.Cl,0|h,0|d)),({h:f,l:p}=i.ZP.add(0|this.Dh,0|this.Dl,0|f,0|p)),({h:g,l:y}=i.ZP.add(0|this.Eh,0|this.El,0|g,0|y)),({h:A,l:w}=i.ZP.add(0|this.Fh,0|this.Fl,0|A,0|w)),({h:m,l:E}=i.ZP.add(0|this.Gh,0|this.Gl,0|m,0|E)),({h:v,l:b}=i.ZP.add(0|this.Hh,0|this.Hl,0|v,0|b)),this.set(r,n,s,u,h,d,f,p,g,y,A,w,m,E,v,b)}roundClean(){l.fill(0),c.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let h=(0,s.hE)(()=>new u)},48011:function(e,t,r){"use strict";r.d(t,{GL:function(){return s},Jq:function(){return n},O0:function(){return d},U5:function(){return g},ci:function(){return l},hE:function(){return y},kb:function(){return f},np:function(){return o},nr:function(){return h}});let n=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));function i(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}let s=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),o=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw Error("Non little-endian hardware is not supported");let a=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function l(e){if(!i(e))throw Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=a[e[r]];return t}let c={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function u(e){return e>=c._0&&e<=c._9?e-c._0:e>=c._A&&e<=c._F?e-(c._A-10):e>=c._a&&e<=c._f?e-(c._a-10):void 0}function h(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=u(e.charCodeAt(i)),s=u(e.charCodeAt(i+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+s}return n}function d(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}(e)),!i(e))throw Error(`expected Uint8Array, got ${typeof e}`);return e}class f{clone(){return this._cloneInto()}}let p={}.toString;function g(e,t){if(void 0!==t&&"[object Object]"!==p.call(t))throw Error("Options should be object or undefined");return Object.assign(e,t)}function y(e){let t=t=>e().update(d(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}},17436:function(e,t,r){"use strict";r.d(t,{Z1:function(){return c}});var n=r(1810),i=r(10278),s=r(48011),o=r(9154);function a(e){if("string"!=typeof e)throw TypeError(`Invalid mnemonic type: ${typeof e}`);return e.normalize("NFKD")}let l=e=>a(`mnemonic${e}`);function c(e,t=""){return function(e,t,r,o){var a;let l;let{c,dkLen:u,DK:h,PRF:d,PRFSalt:f}=function(e,t,r,o){(0,n.vp)(e);let{c:a,dkLen:l,asyncTick:c}=(0,s.U5)({dkLen:32,asyncTick:10},o);if((0,n.Rx)(a),(0,n.Rx)(l),(0,n.Rx)(c),a<1)throw Error("PBKDF2: iterations (c) should be >= 1");let u=(0,s.O0)(t),h=(0,s.O0)(r),d=new Uint8Array(l),f=i.b.create(e,u),p=f._cloneInto().update(h);return{c:a,dkLen:l,asyncTick:c,DK:d,PRF:f,PRFSalt:p}}(e,t,r,o),p=new Uint8Array(4),g=(0,s.GL)(p),y=new Uint8Array(d.outputLen);for(let e=1,t=0;t<u;e++,t+=d.outputLen){let r=h.subarray(t,t+d.outputLen);g.setInt32(0,e,!1),(l=f._cloneInto(l)).update(p).digestInto(y),r.set(y.subarray(0,r.length));for(let e=1;e<c;e++){d._cloneInto(l).update(y).digestInto(y);for(let e=0;e<r.length;e++)r[e]^=y[e]}}return a=l,d.destroy(),f.destroy(),a&&a.destroy(),y.fill(0),h}(o.o,function(e){let t=a(e),r=t.split(" ");if(![12,15,18,21,24].includes(r.length))throw Error("Invalid mnemonic");return{nfkd:t,words:r}}(e).nfkd,l(t),{c:2048,dkLen:64})}},4179:function(e,t,r){"use strict";r.d(t,{LQ:function(){return o}});var n,i=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},s=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};function o(e){let t=({register:t})=>t(e);try{window.dispatchEvent(new a(t))}catch(e){console.error("wallet-standard:register-wallet event could not be dispatched\n",e)}try{window.addEventListener("wallet-standard:app-ready",({detail:e})=>t(e))}catch(e){console.error("wallet-standard:app-ready event listener could not be added\n",e)}}class a extends Event{get detail(){return i(this,n,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),n.set(this,void 0),s(this,n,e,"f")}preventDefault(){throw Error("preventDefault cannot be called")}stopImmediatePropagation(){throw Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw Error("stopPropagation cannot be called")}}n=new WeakMap},95340:function(e,t,r){"use strict";r.d(t,{F:function(){return c},f:function(){return u}});var n=r(25955),i=["light","dark"],s="(prefers-color-scheme: dark)",o="undefined"==typeof window,a=n.createContext(void 0),l={setTheme:e=>{},themes:[]},c=()=>{var e;return null!=(e=n.useContext(a))?e:l},u=e=>n.useContext(a)?e.children:n.createElement(d,{...e}),h=["light","dark"],d=e=>{let{forcedTheme:t,disableTransitionOnChange:r=!1,enableSystem:o=!0,enableColorScheme:l=!0,storageKey:c="theme",themes:u=h,defaultTheme:d=o?"system":"light",attribute:A="data-theme",value:w,children:m,nonce:E}=e,[v,b]=n.useState(()=>p(c,d)),[I,T]=n.useState(()=>p(c)),N=w?Object.values(w):u,S=n.useCallback(e=>{let t=e;if(!t)return;"system"===e&&o&&(t=y());let n=w?w[t]:t,s=r?g():null,a=document.documentElement;if("class"===A?(a.classList.remove(...N),n&&a.classList.add(n)):n?a.setAttribute(A,n):a.removeAttribute(A),l){let e=i.includes(d)?d:null,r=i.includes(t)?t:e;a.style.colorScheme=r}null==s||s()},[]),U=n.useCallback(e=>{let t="function"==typeof e?e(e):e;b(t);try{localStorage.setItem(c,t)}catch(e){}},[t]),x=n.useCallback(e=>{T(y(e)),"system"===v&&o&&!t&&S("system")},[v,t]);n.useEffect(()=>{let e=window.matchMedia(s);return e.addListener(x),x(e),()=>e.removeListener(x)},[x]),n.useEffect(()=>{let e=e=>{e.key===c&&U(e.newValue||d)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[U]),n.useEffect(()=>{S(null!=t?t:v)},[t,v]);let k=n.useMemo(()=>({theme:v,setTheme:U,forcedTheme:t,resolvedTheme:"system"===v?I:v,themes:o?[...u,"system"]:u,systemTheme:o?I:void 0}),[v,U,t,I,o,u]);return n.createElement(a.Provider,{value:k},n.createElement(f,{forcedTheme:t,disableTransitionOnChange:r,enableSystem:o,enableColorScheme:l,storageKey:c,themes:u,defaultTheme:d,attribute:A,value:w,children:m,attrs:N,nonce:E}),m)},f=n.memo(e=>{let{forcedTheme:t,storageKey:r,attribute:o,enableSystem:a,enableColorScheme:l,defaultTheme:c,value:u,attrs:h,nonce:d}=e,f="system"===c,p="class"===o?"var d=document.documentElement,c=d.classList;".concat("c.remove(".concat(h.map(e=>"'".concat(e,"'")).join(","),")"),";"):"var d=document.documentElement,n='".concat(o,"',s='setAttribute';"),g=l?(i.includes(c)?c:null)?"if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'".concat(c,"'"):"if(e==='light'||e==='dark')d.style.colorScheme=e":"",y=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=u?u[e]:e,s=t?e+"|| ''":"'".concat(n,"'"),a="";return l&&r&&!t&&i.includes(e)&&(a+="d.style.colorScheme = '".concat(e,"';")),"class"===o?t||n?a+="c.add(".concat(s,")"):a+="null":n&&(a+="d[s](n,".concat(s,")")),a},A=t?"!function(){".concat(p).concat(y(t),"}()"):a?"!function(){try{".concat(p,"var e=localStorage.getItem('").concat(r,"');if('system'===e||(!e&&").concat(f,")){var t='").concat(s,"',m=window.matchMedia(t);if(m.media!==t||m.matches){").concat(y("dark"),"}else{").concat(y("light"),"}}else if(e){").concat(u?"var x=".concat(JSON.stringify(u),";"):"").concat(y(u?"x[e]":"e",!0),"}").concat(f?"":"else{"+y(c,!1,!1)+"}").concat(g,"}catch(e){}}()"):"!function(){try{".concat(p,"var e=localStorage.getItem('").concat(r,"');if(e){").concat(u?"var x=".concat(JSON.stringify(u),";"):"").concat(y(u?"x[e]":"e",!0),"}else{").concat(y(c,!1,!1),";}").concat(g,"}catch(t){}}();");return n.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:A}})}),p=(e,t)=>{let r;if(!o){try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t}},g=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},y=e=>(e||(e=window.matchMedia(s)),e.matches?"dark":"light")}}]);