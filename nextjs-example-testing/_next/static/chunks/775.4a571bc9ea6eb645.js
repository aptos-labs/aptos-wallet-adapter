"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[775],{141:function(e,t){t.gW=void 0;let r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",i={};for(let e=0;e<r.length;e++)i[r.charAt(e)]=e;function n(e){let t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function s(e){let t=1;for(let r=0;r<e.length;++r){let i=e.charCodeAt(r);if(i<33||i>126)return"Invalid prefix ("+e+")";t=n(t)^i>>5}t=n(t);for(let r=0;r<e.length;++r){let i=e.charCodeAt(r);t=n(t)^31&i}return t}function a(e,t,r,i){let n=0,s=0,a=(1<<r)-1,o=[];for(let i=0;i<e.length;++i)for(n=n<<t|e[i],s+=t;s>=r;)o.push(n>>(s-=r)&a);if(i)s>0&&o.push(n<<r-s&a);else{if(s>=t)return"Excess padding";if(n<<r-s&a)return"Non-zero padding"}return o}function o(e){return a(e,8,5,!0)}function u(e){let t=a(e,5,8,!1);if(Array.isArray(t))return t}function c(e){let t=a(e,5,8,!1);if(Array.isArray(t))return t;throw Error(t)}function l(e){let t;function a(e,r){if(r=r||90,e.length<8)return e+" too short";if(e.length>r)return"Exceeds length limit";let a=e.toLowerCase(),o=e.toUpperCase();if(e!==a&&e!==o)return"Mixed-case string "+e;let u=(e=a).lastIndexOf("1");if(-1===u)return"No separator character for "+e;if(0===u)return"Missing prefix for "+e;let c=e.slice(0,u),l=e.slice(u+1);if(l.length<6)return"Data too short";let d=s(c);if("string"==typeof d)return d;let h=[];for(let e=0;e<l.length;++e){let t=l.charAt(e),r=i[t];if(void 0===r)return"Unknown character "+t;d=n(d)^r,e+6>=l.length||h.push(r)}return d!==t?"Invalid checksum for "+e:{prefix:c,words:h}}return t="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){let r=a(e,t);if("object"==typeof r)return r},decode:function(e,t){let r=a(e,t);if("object"==typeof r)return r;throw Error(r)},encode:function(e,i,a){if(a=a||90,e.length+7+i.length>a)throw TypeError("Exceeds length limit");let o=s(e=e.toLowerCase());if("string"==typeof o)throw Error(o);let u=e+"1";for(let e=0;e<i.length;++e){let t=i[e];if(t>>5!=0)throw Error("Non 5-bit word");o=n(o)^t,u+=r.charAt(t)}for(let e=0;e<6;++e)o=n(o);o^=t;for(let e=0;e<6;++e){let t=o>>(5-e)*5&31;u+=r.charAt(t)}return u},toWords:o,fromWordsUnsafe:u,fromWords:c}}t.gW=l("bech32"),l("bech32m")},59863:function(e,t,r){r.d(t,{ZY:function(){return T},bZ:function(){return k},mn:function(){return w},pF:function(){return v},pq:function(){return E},sN:function(){return $},um:function(){return I},ws:function(){return x}});var i,n,s,a,o=r(88343),u=r(21796),c=r(68970),l=r(88205),d=r(34216),h=r(34300),p=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},f=(e,t,r)=>(p(e,t,"read from private field"),r?r.call(e):t.get(e)),g=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},y=(e,t,r,i)=>(p(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r);let m=class{constructor(e){g(this,i,void 0),g(this,n,void 0),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),y(this,i,e.write),y(this,n,e.serialize??((e,t)=>{let r=new h.B({size:this.serializedSize(e)??void 0,...t});return f(this,i).call(this,e,r),r.toBytes()})),this.validate=e.validate??(()=>{})}write(e,t){this.validate(e),f(this,i).call(this,e,t)}serialize(e,t){return this.validate(e),new S(this,f(this,n).call(this,e,t))}parse(e){let t=new l.r(e);return this.read(t)}transform({name:e,input:t,output:r}){return new m({name:e??this.name,read:e=>r(this.read(e)),write:(e,r)=>f(this,i).call(this,t(e),r),serializedSize:e=>this.serializedSize(t(e)),serialize:(e,r)=>f(this,n).call(this,t(e),r),validate:e=>this.validate(t(e))})}},w=m;i=new WeakMap,n=new WeakMap;let b=Symbol.for("@mysten/serialized-bcs");function v(e){return!!e&&"object"==typeof e&&!0===e[b]}class S{constructor(e,t){g(this,s,void 0),g(this,a,void 0),y(this,s,e),y(this,a,t)}get[b](){return!0}toBytes(){return f(this,a)}toHex(){return(0,c.d)(f(this,a))}toBase64(){return(0,u.z)(f(this,a))}toBase58(){return(0,o.K)(f(this,a))}parse(){return f(this,s).parse(f(this,a))}}function T({size:e,...t}){return new w({...t,serializedSize:()=>e})}function $({readMethod:e,writeMethod:t,...r}){return T({...r,read:t=>t[e](),write:(e,r)=>r[t](e),validate:e=>{if(e<0||e>r.maxValue)throw TypeError(`Invalid ${r.name} value: ${e}. Expected value in range 0-${r.maxValue}`);r.validate?.(e)}})}function k({readMethod:e,writeMethod:t,...r}){return T({...r,read:t=>t[e](),write:(e,r)=>r[t](BigInt(e)),validate:e=>{let t=BigInt(e);if(t<0||t>r.maxValue)throw TypeError(`Invalid ${r.name} value: ${t}. Expected value in range 0-${r.maxValue}`);r.validate?.(t)}})}function E({serialize:e,...t}){let r=new w({...t,serialize:e,write:(e,t)=>{for(let i of r.serialize(e).toBytes())t.write8(i)}});return r}function x({toBytes:e,fromBytes:t,...r}){return new w({...r,read:e=>{let r=e.readULEB();return t(e.readBytes(r))},write:(t,r)=>{let i=e(t);r.writeULEB(i.length);for(let e=0;e<i.length;e++)r.write8(i[e])},serialize:t=>{let r=e(t),i=(0,d.u)(r.length),n=new Uint8Array(i.length+r.length);return n.set(i,0),n.set(r,i.length),n},validate:e=>{if("string"!=typeof e)throw TypeError(`Invalid ${r.name} value: ${e}. Expected string`);r.validate?.(e)}})}function I(e){let t=null;function r(){return t||(t=e()),t}return new w({name:"lazy",read:e=>r().read(e),serializedSize:e=>r().serializedSize(e),write:(e,t)=>r().write(e,t),serialize:(e,t)=>r().serialize(e,t).toBytes()})}s=new WeakMap,a=new WeakMap},76577:function(e,t,r){r.d(t,{$:function(){return s}});var i=r(59863),n=r(34216);let s={u8:e=>(0,i.sN)({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:255,...e}),u16:e=>(0,i.sN)({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:65535,...e}),u32:e=>(0,i.sN)({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:4294967296-1,...e}),u64:e=>(0,i.bZ)({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...e}),u128:e=>(0,i.bZ)({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...e}),u256:e=>(0,i.bZ)({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...e}),bool:e=>(0,i.ZY)({name:"bool",size:1,read:e=>1===e.read8(),write:(e,t)=>t.write8(e?1:0),...e,validate:t=>{if(e?.validate?.(t),"boolean"!=typeof t)throw TypeError(`Expected boolean, found ${typeof t}`)}}),uleb128:e=>(0,i.pq)({name:"uleb128",read:e=>e.readULEB(),serialize:e=>Uint8Array.from((0,n.u)(e)),...e}),bytes:(e,t)=>(0,i.ZY)({name:`bytes[${e}]`,size:e,read:t=>t.readBytes(e),write:(t,r)=>{for(let i=0;i<e;i++)r.write8(t[i]??0)},...t,validate:r=>{if(t?.validate?.(r),!("length"in r))throw TypeError(`Expected array, found ${typeof r}`);if(r.length!==e)throw TypeError(`Expected array of length ${e}, found ${r.length}`)}}),string:e=>(0,i.ws)({name:"string",toBytes:e=>new TextEncoder().encode(e),fromBytes:e=>new TextDecoder().decode(e),...e}),fixedArray:(e,t,r)=>new i.mn({name:`${t.name}[${e}]`,read:r=>{let i=Array(e);for(let n=0;n<e;n++)i[n]=t.read(r);return i},write:(e,r)=>{for(let i of e)t.write(i,r)},...r,validate:t=>{if(r?.validate?.(t),!("length"in t))throw TypeError(`Expected array, found ${typeof t}`);if(t.length!==e)throw TypeError(`Expected array of length ${e}, found ${t.length}`)}}),option:e=>s.enum(`Option<${e.name}>`,{None:null,Some:e}).transform({input:e=>null==e?{None:!0}:{Some:e},output:e=>"Some"in e?e.Some:null}),vector:(e,t)=>new i.mn({name:`vector<${e.name}>`,read:t=>{let r=t.readULEB(),i=Array(r);for(let n=0;n<r;n++)i[n]=e.read(t);return i},write:(t,r)=>{for(let i of(r.writeULEB(t.length),t))e.write(i,r)},...t,validate:e=>{if(t?.validate?.(e),!("length"in e))throw TypeError(`Expected array, found ${typeof e}`)}}),tuple:(e,t)=>new i.mn({name:`(${e.map(e=>e.name).join(", ")})`,serializedSize:t=>{let r=0;for(let i=0;i<e.length;i++){let n=e[i].serializedSize(t[i]);if(null==n)return null;r+=n}return r},read:t=>{let r=[];for(let i of e)r.push(i.read(t));return r},write:(t,r)=>{for(let i=0;i<e.length;i++)e[i].write(t[i],r)},...t,validate:r=>{if(t?.validate?.(r),!Array.isArray(r))throw TypeError(`Expected array, found ${typeof r}`);if(r.length!==e.length)throw TypeError(`Expected array of length ${e.length}, found ${r.length}`)}}),struct(e,t,r){let n=Object.entries(t);return new i.mn({name:e,serializedSize:e=>{let t=0;for(let[r,i]of n){let n=i.serializedSize(e[r]);if(null==n)return null;t+=n}return t},read:e=>{let t={};for(let[r,i]of n)t[r]=i.read(e);return t},write:(e,t)=>{for(let[r,i]of n)i.write(e[r],t)},...r,validate:e=>{if(r?.validate?.(e),"object"!=typeof e||null==e)throw TypeError(`Expected object, found ${typeof e}`)}})},enum(e,t,r){let n=Object.entries(t);return new i.mn({name:e,read:e=>{let[t,r]=n[e.readULEB()];return{[t]:r?.read(e)??!0}},write:(e,t)=>{let[r,i]=Object.entries(e)[0];for(let e=0;e<n.length;e++){let[s,a]=n[e];if(s===r){t.writeULEB(e),a?.write(i,t);return}}},...r,validate:e=>{if(r?.validate?.(e),"object"!=typeof e||null==e)throw TypeError(`Expected object, found ${typeof e}`);let i=Object.keys(e);if(1!==i.length)throw TypeError(`Expected object with one key, found ${i.length}`);let[n]=i;if(!Object.hasOwn(t,n))throw TypeError(`Invalid enum variant ${n}`)}})},map:(e,t)=>s.vector(s.tuple([e,t])).transform({name:`Map<${e.name}, ${t.name}>`,input:e=>[...e.entries()],output:e=>{let t=new Map;for(let[r,i]of e)t.set(r,i);return t}}),generic:(e,t)=>(...e)=>t(...e).transform({name:`${t.name}<${e.map(e=>e.name).join(", ")}>`,input:e=>e,output:e=>e}),lazy:e=>(0,i.um)(e)}},88205:function(e,t,r){r.d(t,{r:function(){return n}});var i=r(34216);class n{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32();return BigInt("0x"+(this.read32().toString(16)+e.toString(16).padStart(8,"0"))).toString(10)}read128(){let e=BigInt(this.read64());return BigInt("0x"+(BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0"))).toString(10)}read256(){let e=BigInt(this.read128());return BigInt("0x"+(BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0"))).toString(10)}readBytes(e){let t=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,t,e);return this.shift(e),r}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,t=new Uint8Array(this.dataView.buffer,e),{value:r,length:n}=(0,i.y)(t);return this.shift(n),r}readVec(e){let t=this.readULEB(),r=[];for(let i=0;i<t;i++)r.push(e(this,i,t));return r}}},34216:function(e,t,r){function i(e){let t=[],r=0;if(0===e)return[0];for(;e>0;)t[r]=127&e,(e>>=7)&&(t[r]|=128),r+=1;return t}function n(e){let t=0,r=0,i=0;for(;;){let n=e[i];if(i+=1,t|=(127&n)<<r,(128&n)==0)break;r+=7}return{value:t,length:i}}r.d(t,{u:function(){return i},y:function(){return n}})},34300:function(e,t,r){r.d(t,{B:function(){return s}});var i=r(34216),n=r(99695);class s{constructor({size:e=1024,maxSize:t,allocateSize:r=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=t||e,this.allocateSize=r,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){let t=this.bytePosition+e;if(t>this.size){let e=Math.min(this.maxSize,this.size+this.allocateSize);if(t>e)throw Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${t}`);this.size=e;let r=new ArrayBuffer(this.size);new Uint8Array(r).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(r)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return a(BigInt(e),8).forEach(e=>this.write8(e)),this}write128(e){return a(BigInt(e),16).forEach(e=>this.write8(e)),this}write256(e){return a(BigInt(e),32).forEach(e=>this.write8(e)),this}writeULEB(e){return(0,i.u)(e).forEach(e=>this.write8(e)),this}writeVec(e,t){return this.writeULEB(e.length),Array.from(e).forEach((r,i)=>t(this,r,i,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return(0,n.zS)(this.toBytes(),e)}}function a(e,t){let r=new Uint8Array(t),i=0;for(;e>0;)r[i]=Number(e%BigInt(256)),e/=BigInt(256),i+=1;return r}},58078:function(e,t,r){r.d(t,{$5:function(){return G}});var i=r(88343),n=r(21796),s=r(59863),a=r(68970),o=r(88205),u=r(99695),c=r(34300);let l=class{constructor(e){if(this.types=new Map,this.counter=0,e instanceof l){this.schema=e.schema,this.types=new Map(e.types);return}if(this.schema=e,this.registerAddressType(l.ADDRESS,e.addressLength,e.addressEncoding),this.registerVectorType(e.vectorType),e.types&&e.types.structs)for(let t of Object.keys(e.types.structs))this.registerStructType(t,e.types.structs[t]);if(e.types&&e.types.enums)for(let t of Object.keys(e.types.enums))this.registerEnumType(t,e.types.enums[t]);if(e.types&&e.types.aliases)for(let t of Object.keys(e.types.aliases))this.registerAlias(t,e.types.aliases[t]);!1!==e.withPrimitives&&(this.registerType(l.U8,function(e,t){return e.write8(t)},function(e){return e.read8()},e=>e<256),this.registerType(l.U16,function(e,t){return e.write16(t)},function(e){return e.read16()},e=>e<65536),this.registerType(l.U32,function(e,t){return e.write32(t)},function(e){return e.read32()},e=>e<=4294967296n),this.registerType(l.U64,function(e,t){return e.write64(t)},function(e){return e.read64()}),this.registerType(l.U128,function(e,t){return e.write128(t)},function(e){return e.read128()}),this.registerType(l.U256,function(e,t){return e.write256(t)},function(e){return e.read256()}),this.registerType(l.BOOL,function(e,t){return e.write8(t)},function(e){return"1"===e.read8().toString(10)}),this.registerType(l.STRING,function(e,t){return e.writeVec(Array.from(t),(e,t)=>e.write8(t.charCodeAt(0)))},function(e){return e.readVec(e=>e.read8()).map(e=>String.fromCharCode(Number(e))).join("")},e=>!0),this.registerType(l.HEX,function(e,t){return e.writeVec(Array.from((0,a.H)(t)),(e,t)=>e.write8(t))},function(e){let t=e.readVec(e=>e.read8());return(0,a.d)(new Uint8Array(t))}),this.registerType(l.BASE58,function(e,t){return e.writeVec(Array.from((0,i.n)(t)),(e,t)=>e.write8(t))},function(e){let t=e.readVec(e=>e.read8());return(0,i.K)(new Uint8Array(t))}),this.registerType(l.BASE64,function(e,t){return e.writeVec(Array.from((0,n.F)(t)),(e,t)=>e.write8(t))},function(e){let t=e.readVec(e=>e.read8());return(0,n.z)(new Uint8Array(t))}))}tempKey(){return`bcs-struct-${++this.counter}`}ser(e,t,r){if("string"==typeof e||Array.isArray(e)){let{name:i,params:n}=this.parseTypeName(e);return this.getTypeInterface(i).encode(this,t,r,n)}if("object"==typeof e){let i=this.tempKey();return new l(this).registerStructType(i,e).ser(i,t,r)}throw Error(`Incorrect type passed into the '.ser()' function. 
${JSON.stringify(e)}`)}de(e,t,r){if("string"==typeof t){if(r)t=(0,u.NX)(t,r);else throw Error("To pass a string to `bcs.de`, specify encoding")}if("string"==typeof e||Array.isArray(e)){let{name:r,params:i}=this.parseTypeName(e);return this.getTypeInterface(r).decode(this,t,i)}if("object"==typeof e){let i=new l(this),n=this.tempKey();return i.registerStructType(n,e).de(n,t,r)}throw Error(`Incorrect type passed into the '.de()' function. 
${JSON.stringify(e)}`)}hasType(e){return this.types.has(e)}registerAlias(e,t){return this.types.set(e,t),this}registerType(e,t,r,i=()=>!0){let{name:n,params:s}=this.parseTypeName(e);return this.types.set(n,{encode(e,t,r,i){let n=s.reduce((e,t,r)=>Object.assign(e,{[t]:i[r]}),{});return this._encodeRaw.call(e,new c.B(r),t,i,n)},decode(e,t,r){let i=s.reduce((e,t,i)=>Object.assign(e,{[t]:r[i]}),{});return this._decodeRaw.call(e,new o.r(t),r,i)},_encodeRaw(e,r,s,a){if(i(r))return t.call(this,e,r,s,a);throw Error(`Validation failed for type ${n}, data: ${r}`)},_decodeRaw(e,t,i){return r.call(this,e,t,i)}}),this}registerBcsType(e,t){return this.registerType(e,(e,r,i)=>(t(...i.map(e=>new s.mn({name:String(e),write:(t,r)=>{let{name:n,params:s}=this.parseTypeName(e),a=this.getTypeInterface(n),o=s.reduce((e,t,r)=>Object.assign(e,{[t]:i[r]}),{});return a._encodeRaw.call(this,r,t,s,o)},read:()=>{throw Error("Not implemented")}}))).write(r,e),e),(e,r)=>t(...r.map(e=>new s.mn({name:String(e),write:(e,t)=>{throw Error("Not implemented")},read:t=>{let{name:i,params:n}=this.parseTypeName(e),s=this.getTypeInterface(i),a=n.reduce((e,t,i)=>Object.assign(e,{[t]:r[i]}),{});return s._decodeRaw.call(this,t,n,a)}}))).read(e)),this}registerAddressType(e,t,r="hex"){switch(r){case"base64":return this.registerType(e,function(e,t){return(0,n.F)(t).reduce((e,t)=>e.write8(t),e)},function(e){return(0,n.z)(e.readBytes(t))});case"hex":return this.registerType(e,function(e,t){return(0,a.H)(t).reduce((e,t)=>e.write8(t),e)},function(e){return(0,a.d)(e.readBytes(t))});default:throw Error("Unsupported encoding! Use either hex or base64")}}registerVectorType(e){let{name:t,params:r}=this.parseTypeName(e);if(r.length>1)throw Error("Vector can have only one type parameter; got "+t);return this.registerType(e,function(t,r,i,n){return t.writeVec(r,(t,r)=>{let s=i[0];if(!s)throw Error(`Incorrect number of type parameters passed a to vector '${e}'`);let{name:a,params:o}=this.parseTypeName(s);if(this.hasType(a))return this.getTypeInterface(a)._encodeRaw.call(this,t,r,o,n);if(!(a in n))throw Error(`Unable to find a matching type definition for ${a} in vector; make sure you passed a generic`);let{name:u,params:c}=this.parseTypeName(n[a]);return this.getTypeInterface(u)._encodeRaw.call(this,t,r,c,n)})},function(t,r,i){return t.readVec(t=>{let n=r[0];if(!n)throw Error(`Incorrect number of type parameters passed to a vector '${e}'`);let{name:s,params:a}=this.parseTypeName(n);if(this.hasType(s))return this.getTypeInterface(s)._decodeRaw.call(this,t,a,i);if(!(s in i))throw Error(`Unable to find a matching type definition for ${s} in vector; make sure you passed a generic`);let{name:o,params:u}=this.parseTypeName(i[s]);return this.getTypeInterface(o)._decodeRaw.call(this,t,u,i)})})}registerStructType(e,t){for(let e in t){let r=this.tempKey(),i=t[e];Array.isArray(i)||"string"==typeof i||(t[e]=r,this.registerStructType(r,i))}let r=Object.freeze(t),i=Object.keys(r),{name:n,params:s}=this.parseTypeName(e);return this.registerType(e,function(e,t,a,o){if(!t||t.constructor!==Object)throw Error(`Expected ${n} to be an Object, got: ${t}`);if(a.length!==s.length)throw Error(`Incorrect number of generic parameters passed; expected: ${s.length}, got: ${a.length}`);for(let u of i){if(!(u in t))throw Error(`Struct ${n} requires field ${u}:${r[u]}`);let{name:i,params:c}=this.parseTypeName(r[u]);if(s.includes(i)){let r=s.indexOf(i),{name:c,params:l}=this.parseTypeName(a[r]);if(this.hasType(c)){this.getTypeInterface(c)._encodeRaw.call(this,e,t[u],l,o);continue}if(!(c in o))throw Error(`Unable to find a matching type definition for ${c} in ${n}; make sure you passed a generic`);let{name:d,params:h}=this.parseTypeName(o[c]);this.getTypeInterface(d)._encodeRaw.call(this,e,t[u],h,o)}else this.getTypeInterface(i)._encodeRaw.call(this,e,t[u],c,o)}return e},function(e,t,a){if(t.length!==s.length)throw Error(`Incorrect number of generic parameters passed; expected: ${s.length}, got: ${t.length}`);let o={};for(let u of i){let{name:i,params:c}=this.parseTypeName(r[u]);if(s.includes(i)){let r=s.indexOf(i),{name:c,params:l}=this.parseTypeName(t[r]);if(this.hasType(c)){o[u]=this.getTypeInterface(c)._decodeRaw.call(this,e,l,a);continue}if(!(c in a))throw Error(`Unable to find a matching type definition for ${c} in ${n}; make sure you passed a generic`);let{name:d,params:h}=this.parseTypeName(a[c]);o[u]=this.getTypeInterface(d)._decodeRaw.call(this,e,h,a)}else o[u]=this.getTypeInterface(i)._decodeRaw.call(this,e,c,a)}return o})}registerEnumType(e,t){for(let e in t){let r=this.tempKey(),i=t[e];null===i||Array.isArray(i)||"string"==typeof i||(t[e]=r,this.registerStructType(r,i))}let r=Object.freeze(t),i=Object.keys(r),{name:n,params:s}=this.parseTypeName(e);return this.registerType(e,function(e,t,a,o){if(!t)throw Error(`Unable to write enum "${n}", missing data.
Received: "${t}"`);if("object"!=typeof t)throw Error(`Incorrect data passed into enum "${n}", expected object with properties: "${i.join(" | ")}".
Received: "${JSON.stringify(t)}"`);let u=Object.keys(t)[0];if(void 0===u)throw Error(`Empty object passed as invariant of the enum "${n}"`);let c=i.indexOf(u);if(-1===c)throw Error(`Unknown invariant of the enum "${n}", allowed values: "${i.join(" | ")}"; received "${u}"`);let l=r[i[c]];if(e.write8(c),null===l)return e;let d=s.indexOf(l),h=-1===d?l:a[d];{let{name:r,params:i}=this.parseTypeName(h);return this.getTypeInterface(r)._encodeRaw.call(this,e,t[u],i,o)}},function(e,t,a){let o=e.readULEB(),u=i[o],c=r[u];if(-1===o)throw Error(`Decoding type mismatch, expected enum "${n}" invariant index, received "${o}"`);if(null===c)return{[u]:!0};let l=s.indexOf(c),d=-1===l?c:t[l];{let{name:t,params:r}=this.parseTypeName(d);return{[u]:this.getTypeInterface(t)._decodeRaw.call(this,e,r,a)}}})}getTypeInterface(e){let t=this.types.get(e);if("string"==typeof t){let e=[];for(;"string"==typeof t;){if(e.includes(t))throw Error(`Recursive definition found: ${e.join(" -> ")} -> ${t}`);e.push(t),t=this.types.get(t)}}if(void 0===t)throw Error(`Type ${e} is not registered`);return t}parseTypeName(e){if(Array.isArray(e)){let[t,...r]=e;return{name:t,params:r}}if("string"!=typeof e)throw Error(`Illegal type passed as a name of the type: ${e}`);let[t,r]=this.schema.genericSeparators||["<",">"],i=e.indexOf(t),n=Array.from(e).reverse().indexOf(r);if(-1===i&&-1===n)return{name:e,params:[]};if(-1===i||-1===n)throw Error(`Unclosed generic in name '${e}'`);return{name:e.slice(0,i),params:(0,u.fR)(e.slice(i+1,e.length-n-1),this.schema.genericSeparators)}}};l.U8="u8",l.U16="u16",l.U32="u32",l.U64="u64",l.U128="u128",l.U256="u256",l.BOOL="bool",l.VECTOR="vector",l.ADDRESS="address",l.STRING="string",l.HEX="hex-string",l.BASE58="base58-string",l.BASE64="base64-string";var d=r(76577),h=r(34499),p=r(36149);let f=new l({genericSeparators:["<",">"],vectorType:"vector",addressLength:32,addressEncoding:"hex",types:{enums:{"Option<T>":{None:null,Some:"T"}}}});function g(e){return d.$.u64({name:"unsafe_u64",...e}).transform({input:e=>e,output:e=>Number(e)})}function y(e){return e.transform({input:e=>({[e.kind]:e}),output:e=>{let t=Object.keys(e)[0];return{kind:t,...e[t]}}})}let m=d.$.bytes(h.kT).transform({input:e=>"string"==typeof e?(0,a.H)((0,h.yT)(e)):e,output:e=>(0,h.yT)((0,a.d)(e))}),w=d.$.vector(d.$.u8()).transform({name:"ObjectDigest",input:e=>(0,i.n)(e),output:e=>(0,i.K)(new Uint8Array(e))}),b=d.$.struct("SuiObjectRef",{objectId:m,version:d.$.u64(),digest:w}),v=d.$.struct("SharedObjectRef",{objectId:m,initialSharedVersion:d.$.u64(),mutable:d.$.bool()}),S=d.$.enum("ObjectArg",{ImmOrOwned:b,Shared:v,Receiving:b}),T=d.$.enum("CallArg",{Pure:d.$.vector(d.$.u8()),Object:S,ObjVec:d.$.vector(S)}),$=d.$.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:d.$.lazy(()=>$),struct:d.$.lazy(()=>A),u16:null,u32:null,u256:null}),k=y(d.$.enum("Argument",{GasCoin:null,Input:d.$.struct("Input",{index:d.$.u16()}),Result:d.$.struct("Result",{index:d.$.u16()}),NestedResult:d.$.struct("NestedResult",{index:d.$.u16(),resultIndex:d.$.u16()})})),E=d.$.struct("ProgrammableMoveCall",{package:m,module:d.$.string(),function:d.$.string(),type_arguments:d.$.vector($),arguments:d.$.vector(k)}).transform({input:e=>{let[t,r,i]=e.target.split("::"),n=e.typeArguments.map(e=>p.X.parseFromStr(e,!0));return{package:(0,h.yT)(t),module:r,function:i,type_arguments:n,arguments:e.arguments}},output:e=>({target:[e.package,e.module,e.function].join("::"),arguments:e.arguments,typeArguments:e.type_arguments.map(p.X.tagToString)})}),x=y(d.$.enum("Transaction",{MoveCall:E,TransferObjects:d.$.struct("TransferObjects",{objects:d.$.vector(k),address:k}),SplitCoins:d.$.struct("SplitCoins",{coin:k,amounts:d.$.vector(k)}),MergeCoins:d.$.struct("MergeCoins",{destination:k,sources:d.$.vector(k)}),Publish:d.$.struct("Publish",{modules:d.$.vector(d.$.vector(d.$.u8())),dependencies:d.$.vector(m)}),MakeMoveVec:d.$.struct("MakeMoveVec",{type:d.$.enum("Option",{None:null,Some:$}),objects:d.$.vector(k)}),Upgrade:d.$.struct("Upgrade",{modules:d.$.vector(d.$.vector(d.$.u8())),dependencies:d.$.vector(m),packageId:m,ticket:k})})),I=d.$.struct("ProgrammableTransaction",{inputs:d.$.vector(T),transactions:d.$.vector(x)}),j=d.$.enum("TransactionKind",{ProgrammableTransaction:I,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),B=d.$.enum("TransactionExpiration",{None:null,Epoch:g()}),A=d.$.struct("StructTag",{address:m,module:d.$.string(),name:d.$.string(),typeParams:d.$.vector($)}),O=d.$.struct("GasData",{payment:d.$.vector(b),owner:m,price:d.$.u64(),budget:d.$.u64()}),C=d.$.struct("TransactionDataV1",{kind:j,sender:m,gasData:O,expiration:B}),P=d.$.enum("TransactionData",{V1:C}),z=d.$.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),M=d.$.enum("IntentVersion",{V0:null}),U=d.$.enum("AppId",{Sui:null}),_=d.$.struct("Intent",{scope:z,version:M,appId:U}),N=d.$.generic(["T"],e=>d.$.struct("IntentMessage<T>",{intent:_,value:e})),R=d.$.enum("CompressedSignature",{ED25519:d.$.fixedArray(64,d.$.u8()),Secp256k1:d.$.fixedArray(64,d.$.u8()),Secp256r1:d.$.fixedArray(64,d.$.u8()),ZkLogin:d.$.vector(d.$.u8())}),V=d.$.enum("PublicKey",{ED25519:d.$.fixedArray(32,d.$.u8()),Secp256k1:d.$.fixedArray(33,d.$.u8()),Secp256r1:d.$.fixedArray(33,d.$.u8()),ZkLogin:d.$.vector(d.$.u8())}),D=d.$.struct("MultiSigPkMap",{pubKey:V,weight:d.$.u8()}),q=d.$.struct("MultiSigPublicKey",{pk_map:d.$.vector(D),threshold:d.$.u16()}),L=d.$.struct("MultiSig",{sigs:d.$.vector(R),bitmap:d.$.u16(),multisig_pk:q}),W=d.$.vector(d.$.u8()).transform({input:e=>"string"==typeof e?(0,n.F)(e):e,output:e=>(0,n.z)(new Uint8Array(e))}),F=d.$.struct("SenderSignedTransaction",{intentMessage:N(P),txSignatures:d.$.vector(W)}),K=d.$.vector(F,{name:"SenderSignedData"}),G={...d.$,U8:d.$.u8(),U16:d.$.u16(),U32:d.$.u32(),U64:d.$.u64(),U128:d.$.u128(),U256:d.$.u256(),ULEB128:d.$.uleb128(),Bool:d.$.bool(),String:d.$.string(),Address:m,Argument:k,CallArg:T,CompressedSignature:R,GasData:O,MultiSig:L,MultiSigPkMap:D,MultiSigPublicKey:q,ObjectArg:S,ObjectDigest:w,ProgrammableMoveCall:E,ProgrammableTransaction:I,PublicKey:V,SenderSignedData:K,SenderSignedTransaction:F,SharedObjectRef:v,StructTag:A,SuiObjectRef:b,Transaction:x,TransactionData:P,TransactionDataV1:C,TransactionExpiration:B,TransactionKind:j,TypeTag:$,ser:f.ser.bind(f),de:f.de.bind(f),getTypeInterface:f.getTypeInterface.bind(f),hasType:f.hasType.bind(f),parseTypeName:f.parseTypeName.bind(f),registerAddressType:f.registerAddressType.bind(f),registerAlias:f.registerAlias.bind(f),registerBcsType:f.registerBcsType.bind(f),registerEnumType:f.registerEnumType.bind(f),registerStructType:f.registerStructType.bind(f),registerType:f.registerType.bind(f),types:f.types};f.registerBcsType("utf8string",()=>d.$.string({name:"utf8string"})),f.registerBcsType("unsafe_u64",()=>g()),f.registerBcsType("enumKind",e=>y(e)),[m,k,T,R,O,L,D,q,S,w,E,I,V,K,v,A,b,x,P,C,B,j,$].forEach(e=>{f.registerBcsType(e.name,()=>e)})},36149:function(e,t,r){r.d(t,{X:function(){return o}});var i=r(99695),n=r(34499);let s=/^vector<(.+)>$/,a=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;class o{static parseFromStr(e,t=!1){if("address"===e)return{address:null};if("bool"===e)return{bool:null};if("u8"===e)return{u8:null};if("u16"===e)return{u16:null};if("u32"===e)return{u32:null};if("u64"===e)return{u64:null};if("u128"===e)return{u128:null};else if("u256"===e)return{u256:null};else if("signer"===e)return{signer:null};let r=e.match(s);if(r)return{vector:o.parseFromStr(r[1],t)};let i=e.match(a);if(i)return{struct:{address:t?(0,n.yT)(i[1]):i[1],module:i[2],name:i[3],typeParams:void 0===i[5]?[]:o.parseStructTypeArgs(i[5],t)}};throw Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,t=!1){return(0,i.fR)(e).map(e=>o.parseFromStr(e,t))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${o.tagToString(e.vector)}>`;if("struct"in e){let t=e.struct,r=t.typeParams.map(o.tagToString).join(", ");return`${t.address}::${t.module}::${t.name}${r?`<${r}>`:""}`}throw Error("Invalid TypeTag")}}},67986:function(e,t,r){let i;r.d(t,{a:function(){return tT},n:function(){return tv}});var n,s,a,o,u,c,l,d,h,p,f,g,y,m,w,b,v,S,T=r(21796),$=r(59863);class k extends TypeError{constructor(e,t){let r;let{message:i,explanation:n,...s}=e,{path:a}=e,o=0===a.length?i:`At path: ${a.join(".")} -- ${i}`;super(n??o),null!=n&&(this.cause=o),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function E(e){return"object"==typeof e&&null!=e}function x(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function*I(e,t,r,i){var n;for(let s of(E(n=e)&&"function"==typeof n[Symbol.iterator]||(e=[e]),e)){let e=function(e,t,r,i){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:n,branch:s}=t,{type:a}=r,{refinement:o,message:u=`Expected a value of type \`${a}\`${o?` with refinement \`${o}\``:""}, but received: \`${x(i)}\``}=e;return{value:i,type:a,refinement:o,key:n[n.length-1],path:n,branch:s,...e,message:u}}(s,t,r,i);e&&(yield e)}}function*j(e,t,r={}){let{path:i=[],branch:n=[e],coerce:s=!1,mask:a=!1}=r,o={path:i,branch:n};if(s&&(e=t.coercer(e,o),a&&"type"!==t.type&&E(t.schema)&&E(e)&&!Array.isArray(e)))for(let r in e)void 0===t.schema[r]&&delete e[r];let u="valid";for(let i of t.validator(e,o))i.explanation=r.message,u="not_valid",yield[i,void 0];for(let[c,l,d]of t.entries(e,o))for(let t of j(l,d,{path:void 0===c?i:[...i,c],branch:void 0===c?n:[...n,l],coerce:s,mask:a,message:r.message}))t[0]?(u=null!=t[0].refinement?"not_refined":"not_valid",yield[t[0],void 0]):s&&(l=t[1],void 0===c?e=l:e instanceof Map?e.set(c,l):e instanceof Set?e.add(l):E(e)&&(void 0!==l||c in e)&&(e[c]=l));if("not_valid"!==u)for(let i of t.refiner(e,o))i.explanation=r.message,u="not_refined",yield[i,void 0];"valid"===u&&(yield[void 0,e])}class B{constructor(e){let{type:t,schema:r,validator:i,refiner:n,coercer:s=e=>e,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(e,t)=>I(i(e,t),t,this,e):this.validator=()=>[],n?this.refiner=(e,t)=>I(n(e,t),t,this,e):this.refiner=()=>[]}assert(e,t){return A(e,this,t)}create(e,t){return O(e,this,t)}is(e){return P(e,this)}mask(e,t){return C(e,this,t)}validate(e,t={}){return z(e,this,t)}}function A(e,t,r){let i=z(e,t,{message:r});if(i[0])throw i[0]}function O(e,t,r){let i=z(e,t,{coerce:!0,message:r});if(!i[0])return i[1];throw i[0]}function C(e,t,r){let i=z(e,t,{coerce:!0,mask:!0,message:r});if(!i[0])return i[1];throw i[0]}function P(e,t){return!z(e,t)[0]}function z(e,t,r={}){let i=j(e,t,r),n=function(e){let{done:t,value:r}=e.next();return t?void 0:r}(i);return n[0]?[new k(n[0],function*(){for(let e of i)e[0]&&(yield e[0])}),void 0]:[void 0,n[1]]}function M(...e){let t="type"===e[0].type,r=Object.assign({},...e.map(e=>e.schema));return t?function(e){let t=Object.keys(e);return new B({type:"type",schema:e,*entries(r){if(E(r))for(let i of t)yield[i,r[i],e[i]]},validator:e=>E(e)||`Expected an object, but received: ${x(e)}`,coercer:e=>E(e)?{...e}:e})}(r):F(r)}function U(e,t){return new B({type:e,schema:null,validator:t})}function _(){return U("any",()=>!0)}function N(e){return new B({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(let[r,i]of t.entries())yield[r,i,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${x(e)}`})}function R(){return U("boolean",e=>"boolean"==typeof e)}function V(){return U("integer",e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${x(e)}`)}function D(e){let t=x(e),r=typeof e;return new B({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${x(r)}`})}function q(){return U("never",()=>!1)}function L(e){return new B({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function W(){return U("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${x(e)}`)}function F(e){let t=e?Object.keys(e):[],r=q();return new B({type:"object",schema:e||null,*entries(i){if(e&&E(i)){let n=new Set(Object.keys(i));for(let r of t)n.delete(r),yield[r,i[r],e[r]];for(let e of n)yield[e,i[e],r]}},validator:e=>E(e)||`Expected an object, but received: ${x(e)}`,coercer:e=>E(e)?{...e}:e})}function K(e){return new B({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function G(e,t){return new B({type:"record",schema:null,*entries(r){if(E(r))for(let i in r){let n=r[i];yield[i,i,e],yield[i,n,t]}},validator:e=>E(e)||`Expected an object, but received: ${x(e)}`})}function Z(){return U("string",e=>"string"==typeof e||`Expected a string, but received: ${x(e)}`)}function H(e){let t=q();return new B({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let i=Math.max(e.length,r.length);for(let n=0;n<i;n++)yield[n,r[n],e[n]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${x(e)}`})}function J(e){let t=e.map(e=>e.type).join(" | ");return new B({type:"union",schema:null,coercer(t){for(let r of e){let[e,i]=r.validate(t,{coerce:!0});if(!e)return i}return t},validator(r,i){let n=[];for(let t of e){let[...e]=j(r,t,i),[s]=e;if(!s[0])return[];for(let[t]of e)t&&n.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${x(r)}`,...n]}})}function Y(){return U("unknown",()=>!0)}var X=r(58078);N(J([Z(),F({Object:Z()})]));let Q=F({address:Z(),name:Z()}),ee=J([D("Private"),D("Public"),D("Friend")]),et=F({abilities:N(Z())}),er=F({constraints:et,isPhantom:R()}),ei=F({TypeParameter:W()}),en=H([F({module:Z(),package:Z(),function:Z()}),Z()]);function es(e){return!!e&&(!!("string"==typeof e||P(e,ei)||eo(e))||"object"==typeof e&&!!(P(e.Reference,ea)||P(e.MutableReference,ea)||P(e.Vector,ea)))}F({rank3Days:N(en),rank7Days:N(en),rank30Days:N(en)});let ea=U("SuiMoveNormalizedType",es);function eo(e){if(!e||"object"!=typeof e||!e.Struct||"object"!=typeof e.Struct)return!1;let t=e.Struct;return!!("string"==typeof t.address&&"string"==typeof t.module&&"string"==typeof t.name&&Array.isArray(t.typeArguments)&&t.typeArguments.every(e=>es(e)))}U("SuiMoveNormalizedStructType",eo);let eu=F({visibility:ee,isEntry:R(),typeParameters:N(et),parameters:N(ea),return:N(ea)}),ec=F({name:Z(),type:ea}),el=F({abilities:et,typeParameters:N(er),fields:N(ec)}),ed=F({fileFormatVersion:W(),address:Z(),name:Z(),friends:N(Q),structs:G(Z(),el),exposedFunctions:G(Z(),eu)});function eh(e){return"object"==typeof e&&"MutableReference"in e?e.MutableReference:void 0}function ep(e){return"object"==typeof e&&"Reference"in e?e.Reference:void 0}function ef(e){if("object"==typeof e&&"Struct"in e)return e;let t=ep(e),r=eh(e);return"object"==typeof t&&"Struct"in t?t:"object"==typeof r&&"Struct"in r?r:void 0}G(Z(),ed);let eg=J([F({AddressOwner:Z()}),F({ObjectOwner:Z()}),F({Shared:F({initial_shared_version:L(Z())})}),D("Immutable")]);U("SuiJsonValue",()=>!0);let ey=J([F({u32:Z()}),F({u64:Z()}),F({f64:Z()})]);F({attributes:G(Z(),L(ey)),featureFlags:G(Z(),R()),maxSupportedProtocolVersion:Z(),minSupportedProtocolVersion:Z(),protocolVersion:Z()}),J([Z(),D("package")]);let em=F({digest:Z(),objectId:Z(),version:J([W(),Z(),U("bigint",e=>"bigint"==typeof e)])});F({owner:eg,reference:em}),F({objectId:Z(),sequenceNumber:Z()}),F({payment:N(em),owner:Z(),price:Z(),budget:Z()});let ew=M(em,F({type:Z(),owner:eg,previousTransaction:Z()})),eb=G(Z(),_()),ev=G(Z(),Y()),eS=F({type:Z(),fields:eb,hasPublicTransfer:R()}),eT=F({disassembled:ev}),e$=J([M(eS,F({dataType:D("moveObject")})),M(eT,F({dataType:D("package")}))]),ek=F({type:Z(),hasPublicTransfer:R(),version:Z(),bcsBytes:Z()}),eE=F({id:Z(),moduleMap:G(Z(),Z())}),ex=J([M(ek,F({dataType:D("moveObject")})),M(eE,F({dataType:D("package")}))]);BigInt(1e9);let eI=F({code:Z(),error:K(Z()),object_id:K(Z()),parent_object_id:K(Z()),version:K(Z()),digest:K(Z())}),ej=J([F({data:L(K(G(Z(),Z()))),error:L(K(eI))}),K(G(Z(),Z()))]),eB=F({objectId:Z(),version:Z(),digest:Z(),type:L(K(Z())),content:L(K(e$)),bcs:L(K(ex)),owner:L(K(eg)),previousTransaction:L(K(Z())),storageRebate:L(K(Z())),display:L(K(ej))});F({showType:L(K(R())),showContent:L(K(R())),showBcs:L(K(R())),showOwner:L(K(R())),showPreviousTransaction:L(K(R())),showStorageRebate:L(K(R())),showDisplay:L(K(R()))}),J([D("Exists"),D("notExists"),D("Deleted")]),N(ew);let eA=F({data:L(K(eB)),error:L(K(eI))});function eO(e){if("reference"in e)return e.reference;let t=e.data;return t?{objectId:t.objectId,version:t.version,digest:t.digest}:function(e){if(e.error&&"object_id"in e.error&&"version"in e.error&&"digest"in e.error){let t=e.error;return{objectId:t.object_id,version:t.version,digest:t.digest}}}(e)}F({objectId:Z(),atCheckpoint:K(W())}),F({data:N(eA),nextCursor:K(L(Z())),hasNextPage:R()}),J([F({details:eB,status:D("VersionFound")}),F({details:Z(),status:D("ObjectNotExists")}),F({details:em,status:D("ObjectDeleted")}),F({details:H([Z(),W()]),status:D("VersionNotFound")}),F({details:F({asked_version:W(),latest_version:W(),object_id:Z()}),status:D("VersionTooHigh")})]);var eC=r(11421),eP=r(34499);let ez=J([F({ImmOrOwned:em}),F({Shared:F({objectId:Z(),initialSharedVersion:J([V(),Z()]),mutable:R()})}),F({Receiving:em})]),eM=F({Pure:N(V())}),eU=F({Object:ez}),e_=J([eM,eU]),eN={Pure:function(e,t){return{Pure:Array.from(e instanceof Uint8Array?e:(0,$.pF)(e)?e.toBytes():X.$5.ser(t,e,{maxSize:1/0}).toBytes())}},ObjectRef:({objectId:e,digest:t,version:r})=>({Object:{ImmOrOwned:{digest:t,version:r,objectId:(0,eP.yT)(e)}}}),SharedObjectRef:({objectId:e,mutable:t,initialSharedVersion:r})=>({Object:{Shared:{mutable:t,initialSharedVersion:r,objectId:(0,eP.yT)(e)}}}),ReceivingRef:({objectId:e,digest:t,version:r})=>({Object:{Receiving:{digest:t,version:r,objectId:(0,eP.yT)(e)}}})};function eR(e){return"string"==typeof e?(0,eP.yT)(e):"ImmOrOwned"in e.Object?(0,eP.yT)(e.Object.ImmOrOwned.objectId):"Receiving"in e.Object?(0,eP.yT)(e.Object.Receiving.objectId):(0,eP.yT)(e.Object.Shared.objectId)}let eV={address:eC.Nf,module:"object",name:"ID"},eD={address:eC.ht,module:"ascii",name:"String"},eq={address:eC.ht,module:"string",name:"String"},eL={address:eC.ht,module:"option",name:"Option"},eW=(e,t)=>e.address===t.address&&e.module===t.module&&e.name===t.name;function eF(e,t){if(void 0!==t&&typeof t!==e)throw Error(`Expect ${t} to be ${e}, received ${typeof t}`)}let eK=["Address","Bool","U8","U16","U32","U64","U128","U256"];var eG=r(88343),eZ=r(75403),eH=r(36149);let eJ=J([F({kind:D("Input"),index:V(),value:K(_()),type:K(D("object"))}),F({kind:D("Input"),index:V(),value:K(_()),type:D("pure")})]),eY=J([eJ,F({kind:D("GasCoin")}),F({kind:D("Result"),index:V()}),F({kind:D("NestedResult"),index:V(),resultIndex:V()})]),eX=F({kind:D("MoveCall"),target:U("target",Z().validator),typeArguments:N(Z()),arguments:N(eY)}),eQ=F({kind:D("TransferObjects"),objects:N(eY),address:eY}),e0=F({kind:D("SplitCoins"),coin:eY,amounts:N(eY)}),e1=F({kind:D("MergeCoins"),destination:eY,sources:N(eY)}),e2=F({kind:D("MakeMoveVec"),type:K((i=G(Z(),Y()),J([F({None:J([D(!0),D(null)])}),F({Some:i})]))),objects:N(eY)}),e3=F({kind:D("Publish"),modules:N(N(V())),dependencies:N(Z())});var e6=((n=e6||{})[n.COMPATIBLE=0]="COMPATIBLE",n[n.ADDITIVE=128]="ADDITIVE",n[n.DEP_ONLY=192]="DEP_ONLY",n);let e8=F({kind:D("Upgrade"),modules:N(N(V())),dependencies:N(Z()),packageId:Z(),ticket:eY}),e5=J([eX,eQ,e0,e1,e3,e8,e2]),e4=e=>O({kind:"MoveCall",target:e.target,arguments:e.arguments??[],typeArguments:e.typeArguments??[]},eX),e7=(e,t)=>("Input"===t.kind&&"pure"===t.type&&"object"!=typeof t.value&&(t.value=eN.Pure(X.$5.Address.serialize(t.value))),O({kind:"TransferObjects",objects:e,address:t},eQ)),e9=(e,t)=>(t.forEach(e=>{"Input"===e.kind&&"pure"===e.type&&"object"!=typeof e.value&&(e.value=eN.Pure(X.$5.U64.serialize(e.value)))}),O({kind:"SplitCoins",coin:e,amounts:t},e0)),te=(e,t)=>O({kind:"MergeCoins",destination:e,sources:t},e1),tt=({modules:e,dependencies:t})=>O({kind:"Publish",modules:e.map(e=>"string"==typeof e?Array.from((0,T.F)(e)):e),dependencies:t.map(e=>(0,eP.Fw)(e))},e3),tr=({modules:e,dependencies:t,packageId:r,ticket:i})=>O({kind:"Upgrade",modules:e.map(e=>"string"==typeof e?Array.from((0,T.F)(e)):e),dependencies:t.map(e=>(0,eP.Fw)(e)),packageId:r,ticket:i},e8),ti=({type:e,objects:t})=>O({kind:"MakeMoveVec",type:e?{Some:eH.X.parseFromStr(e)}:{None:null},objects:t},e2),tn=K(L(J([F({Epoch:V()}),F({None:J([D(!0),D(null)])})]))),ts=U("StringEncodedBigint",e=>{if(!["string","number","bigint"].includes(typeof e))return!1;try{return BigInt(e),!0}catch{return!1}}),ta=F({budget:K(ts),price:K(ts),payment:K(N(em)),owner:K(Z())}),to=F({version:D(1),sender:K(Z()),expiration:tn,gasConfig:ta,inputs:N(eJ),transactions:N(e5)});function tu(e){return(0,eP.yT)(e).replace("0x","")}class tc{constructor(e){this.version=1,this.sender=e?.sender,this.expiration=e?.expiration,this.gasConfig=e?.gasConfig??{},this.inputs=e?.inputs??[],this.transactions=e?.transactions??[]}static fromKindBytes(e){var t;let r=X.$5.TransactionKind.parse(e),i="ProgrammableTransaction"in r?r.ProgrammableTransaction:null;if(!i)throw Error("Unable to deserialize from bytes.");let n=(t={version:1,gasConfig:{},inputs:i.inputs.map((e,t)=>O({kind:"Input",value:e,index:t,type:P(e,eM)?"pure":"object"},eJ)),transactions:i.transactions},O(t,to));return tc.restore(n)}static fromBytes(e){var t;let r=X.$5.TransactionData.parse(e),i=r?.V1,n="ProgrammableTransaction"in i.kind?i?.kind?.ProgrammableTransaction:null;if(!i||!n)throw Error("Unable to deserialize from bytes.");let s=(t={version:1,sender:i.sender,expiration:i.expiration,gasConfig:i.gasData,inputs:n.inputs.map((e,t)=>O({kind:"Input",value:e,index:t,type:P(e,eM)?"pure":"object"},eJ)),transactions:n.transactions},O(t,to));return tc.restore(s)}static restore(e){A(e,to);let t=new tc;return Object.assign(t,e),t}static getDigestFromBytes(e){let t=function(e,t){let r=Array.from(`${e}::`).map(e=>e.charCodeAt(0)),i=new Uint8Array(r.length+t.length);return i.set(r),i.set(t,r.length),(0,eZ.R)(i,{dkLen:32})}("TransactionData",e);return(0,eG.K)(t)}build({maxSizeBytes:e=1/0,overrides:t,onlyTransactionKind:r}={}){let i=this.inputs.map(e=>(A(e.value,e_),e.value)),n={ProgrammableTransaction:{inputs:i,transactions:this.transactions}};if(r)return X.$5.TransactionKind.serialize(n,{maxSize:e}).toBytes();let s=t?.expiration??this.expiration,a=t?.sender??this.sender,o={...this.gasConfig,...t?.gasConfig};if(!a)throw Error("Missing transaction sender");if(!o.budget)throw Error("Missing gas budget");if(!o.payment)throw Error("Missing gas payment");if(!o.price)throw Error("Missing gas price");let u={sender:tu(a),expiration:s||{None:!0},gasData:{payment:o.payment,owner:tu(this.gasConfig.owner??a),price:BigInt(o.price),budget:BigInt(o.budget)},kind:{ProgrammableTransaction:{inputs:i,transactions:this.transactions}}};return X.$5.TransactionData.serialize({V1:u},{maxSize:e}).toBytes()}getDigest(){let e=this.build({onlyTransactionKind:!1});return tc.getDigestFromBytes(e)}snapshot(){return O(this,to)}}var tl=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},td=(e,t,r)=>(tl(e,t,"read from private field"),r?r.call(e):t.get(e)),th=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},tp=(e,t,r,i)=>(tl(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),tf=(e,t,r)=>(tl(e,t,"access private method"),r);let tg={maxPureArgumentSize:16384,maxTxGas:5e10,maxGasObjects:256,maxTxSizeBytes:131072};function ty(e){if(!e.client)throw Error("No provider passed to Transaction#build, but transaction data was not sufficient to build offline.");return e.client}let tm=Symbol.for("@mysten/transaction"),tw={maxTxGas:"max_tx_gas",maxGasObjects:"max_gas_payment_objects",maxTxSizeBytes:"max_tx_size_bytes",maxPureArgumentSize:"max_pure_argument_size"},tb=(e,t)=>Array.from({length:Math.ceil(e.length/t)},(r,i)=>e.slice(i*t,i*t+t));function tv(e){return!!e&&"object"==typeof e&&!0===e[tm]}let tS=class{constructor(e){th(this,a),th(this,u),th(this,l),th(this,h),th(this,f),th(this,y),th(this,w),th(this,v),th(this,s,void 0),tp(this,s,new tc(e?e.blockData:void 0))}static fromKind(e){let t=new tS;return tp(t,s,tc.fromKindBytes("string"==typeof e?(0,T.F)(e):e)),t}static from(e){let t=new tS;return"string"==typeof e&&e.startsWith("{")?tp(t,s,tc.restore(JSON.parse(e))):tp(t,s,tc.fromBytes("string"==typeof e?(0,T.F)(e):e)),t}setSender(e){td(this,s).sender=e}setSenderIfNotSet(e){td(this,s).sender||(td(this,s).sender=e)}setExpiration(e){td(this,s).expiration=e}setGasPrice(e){td(this,s).gasConfig.price=String(e)}setGasBudget(e){td(this,s).gasConfig.budget=String(e)}setGasOwner(e){td(this,s).gasConfig.owner=e}setGasPayment(e){td(this,s).gasConfig.payment=e.map(e=>C(e,em))}get blockData(){return td(this,s).snapshot()}get[tm](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:function(e){function t(t,r){return e(t,r)}return t.u8=t=>e(X.$5.U8.serialize(t)),t.u16=t=>e(X.$5.U16.serialize(t)),t.u32=t=>e(X.$5.U32.serialize(t)),t.u64=t=>e(X.$5.U64.serialize(t)),t.u128=t=>e(X.$5.U128.serialize(t)),t.u256=t=>e(X.$5.U256.serialize(t)),t.bool=t=>e(X.$5.Bool.serialize(t)),t.string=t=>e(X.$5.String.serialize(t)),t.address=t=>e(X.$5.Address.serialize(t)),t.id=t.address,t}((e,t)=>(0,$.pF)(e)?tf(this,a,o).call(this,"pure",{Pure:Array.from(e.toBytes())}):tf(this,a,o).call(this,"pure",e instanceof Uint8Array?eN.Pure(e):t?eN.Pure(e,t):e))}),this.pure}get gas(){return{kind:"GasCoin"}}object(e){if("object"==typeof e&&"kind"in e)return e;let t=eR(e),r=td(this,s).inputs.find(e=>"object"===e.type&&t===eR(e.value));return r&&P(r.value,eU)&&"Shared"in r.value.Object&&P(e,eU)&&"Shared"in e.Object&&(r.value.Object.Shared.mutable=r.value.Object.Shared.mutable||e.Object.Shared.mutable),r??tf(this,a,o).call(this,"object","string"==typeof e?(0,eP.yT)(e):e)}objectRef(...e){return this.object(eN.ObjectRef(...e))}receivingRef(...e){return this.object(eN.ReceivingRef(...e))}sharedObjectRef(...e){return this.object(eN.SharedObjectRef(...e))}add(e){return function(e){let t=[],r=r=>t[r]??(t[r]={kind:"NestedResult",index:e,resultIndex:r});return new Proxy({kind:"Result",index:e},{set(){throw Error("The transaction result is a proxy, and does not support setting properties directly")},get(e,t){if(t in e)return Reflect.get(e,t);if(t===Symbol.iterator)return function*(){let e=0;for(;;)yield r(e),e++};if("symbol"==typeof t)return;let i=parseInt(t,10);if(!Number.isNaN(i)&&!(i<0))return r(i)}})}(td(this,s).transactions.push(e)-1)}splitCoins(e,t){return this.add(e9("string"==typeof e?this.object(e):e,t.map(e=>"number"==typeof e||"bigint"==typeof e||"string"==typeof e?this.pure.u64(e):tf(this,u,c).call(this,e))))}mergeCoins(e,t){return this.add(te("string"==typeof e?this.object(e):e,t.map(e=>"string"==typeof e?this.object(e):e)))}publish({modules:e,dependencies:t}){return this.add(tt({modules:e,dependencies:t}))}upgrade({modules:e,dependencies:t,packageId:r,ticket:i}){return this.add(tr({modules:e,dependencies:t,packageId:r,ticket:"string"==typeof i?this.object(i):i}))}moveCall({arguments:e,typeArguments:t,target:r}){return this.add(e4({arguments:e?.map(e=>tf(this,u,c).call(this,e)),typeArguments:t,target:r}))}transferObjects(e,t){return this.add(e7(e.map(e=>"string"==typeof e?this.object(e):e),"string"==typeof t?this.pure.address(t):tf(this,u,c).call(this,t)))}makeMoveVec({type:e,objects:t}){return this.add(ti({type:e,objects:t.map(e=>"string"==typeof e?this.object(e):e)}))}serialize(){return JSON.stringify(td(this,s).snapshot())}async sign(e){let{signer:t,...r}=e,i=await this.build(r);return t.signTransactionBlock(i)}async build(e={}){return await tf(this,v,S).call(this,e),td(this,s).build({maxSizeBytes:tf(this,l,d).call(this,"maxTxSizeBytes",e),onlyTransactionKind:e.onlyTransactionKind})}async getDigest(e={}){return await tf(this,v,S).call(this,e),td(this,s).getDigest()}},tT=tS;s=new WeakMap,a=new WeakSet,o=function(e,t){let r=td(this,s).inputs.length,i=O({kind:"Input",value:"bigint"==typeof t?String(t):t,index:r,type:e},eJ);return td(this,s).inputs.push(i),i},u=new WeakSet,c=function(e){return(0,$.pF)(e)?this.pure(e):e},l=new WeakSet,d=function(e,{protocolConfig:t,limits:r}){if(r&&"number"==typeof r[e])return r[e];if(!t)return tg[e];let i=t?.attributes[tw[e]];if(!i)throw Error(`Missing expected protocol config: "${tw[e]}"`);let n="u64"in i?i.u64:"u32"in i?i.u32:i.f64;if(!n)throw Error(`Unexpected protocol config value found for: "${tw[e]}"`);return Number(n)},h=new WeakSet,p=function(e){let t=tf(this,l,d).call(this,"maxPureArgumentSize",e);td(this,s).inputs.forEach((e,r)=>{if(P(e.value,eM)&&e.value.Pure.length>t)throw Error(`Input at index ${r} is too large, max pure input size is ${t} bytes, got ${e.value.Pure.length} bytes`)})},f=new WeakSet,g=async function(e){if(td(this,s).gasConfig.payment){let t=tf(this,l,d).call(this,"maxGasObjects",e);if(td(this,s).gasConfig.payment.length>t)throw Error(`Payment objects exceed maximum amount: ${t}`)}if(e.onlyTransactionKind||td(this,s).gasConfig.payment)return;let t=td(this,s).gasConfig.owner??td(this,s).sender,r=(await ty(e).getCoins({owner:t,coinType:eC.uq})).data.filter(e=>!td(this,s).inputs.find(t=>!!P(t.value,e_)&&"Object"in t.value&&"ImmOrOwned"in t.value.Object&&e.coinObjectId===t.value.Object.ImmOrOwned.objectId)).slice(0,tf(this,l,d).call(this,"maxGasObjects",e)-1).map(e=>({objectId:e.coinObjectId,digest:e.digest,version:e.version}));if(!r.length)throw Error("No valid gas coins found for the transaction.");this.setGasPayment(r)},y=new WeakSet,m=async function(e){e.onlyTransactionKind||td(this,s).gasConfig.price||this.setGasPrice(await ty(e).getReferenceGasPrice())},w=new WeakSet,b=async function(e){let{inputs:t,transactions:r}=td(this,s),i=[],n=[];if(t.forEach(e=>{if("object"===e.type&&"string"==typeof e.value){n.push({id:(0,eP.yT)(e.value),input:e});return}}),r.forEach(e=>{if("MoveCall"===e.kind&&e.arguments.some(e=>"Input"===e.kind&&!P(t[e.index].value,e_))&&i.push(e),"SplitCoins"===e.kind&&e.amounts.forEach(e=>{if("Input"===e.kind){let r=t[e.index];"object"!=typeof r.value&&(r.value=eN.Pure(X.$5.U64.serialize(r.value)))}}),"TransferObjects"===e.kind&&"Input"===e.address.kind){let r=t[e.address.index];"object"!=typeof r.value&&(r.value=eN.Pure(X.$5.Address.serialize(r.value)))}}),i.length&&await Promise.all(i.map(async r=>{let[i,s,a]=r.target.split("::"),o=await ty(e).getNormalizedMoveFunction({package:(0,eP.Fw)(i),module:s,function:a}),u=o.parameters.length>0&&function(e){let t=ef(e)?.Struct;return t?.address==="0x2"&&t?.module==="tx_context"&&t?.name==="TxContext"}(o.parameters.at(-1))?o.parameters.slice(0,o.parameters.length-1):o.parameters;if(u.length!==r.arguments.length)throw Error("Incorrect number of arguments.");u.forEach((e,i)=>{let s=r.arguments[i];if("Input"!==s.kind)return;let a=t[s.index];if(P(a.value,e_))return;let o=a.value,u=function e(t,r){if("string"==typeof t&&eK.includes(t)){if(t in["U8","U16","U32","U64","U128","U256"])eF("number",r);else if("Bool"===t)eF("boolean",r);else if("Address"===t&&(eF("string",r),r&&!(0,eP.oI)(r)))throw Error("Invalid Sui Address");return t.toLowerCase()}if("string"==typeof t)throw Error(`Unknown pure normalized type ${JSON.stringify(t,null,2)}`);if("Vector"in t){if((void 0===r||"string"==typeof r)&&"U8"===t.Vector)return"string";if(void 0!==r&&!Array.isArray(r))throw Error(`Expect ${r} to be a array, received ${typeof r}`);let i=e(t.Vector,r?r[0]:void 0);if(void 0===i)return;return`vector<${i}>`}if("Struct"in t){if(eW(t.Struct,eD))return"string";if(eW(t.Struct,eq))return"utf8string";if(eW(t.Struct,eV))return"address";if(eW(t.Struct,eL))return e({Vector:t.Struct.typeArguments[0]},r)}}(e,o);if(u){a.value=eN.Pure(o,u);return}if(null!=ef(e)||"object"==typeof e&&"TypeParameter"in e){if("string"!=typeof o)throw Error(`Expect the argument to be an object id string, got ${JSON.stringify(o,null,2)}`);n.push({id:o,input:a,normalizedType:e});return}throw Error(`Unknown call arg type ${JSON.stringify(e,null,2)} for value ${JSON.stringify(o,null,2)}`)})})),n.length){let t=[...new Set(n.map(({id:e})=>e))],r=tb(t,50),i=(await Promise.all(r.map(t=>ty(e).multiGetObjects({ids:t,options:{showOwner:!0}})))).flat(),s=new Map(t.map((e,t)=>[e,i[t]])),a=Array.from(s).filter(([e,t])=>t.error).map(([e,t])=>e);if(a.length)throw Error(`The following input objects are invalid: ${a.join(", ")}`);n.forEach(({id:e,input:t,normalizedType:r})=>{let i=s.get(e),n=i.data?.owner,a=n&&"object"==typeof n&&"Shared"in n?n.Shared.initial_shared_version:void 0;if(a){var o;let i=null!=r&&null==eh(r)&&null==ep(r),n=(o=t.value,(("object"==typeof o&&"Object"in o&&"Shared"in o.Object?o.Object.Shared:void 0)?.mutable??!1)||i||null!=r&&null!=eh(r));t.value=eN.SharedObjectRef({objectId:e,initialSharedVersion:a,mutable:n})}else r&&function(e){let t=ef(e);return!!t&&"0x2"===t.Struct.address&&"transfer"===t.Struct.module&&"Receiving"===t.Struct.name}(r)?t.value=eN.ReceivingRef(eO(i)):t.value=eN.ObjectRef(eO(i))})}},v=new WeakSet,S=async function(e){if(!e.onlyTransactionKind&&!td(this,s).sender)throw Error("Missing transaction sender");if(e.protocolConfig||e.limits||!e.client||(e.protocolConfig=await e.client.getProtocolConfig()),await Promise.all([tf(this,y,m).call(this,e),tf(this,w,b).call(this,e)]),!e.onlyTransactionKind&&(await tf(this,f,g).call(this,e),!td(this,s).gasConfig.budget)){let t=await ty(e).dryRunTransactionBlock({transactionBlock:td(this,s).build({maxSizeBytes:tf(this,l,d).call(this,"maxTxSizeBytes",e),overrides:{gasConfig:{budget:String(tf(this,l,d).call(this,"maxTxGas",e)),payment:[]}}})});if("success"!==t.effects.status.status)throw Error(`Dry run failed, could not automatically determine a budget: ${t.effects.status.error}`,{cause:t});let r=1000n*BigInt(this.blockData.gasConfig.price||1n),i=BigInt(t.effects.gasUsed.computationCost)+r,n=i+BigInt(t.effects.gasUsed.storageCost)-BigInt(t.effects.gasUsed.storageRebate);this.setGasBudget(n>i?n:i)}tf(this,h,p).call(this,e)}},11421:function(e,t,r){r.d(t,{H$:function(){return a},Nf:function(){return s},ht:function(){return n},uq:function(){return o}});var i=r(34499);BigInt(1e9);let n="0x1",s="0x2",a=(0,i.Fw)("0x6"),o=`${s}::sui::SUI`;(0,i.Fw)("0x5")},75403:function(e,t,r){r.d(t,{R:function(){return p}});var i=r(62633),n=r(38384);let s=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]);class a extends n.kb{constructor(e,t,r={},s,a,o){if(super(),this.blockLen=e,this.outputLen=t,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,(0,i.k8)(e),(0,i.k8)(t),(0,i.k8)(s),t<0||t>s)throw Error("outputLen bigger than keyLen");if(void 0!==r.key&&(r.key.length<1||r.key.length>s))throw Error("key length must be undefined or 1.."+s);if(void 0!==r.salt&&r.salt.length!==a)throw Error("salt must be undefined or "+a);if(void 0!==r.personalization&&r.personalization.length!==o)throw Error("personalization must be undefined or "+o);this.buffer=new Uint8Array(e),this.buffer32=(0,n.Jq)(this.buffer)}update(e){(0,i.$h)(this);let{blockLen:t,buffer:r,buffer32:s}=this,a=(e=(0,n.O0)(e)).length,o=e.byteOffset,u=e.buffer;for(let i=0;i<a;){this.pos===t&&(n.iA||(0,n.l1)(s),this.compress(s,0,!1),n.iA||(0,n.l1)(s),this.pos=0);let c=Math.min(t-this.pos,a-i),l=o+i;if(c===t&&!(l%4)&&i+c<a){let e=new Uint32Array(u,l,Math.floor((a-i)/4));n.iA||(0,n.l1)(e);for(let r=0;i+t<a;r+=s.length,i+=t)this.length+=t,this.compress(e,r,!1);n.iA||(0,n.l1)(e);continue}r.set(e.subarray(i,i+c),this.pos),this.pos+=c,this.length+=c,i+=c}return this}digestInto(e){(0,i.$h)(this),(0,i.eB)(e,this);let{pos:t,buffer32:r}=this;this.finished=!0,this.buffer.subarray(t).fill(0),n.iA||(0,n.l1)(r),this.compress(r,0,!0),n.iA||(0,n.l1)(r);let s=(0,n.Jq)(e);this.get().forEach((e,t)=>s[t]=(0,n.UM)(e))}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){let{buffer:t,length:r,finished:i,destroyed:n,outputLen:s,pos:a}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.length=r,e.finished=i,e.destroyed=n,e.outputLen=s,e.buffer.set(t),e.pos=a,e}}var o=r(99371);let u=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),c=new Uint32Array(32);function l(e,t,r,i,n,s){let a=n[s],u=n[s+1],l=c[2*e],d=c[2*e+1],h=c[2*t],p=c[2*t+1],f=c[2*r],g=c[2*r+1],y=c[2*i],m=c[2*i+1],w=o.ZP.add3L(l,h,a);d=o.ZP.add3H(w,d,p,u),l=0|w,({Dh:m,Dl:y}={Dh:m^d,Dl:y^l}),({Dh:m,Dl:y}={Dh:o.ZP.rotr32H(m,y),Dl:o.ZP.rotr32L(m,y)}),({h:g,l:f}=o.ZP.add(g,f,m,y)),({Bh:p,Bl:h}={Bh:p^g,Bl:h^f}),({Bh:p,Bl:h}={Bh:o.ZP.rotrSH(p,h,24),Bl:o.ZP.rotrSL(p,h,24)}),c[2*e]=l,c[2*e+1]=d,c[2*t]=h,c[2*t+1]=p,c[2*r]=f,c[2*r+1]=g,c[2*i]=y,c[2*i+1]=m}function d(e,t,r,i,n,s){let a=n[s],u=n[s+1],l=c[2*e],d=c[2*e+1],h=c[2*t],p=c[2*t+1],f=c[2*r],g=c[2*r+1],y=c[2*i],m=c[2*i+1],w=o.ZP.add3L(l,h,a);d=o.ZP.add3H(w,d,p,u),l=0|w,({Dh:m,Dl:y}={Dh:m^d,Dl:y^l}),({Dh:m,Dl:y}={Dh:o.ZP.rotrSH(m,y,16),Dl:o.ZP.rotrSL(m,y,16)}),({h:g,l:f}=o.ZP.add(g,f,m,y)),({Bh:p,Bl:h}={Bh:p^g,Bl:h^f}),({Bh:p,Bl:h}={Bh:o.ZP.rotrBH(p,h,63),Bl:o.ZP.rotrBL(p,h,63)}),c[2*e]=l,c[2*e+1]=d,c[2*t]=h,c[2*t+1]=p,c[2*r]=f,c[2*r+1]=g,c[2*i]=y,c[2*i+1]=m}class h extends a{constructor(e={}){super(128,void 0===e.dkLen?64:e.dkLen,e,64,16,16),this.v0l=0|u[0],this.v0h=0|u[1],this.v1l=0|u[2],this.v1h=0|u[3],this.v2l=0|u[4],this.v2h=0|u[5],this.v3l=0|u[6],this.v3h=0|u[7],this.v4l=0|u[8],this.v4h=0|u[9],this.v5l=0|u[10],this.v5h=0|u[11],this.v6l=0|u[12],this.v6h=0|u[13],this.v7l=0|u[14],this.v7h=0|u[15];let t=e.key?e.key.length:0;if(this.v0l^=this.outputLen|t<<8|16842752,e.salt){let t=(0,n.Jq)((0,n.O0)(e.salt));this.v4l^=(0,n.UM)(t[0]),this.v4h^=(0,n.UM)(t[1]),this.v5l^=(0,n.UM)(t[2]),this.v5h^=(0,n.UM)(t[3])}if(e.personalization){let t=(0,n.Jq)((0,n.O0)(e.personalization));this.v6l^=(0,n.UM)(t[0]),this.v6h^=(0,n.UM)(t[1]),this.v7l^=(0,n.UM)(t[2]),this.v7h^=(0,n.UM)(t[3])}if(e.key){let t=new Uint8Array(this.blockLen);t.set((0,n.O0)(e.key)),this.update(t)}}get(){let{v0l:e,v0h:t,v1l:r,v1h:i,v2l:n,v2h:s,v3l:a,v3h:o,v4l:u,v4h:c,v5l:l,v5h:d,v6l:h,v6h:p,v7l:f,v7h:g}=this;return[e,t,r,i,n,s,a,o,u,c,l,d,h,p,f,g]}set(e,t,r,i,n,s,a,o,u,c,l,d,h,p,f,g){this.v0l=0|e,this.v0h=0|t,this.v1l=0|r,this.v1h=0|i,this.v2l=0|n,this.v2h=0|s,this.v3l=0|a,this.v3h=0|o,this.v4l=0|u,this.v4h=0|c,this.v5l=0|l,this.v5h=0|d,this.v6l=0|h,this.v6h=0|p,this.v7l=0|f,this.v7h=0|g}compress(e,t,r){this.get().forEach((e,t)=>c[t]=e),c.set(u,16);let{h:i,l:n}=o.ZP.fromBig(BigInt(this.length));c[24]=u[8]^n,c[25]=u[9]^i,r&&(c[28]=~c[28],c[29]=~c[29]);let a=0;for(let r=0;r<12;r++)l(0,4,8,12,e,t+2*s[a++]),d(0,4,8,12,e,t+2*s[a++]),l(1,5,9,13,e,t+2*s[a++]),d(1,5,9,13,e,t+2*s[a++]),l(2,6,10,14,e,t+2*s[a++]),d(2,6,10,14,e,t+2*s[a++]),l(3,7,11,15,e,t+2*s[a++]),d(3,7,11,15,e,t+2*s[a++]),l(0,5,10,15,e,t+2*s[a++]),d(0,5,10,15,e,t+2*s[a++]),l(1,6,11,12,e,t+2*s[a++]),d(1,6,11,12,e,t+2*s[a++]),l(2,7,8,13,e,t+2*s[a++]),d(2,7,8,13,e,t+2*s[a++]),l(3,4,9,14,e,t+2*s[a++]),d(3,4,9,14,e,t+2*s[a++]);this.v0l^=c[0]^c[16],this.v0h^=c[1]^c[17],this.v1l^=c[2]^c[18],this.v1h^=c[3]^c[19],this.v2l^=c[4]^c[20],this.v2h^=c[5]^c[21],this.v3l^=c[6]^c[22],this.v3h^=c[7]^c[23],this.v4l^=c[8]^c[24],this.v4h^=c[9]^c[25],this.v5l^=c[10]^c[26],this.v5h^=c[11]^c[27],this.v6l^=c[12]^c[28],this.v6h^=c[13]^c[29],this.v7l^=c[14]^c[30],this.v7h^=c[15]^c[31],c.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let p=(0,n.K$)(e=>new h(e))},32552:function(e,t,r){r.d(t,{o:function(){return n}});var i=r(52571);class n extends i.py{}},34138:function(e,t,r){r.d(t,{$:function(){return et}});var i,n,s,a,o,u,c,l,d,h,p,f,g,y,m,w=r(52571),b=r(61530),v=r(13050),S=r(72092),T=r(26214),$=r(34267),k=r(21796),E=r(88343),x=r(68970),I=r(67986),j=r(34499);let B={"-32700":"ParseError","-32600":"InvalidRequest","-32601":"MethodNotFound","-32602":"InvalidParams","-32603":"InternalError"};class A extends Error{}class O extends A{constructor(e,t){super(e),this.code=t,this.type=B[t]??"ServerError"}}class C extends A{constructor(e,t,r){super(e),this.status=t,this.statusText=r}}var P=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},z=(e,t,r)=>(P(e,t,"read from private field"),r?r.call(e):t.get(e)),M=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},U=(e,t,r,i)=>(P(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),_=(e,t,r,i)=>({set _(value){U(e,t,value,r)},get _(){return z(e,t,i)}}),N=(e,t,r)=>(P(e,t,"access private method"),r);let R={WebSocketConstructor:"undefined"!=typeof WebSocket?WebSocket:void 0,callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5};class V{constructor(e,t={}){if(M(this,c),M(this,d),M(this,i,0),M(this,n,0),M(this,s,null),M(this,a,null),M(this,o,new Set),M(this,u,new Map),this.endpoint=e,this.options={...R,...t},!this.options.WebSocketConstructor)throw Error("Missing WebSocket constructor");this.endpoint.startsWith("http")&&(this.endpoint=function(e){let t=new URL(e);return t.protocol=t.protocol.replace("http","ws"),t.toString()}(this.endpoint))}async makeRequest(e,t){let r=await N(this,c,l).call(this);return new Promise((n,s)=>{U(this,i,z(this,i)+1),z(this,u).set(z(this,i),{resolve:n,reject:s,timeout:setTimeout(()=>{z(this,u).delete(z(this,i)),s(Error(`Request timeout: ${e}`))},this.options.callTimeout)}),r.send(JSON.stringify({jsonrpc:"2.0",id:z(this,i),method:e,params:t}))}).then(({error:e,result:t})=>{if(e)throw new O(e.message,e.code);return t})}async subscribe(e){let t=new D(e);return z(this,o).add(t),await t.subscribe(this),()=>t.unsubscribe(this)}}i=new WeakMap,n=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,u=new WeakMap,c=new WeakSet,l=function(){return z(this,a)||U(this,a,new Promise(e=>{z(this,s)?.close(),U(this,s,new this.options.WebSocketConstructor(this.endpoint)),z(this,s).addEventListener("open",()=>{U(this,n,0),e(z(this,s))}),z(this,s).addEventListener("close",()=>{_(this,n)._++,z(this,n)<=this.options.maxReconnects&&setTimeout(()=>{N(this,d,h).call(this)},this.options.reconnectTimeout)}),z(this,s).addEventListener("message",({data:e})=>{let t;try{t=JSON.parse(e)}catch(t){console.error(Error(`Failed to parse RPC message: ${e}`,{cause:t}));return}if("id"in t&&null!=t.id&&z(this,u).has(t.id)){let{resolve:e,timeout:r}=z(this,u).get(t.id);clearTimeout(r),e(t)}else if("params"in t){let{params:e}=t;z(this,o).forEach(t=>{t.subscriptionId===e.subscription&&e.subscription===t.subscriptionId&&t.onMessage(e.result)})}})})),z(this,a)},d=new WeakSet,h=async function(){return z(this,s)?.close(),U(this,a,null),Promise.allSettled([...z(this,o)].map(e=>e.subscribe(this)))};class D{constructor(e){this.subscriptionId=null,this.subscribed=!1,this.input=e}onMessage(e){this.subscribed&&this.input.onMessage(e)}async unsubscribe(e){let{subscriptionId:t}=this;return this.subscribed=!1,null!=t&&(this.subscriptionId=null,e.makeRequest(this.input.unsubscribe,[t]))}async subscribe(e){this.subscriptionId=null,this.subscribed=!0;let t=await e.makeRequest(this.input.method,this.input.params);this.subscribed&&(this.subscriptionId=t)}}var q=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},L=(e,t,r)=>(q(e,t,"read from private field"),r?r.call(e):t.get(e)),W=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},F=(e,t,r,i)=>(q(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),K=(e,t,r)=>(q(e,t,"access private method"),r);class G{constructor(e){W(this,y),W(this,p,0),W(this,f,void 0),W(this,g,void 0),F(this,f,e)}fetch(e,t){let r=L(this,f).fetch??globalThis.fetch;if(!this.fetch)throw Error("The current environment does not support fetch, you can provide a fetch implementation in the options for SuiHTTPTransport.");return r(e,t)}async request(e){F(this,p,L(this,p)+1);let t=await this.fetch(L(this,f).rpc?.url??L(this,f).url,{method:"POST",headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":"0.50.1","Client-Target-Api-Version":"1.19.0",...L(this,f).rpc?.headers},body:JSON.stringify({jsonrpc:"2.0",id:L(this,p),method:e.method,params:e.params})});if(!t.ok)throw new C(`Unexpected status code: ${t.status}`,t.status,t.statusText);let r=await t.json();if("error"in r&&null!=r.error)throw new O(r.error.message,r.error.code);return r.result}async subscribe(e){let t=await K(this,y,m).call(this).subscribe(e);return async()=>!!await t()}}p=new WeakMap,f=new WeakMap,g=new WeakMap,y=new WeakSet,m=function(){if(!L(this,g)){let e=L(this,f).WebSocketConstructor??globalThis.WebSocket;if(!e)throw Error("The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for SuiHTTPTransport.");F(this,g,new V(L(this,f).websocket?.url??L(this,f).url,{WebSocketConstructor:e,...L(this,f).websocket}))}return L(this,g)};let Z=Symbol.for("@mysten/SuiClient");class H{get[Z](){return!0}constructor(e){this.transport=e.transport??new G({url:e.url})}async getRpcApiVersion(){return(await this.transport.request({method:"rpc.discover",params:[]})).info.version}async getCoins(e){if(!e.owner||!(0,j.oI)((0,j.yT)(e.owner)))throw Error("Invalid Sui address");return await this.transport.request({method:"suix_getCoins",params:[e.owner,e.coinType,e.cursor,e.limit]})}async getAllCoins(e){if(!e.owner||!(0,j.oI)((0,j.yT)(e.owner)))throw Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllCoins",params:[e.owner,e.cursor,e.limit]})}async getBalance(e){if(!e.owner||!(0,j.oI)((0,j.yT)(e.owner)))throw Error("Invalid Sui address");return await this.transport.request({method:"suix_getBalance",params:[e.owner,e.coinType]})}async getAllBalances(e){if(!e.owner||!(0,j.oI)((0,j.yT)(e.owner)))throw Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllBalances",params:[e.owner]})}async getCoinMetadata(e){return await this.transport.request({method:"suix_getCoinMetadata",params:[e.coinType]})}async getTotalSupply(e){return await this.transport.request({method:"suix_getTotalSupply",params:[e.coinType]})}async call(e,t){return await this.transport.request({method:e,params:t})}async getMoveFunctionArgTypes(e){return await this.transport.request({method:"sui_getMoveFunctionArgTypes",params:[e.package,e.module,e.function]})}async getNormalizedMoveModulesByPackage(e){return await this.transport.request({method:"sui_getNormalizedMoveModulesByPackage",params:[e.package]})}async getNormalizedMoveModule(e){return await this.transport.request({method:"sui_getNormalizedMoveModule",params:[e.package,e.module]})}async getNormalizedMoveFunction(e){return await this.transport.request({method:"sui_getNormalizedMoveFunction",params:[e.package,e.module,e.function]})}async getNormalizedMoveStruct(e){return await this.transport.request({method:"sui_getNormalizedMoveStruct",params:[e.package,e.module,e.struct]})}async getOwnedObjects(e){if(!e.owner||!(0,j.oI)((0,j.yT)(e.owner)))throw Error("Invalid Sui address");return await this.transport.request({method:"suix_getOwnedObjects",params:[e.owner,{filter:e.filter,options:e.options},e.cursor,e.limit]})}async getObject(e){if(!e.id||!(0,j.uV)((0,j.Fw)(e.id)))throw Error("Invalid Sui Object id");return await this.transport.request({method:"sui_getObject",params:[e.id,e.options]})}async tryGetPastObject(e){return await this.transport.request({method:"sui_tryGetPastObject",params:[e.id,e.version,e.options]})}async multiGetObjects(e){if(e.ids.forEach(e=>{if(!e||!(0,j.uV)((0,j.Fw)(e)))throw Error(`Invalid Sui Object id ${e}`)}),e.ids.length!==new Set(e.ids).size)throw Error(`Duplicate object ids in batch call ${e.ids}`);return await this.transport.request({method:"sui_multiGetObjects",params:[e.ids,e.options]})}async queryTransactionBlocks(e){return await this.transport.request({method:"suix_queryTransactionBlocks",params:[{filter:e.filter,options:e.options},e.cursor,e.limit,"descending"===(e.order||"descending")]})}async getTransactionBlock(e){if(!(0,j.iI)(e.digest))throw Error("Invalid Transaction digest");return await this.transport.request({method:"sui_getTransactionBlock",params:[e.digest,e.options]})}async multiGetTransactionBlocks(e){if(e.digests.forEach(e=>{if(!(0,j.iI)(e))throw Error(`Invalid Transaction digest ${e}`)}),e.digests.length!==new Set(e.digests).size)throw Error(`Duplicate digests in batch call ${e.digests}`);return await this.transport.request({method:"sui_multiGetTransactionBlocks",params:[e.digests,e.options]})}async executeTransactionBlock(e){return await this.transport.request({method:"sui_executeTransactionBlock",params:["string"==typeof e.transactionBlock?e.transactionBlock:(0,k.z)(e.transactionBlock),Array.isArray(e.signature)?e.signature:[e.signature],e.options,e.requestType]})}async signAndExecuteTransactionBlock({transactionBlock:e,signer:t,...r}){let i;e instanceof Uint8Array?i=e:(e.setSenderIfNotSet(t.toSuiAddress()),i=await e.build({client:this}));let{signature:n,bytes:s}=await t.signTransactionBlock(i);return this.executeTransactionBlock({transactionBlock:s,signature:n,...r})}async getTotalTransactionBlocks(){return BigInt(await this.transport.request({method:"sui_getTotalTransactionBlocks",params:[]}))}async getReferenceGasPrice(){return BigInt(await this.transport.request({method:"suix_getReferenceGasPrice",params:[]}))}async getStakes(e){if(!e.owner||!(0,j.oI)((0,j.yT)(e.owner)))throw Error("Invalid Sui address");return await this.transport.request({method:"suix_getStakes",params:[e.owner]})}async getStakesByIds(e){return e.stakedSuiIds.forEach(e=>{if(!e||!(0,j.uV)((0,j.Fw)(e)))throw Error(`Invalid Sui Stake id ${e}`)}),await this.transport.request({method:"suix_getStakesByIds",params:[e.stakedSuiIds]})}async getLatestSuiSystemState(){return await this.transport.request({method:"suix_getLatestSuiSystemState",params:[]})}async queryEvents(e){return await this.transport.request({method:"suix_queryEvents",params:[e.query,e.cursor,e.limit,"descending"===(e.order||"descending")]})}async subscribeEvent(e){return this.transport.subscribe({method:"suix_subscribeEvent",unsubscribe:"suix_unsubscribeEvent",params:[e.filter],onMessage:e.onMessage})}async subscribeTransaction(e){return this.transport.subscribe({method:"suix_subscribeTransaction",unsubscribe:"suix_unsubscribeTransaction",params:[e.filter],onMessage:e.onMessage})}async devInspectTransactionBlock(e){let t;if((0,I.n)(e.transactionBlock))e.transactionBlock.setSenderIfNotSet(e.sender),t=(0,k.z)(await e.transactionBlock.build({client:this,onlyTransactionKind:!0}));else if("string"==typeof e.transactionBlock)t=e.transactionBlock;else if(e.transactionBlock instanceof Uint8Array)t=(0,k.z)(e.transactionBlock);else throw Error("Unknown transaction block format.");return await this.transport.request({method:"sui_devInspectTransactionBlock",params:[e.sender,t,e.gasPrice?.toString(),e.epoch]})}async dryRunTransactionBlock(e){return await this.transport.request({method:"sui_dryRunTransactionBlock",params:["string"==typeof e.transactionBlock?e.transactionBlock:(0,k.z)(e.transactionBlock)]})}async getDynamicFields(e){if(!e.parentId||!(0,j.uV)((0,j.Fw)(e.parentId)))throw Error("Invalid Sui Object id");return await this.transport.request({method:"suix_getDynamicFields",params:[e.parentId,e.cursor,e.limit]})}async getDynamicFieldObject(e){return await this.transport.request({method:"suix_getDynamicFieldObject",params:[e.parentId,e.name]})}async getLatestCheckpointSequenceNumber(){return String(await this.transport.request({method:"sui_getLatestCheckpointSequenceNumber",params:[]}))}async getCheckpoint(e){return await this.transport.request({method:"sui_getCheckpoint",params:[e.id]})}async getCheckpoints(e){return await this.transport.request({method:"sui_getCheckpoints",params:[e.cursor,e?.limit,e.descendingOrder]})}async getCommitteeInfo(e){return await this.transport.request({method:"suix_getCommitteeInfo",params:[e?.epoch]})}async getNetworkMetrics(){return await this.transport.request({method:"suix_getNetworkMetrics",params:[]})}async getAddressMetrics(){return await this.transport.request({method:"suix_getLatestAddressMetrics",params:[]})}async getEpochMetrics(e){return await this.transport.request({method:"suix_getEpochMetrics",params:[e?.cursor,e?.limit,e?.descendingOrder]})}async getAllEpochAddressMetrics(e){return await this.transport.request({method:"suix_getAllEpochAddressMetrics",params:[e?.descendingOrder]})}async getEpochs(e){return await this.transport.request({method:"suix_getEpochs",params:[e?.cursor,e?.limit,e?.descendingOrder]})}async getMoveCallMetrics(){return await this.transport.request({method:"suix_getMoveCallMetrics",params:[]})}async getCurrentEpoch(){return await this.transport.request({method:"suix_getCurrentEpoch",params:[]})}async getValidatorsApy(){return await this.transport.request({method:"suix_getValidatorsApy",params:[]})}async getChainIdentifier(){let e=await this.getCheckpoint({id:"0"}),t=(0,E.n)(e.digest);return(0,x.d)(t.slice(0,4))}async resolveNameServiceAddress(e){return await this.transport.request({method:"suix_resolveNameServiceAddress",params:[e.name]})}async resolveNameServiceNames(e){return await this.transport.request({method:"suix_resolveNameServiceNames",params:[e.address,e.cursor,e.limit]})}async getProtocolConfig(e){return await this.transport.request({method:"sui_getProtocolConfig",params:[e?.version]})}async waitForTransactionBlock({signal:e,timeout:t=6e4,pollInterval:r=2e3,...i}){let n=AbortSignal.timeout(t),s=new Promise((e,t)=>{n.addEventListener("abort",()=>t(n.reason))});for(s.catch(()=>{});!n.aborted;){e?.throwIfAborted();try{return await this.getTransactionBlock(i)}catch(e){await Promise.race([new Promise(e=>setTimeout(e,r)),s])}}throw n.throwIfAborted(),Error("Unexpected error while waiting for transaction block.")}}var J=r(84537),Y=r(32552),X=r(51327),Q=r(74533),ee=r(36963);class et extends w.X2{static _platform=Q.c0;constructor(e,t){super(e,t??(0,b.X5)(e,et._platform))}getRpc(e){if(e in this.config)return new H({url:this.config[e].rpc});throw Error("No configuration available for chain: "+e)}getChain(e){if(e in this.config)return new Y.o(e,this);throw Error("No configuration available for chain: "+e)}static nativeTokenId(e,t){if(!et.isSupportedChain(t))throw Error(`invalid chain for ${Q.c0}: ${t}`);return v.D.tokenId(t,X.Z)}static isNativeTokenId(e,t,r){return!!et.isSupportedChain(t)&&r.chain===t&&this.nativeTokenId(e,t)===r}static isSupportedChain(e){return(0,S.fm)(e)===et._platform}static async getDecimals(e,t,r){if((0,w.tY)(r))return T.K(et._platform);let i=new J.Ne(r);try{let e=await (0,ee.dC)(t,i.toString());if(e&&"decimals"in e)return e.decimals}catch{}let n=await t.getCoinMetadata({coinType:i.toString()});if(null===n)throw Error(`Can't fetch decimals for token ${i.toString()}`);return n.decimals}static async getCoins(e,t,r){let i=[],n=null,s=new J.Ne(t).toString();do{let t=await e.getCoins({owner:s,coinType:r,cursor:n});i=[...i,...t.data],n=t.hasNextPage?t.nextCursor:null}while(n);return i}static async getBalance(e,t,r,i){if((0,w.tY)(i)){let{totalBalance:e}=await t.getBalance({owner:r});return BigInt(e)}let{totalBalance:n}=await t.getBalance({owner:r,coinType:i.toString()});return BigInt(n)}static async getBalances(e,t,r,i){return(await Promise.all(i.map(async i=>{let n=await this.getBalance(e,t,r,i);return{[(0,w.tY)(i)?"native":new J.Ne(i).toString()]:n}}))).reduce((e,t)=>Object.assign(e,t),{})}static async sendWait(e,t,r){let i=[];for(let e of r){let r=await t.executeTransactionBlock(e);await t.waitForTransactionBlock({digest:r.digest}),i.push(r.digest)}return i}static async getLatestBlock(e){return Number(await e.getLatestCheckpointSequenceNumber())}static async getLatestFinalizedBlock(e){return this.getLatestBlock(e)}static chainFromChainId(e){let t=$.I(et._platform,e);if(void 0===t)throw Error(`Unknown native chain id ${e}`);let[r,i]=t;return[r,i]}static async chainFromRpc(e){let t=await e.call("sui_getChainIdentifier",[]);return this.chainFromChainId(t)}}},74533:function(e,t,r){r.d(t,{D7:function(){return d},ER:function(){return u},FH:function(){return o},Wm:function(){return s},Y4:function(){return a},YV:function(){return c},c0:function(){return n},lP:function(){return l}});var i=r(84537);let n="Sui",s=e=>{let t=e.data?.content;return t&&"moveObject"===t.dataType?t.fields:null},a=(e,t)=>{try{return(0,i.t6)(e)===(0,i.t6)(t)}catch{return!1}},o=e=>e?.type==="created",u=e=>e?.type==="published";function c(e){return!Array.isArray(e)&&"object"==typeof e&&"fields"in e&&"type"in e}function l(e){return"object"==typeof e&&!Array.isArray(e)&&!c(e)}function d(e){return"object"==typeof e&&"id"in e}},36963:function(e,t,r){r.d(t,{$6:function(){return h},bH:function(){return p},dC:function(){return d},jd:function(){return c},uH:function(){return f},wI:function(){return l}});var i=r(58078),n=r(67986),s=r(34499),a=r(49332),o=r(74533),u=r(84537);let c=e=>i.$5.ser("vector<u8>",e,{maxSize:16384}).toBytes(),l=async(e,t)=>{let{data:r,error:i}=await e.getObject({id:t,options:{showContent:!0}});if(i)throw Error("Error getting object: "+i);if(!r||!(0,o.YV)(r.content))throw Error(`Cannot get oject for state id ${t}: `+r);return(0,u.VC)(r.content.type)},d=async(e,t)=>{if(!(0,s.oI)(t))throw Error(`Invalid object ID: ${t}`);let r=await e.getObject({id:t,options:{showContent:!0}});return(0,o.Wm)(r)},h=async(e,t)=>{let r,i;do{let n=await e.getDynamicFields({parentId:t,cursor:i});r=n.data.find(e=>e.name.type.endsWith("CurrentPackage")),i=n.hasNextPage?n.nextCursor:null}while(i&&!r);if(!r)throw Error("CurrentPackage not found");let n=await e.getObject({id:r.objectId,options:{showContent:!0}}),s=(0,o.Wm)(n);if(!s||!(0,o.lP)(s))throw Error("Unable to get fields from object response");if(!("value"in s)||!(0,o.YV)(s.value))throw Error("Unable to get package id");return s.value.fields.package},p=async(e,t,r)=>{let i,n=null,s=null,a=null;do{if(!(a=await e.getOwnedObjects({owner:r,filter:{StructType:`${t}::emitter::EmitterCap`},options:{showContent:!0},cursor:i}))||!a.data)throw Error("Failed to get owned objects");for(let e of a.data){if(!e.data)continue;let{version:t,objectId:r}=e.data;(null===n||t<n)&&(n=t,s=r)}i=a.hasNextPage?a.nextCursor:void 0}while(i);return s},f=async(e,t)=>{let r=new n.a,[i]=r.publish({modules:e.modules.map(e=>Array.from(a.cn.decode(e))),dependencies:e.dependencies.map(e=>(0,s.Fw)(e))});return r.transferObjects([i],r.pure(t)),r}},11775:function(e,t,r){r.r(t),r.d(t,{default:function(){return Z}});var i,n,s,a=r(61530),o=r(84537),u=r(34138),c=r(76326),l=r(21796),d=r(76577),h=r(75403),p=r(141),f=((i=f||{})[i.Sui=0]="Sui",i),g=((n=g||{})[n.V0=0]="V0",n),y=((s=y||{})[s.TransactionData=0]="TransactionData",s[s.TransactionEffects=1]="TransactionEffects",s[s.CheckpointSummary=2]="CheckpointSummary",s[s.PersonalMessage=3]="PersonalMessage",s);function m(e,t){let r=[e,0,0],i=new Uint8Array(r.length+t.length);return i.set(r),i.set(t,r.length),i}let w={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5},b={ED25519:32,Secp256k1:33,Secp256r1:33},v={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin"};var S=r(58078),T=r(38384),$=r(34499);let k=d.$.struct("ZkLoginSignature",{inputs:d.$.struct("ZkLoginSignatureInputs",{proofPoints:d.$.struct("ZkLoginSignatureInputsProofPoints",{a:d.$.vector(d.$.string()),b:d.$.vector(d.$.vector(d.$.string())),c:d.$.vector(d.$.string())}),issBase64Details:d.$.struct("ZkLoginSignatureInputsClaim",{value:d.$.string(),indexMod4:d.$.u8()}),headerBase64:d.$.string(),addressSeed:d.$.string()}),maxEpoch:d.$.u64(),userSignature:d.$.vector(d.$.u8())});class E{async signWithIntent(e,t){let r=m(t,e),i=(0,h.R)(r,{dkLen:32});return{signature:function({signature:e,signatureScheme:t,publicKey:r}){if(!r)throw Error("`publicKey` is required");let i=r.toRawBytes(),n=new Uint8Array(1+e.length+i.length);return n.set([w[t]]),n.set(e,1),n.set(i,1+e.length),(0,l.z)(n)}({signature:await this.sign(i),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:(0,l.z)(e)}}async signTransactionBlock(e){return this.signWithIntent(e,y.TransactionData)}async signPersonalMessage(e){return this.signWithIntent(d.$.vector(d.$.u8()).serialize(e).toBytes(),y.PersonalMessage)}toSuiAddress(){return this.getPublicKey().toSuiAddress()}}class x extends E{export(){return{schema:this.getKeyScheme(),privateKey:this.getSecretKey()}}}var I=r(68970),j=r(50720);function B(e){return!!RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(e)}var A=r(71179),O=r(67460);let C=2147483648,P=RegExp("^m(\\/[0-9]+')+$"),z=e=>e.replace("'",""),M=e=>{let t=A.b.create(O.o,"ed25519 seed").update((0,I.H)(e)).digest();return{key:t.slice(0,32),chainCode:t.slice(32)}},U=({key:e,chainCode:t},r)=>{let i=new ArrayBuffer(4);new DataView(i).setUint32(0,r);let n=new Uint8Array(1+e.length+i.byteLength);n.set(new Uint8Array(1).fill(0)),n.set(e,1),n.set(new Uint8Array(i,0,i.byteLength),e.length+1);let s=A.b.create(O.o,t).update(n).digest();return{key:s.slice(0,32),chainCode:s.slice(32)}},_=e=>!!P.test(e)&&!e.split("/").slice(1).map(z).some(isNaN),N=(e,t,r=C)=>{if(!_(e))throw Error("Invalid derivation path");let{key:i,chainCode:n}=M(t);return e.split("/").slice(1).map(z).map(e=>parseInt(e,10)).reduce((e,t)=>U(e,t+r),{key:i,chainCode:n})};function R(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}class V{equals(e){return R(this.toRawBytes(),e.toRawBytes())}toBase64(){return(0,l.z)(this.toRawBytes())}toString(){throw Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){let e=this.toSuiBytes();return(0,l.z)(e)}verifyWithIntent(e,t,r){let i=m(r,e),n=(0,h.R)(i,{dkLen:32});return this.verify(n,t)}verifyPersonalMessage(e,t){return this.verifyWithIntent(S.$5.vector(S.$5.u8()).serialize(e).toBytes(),t,y.PersonalMessage)}verifyTransactionBlock(e,t){return this.verifyWithIntent(e,t,y.TransactionData)}toSuiBytes(){let e=this.toRawBytes(),t=new Uint8Array(e.length+1);return t.set([this.flag()]),t.set(e,1),t}toSuiAddress(){return(0,$.yT)((0,T.ci)((0,h.R)(this.toSuiBytes(),{dkLen:32})).slice(0,2*$.kT))}}class D extends V{constructor(e){if(super(),"string"==typeof e?this.data=(0,l.F)(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),32!==this.data.length)throw Error(`Invalid public key input. Expected 32 bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return w.ED25519}async verify(e,t){let r;if("string"==typeof t){let e=function(e){let t=(0,l.F)(e),r=v[t[0]];switch(r){case"MultiSig":return{serializedSignature:e,signatureScheme:r,multisig:S.$5.MultiSig.parse(t.slice(1)),bytes:t};case"ZkLogin":var i;let{inputs:n,maxEpoch:s,userSignature:a}=(i=t.slice(1),k.parse("string"==typeof i?(0,l.F)(i):i)),{issBase64Details:o,addressSeed:u}=n,c=function(e,t){let[r,i]=function(e){if(!("}"===e.slice(-1)||","===e.slice(-1)))throw Error("Invalid claim");let t=JSON.parse("{"+e.slice(0,-1)+"}");if(1!==Object.keys(t).length)throw Error("Invalid claim");let r=Object.keys(t)[0];return[r,t[r]]}(function(e,t){if(e.length<2)throw Error(`Input (s = ${e}) is not tightly packed because s.length < 2`);let r=function(e){let t=[];for(let r=0;r<e.length;r++){let i=function(e){if(1!==e.length)throw Error("Invalid base64Url character: "+e);let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(e);if(-1===t)throw Error("Invalid base64Url character: "+e);return Array.from(t.toString(2).padStart(6,"0")).map(Number)}(e.charAt(r));t=t.concat(i)}return t}(e),i=t%4;if(0===i);else if(1===i)r=r.slice(2);else if(2===i)r=r.slice(4);else throw Error(`Input (s = ${e}) is not tightly packed because i%4 = 3 (i = ${t}))`);let n=(t+e.length-1)%4;if(3===n);else if(2===n)r=r.slice(0,r.length-2);else if(1===n)r=r.slice(0,r.length-4);else throw Error(`Input (s = ${e}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${t}))`);if(r.length%8!=0)throw Error("We should never reach here...");let s=new Uint8Array(Math.floor(r.length/8)),a=0;for(let e=0;e<r.length;e+=8){let t=parseInt(r.slice(e,e+8).join(""),2);s[a++]=t}return new TextDecoder().decode(s)}(e.value,e.indexMod4));if("iss"!==r)throw Error(`Invalid field name: found ${r} expected iss`);return i}(o,0),d=function(e,t){let r=function(e,t){let r=function(e,t){let r=e.toString(16);return(0,T.nr)(r.padStart(64,"0").slice(-64))}(e,32),i=function(e){for(let t=0;t<e.length;t++)if(0!==e[t])return t;return -1}(r);return -1===i?new Uint8Array([0]):r.slice(i)}(e,0);"accounts.google.com"===t&&(t="https://accounts.google.com");let i=new TextEncoder().encode(t),n=new Uint8Array(2+r.length+i.length);return n.set([w.ZkLogin]),n.set([i.length],1),n.set(i,2),n.set(r,2+i.length),(0,$.yT)((0,T.ci)((0,h.R)(n,{dkLen:32})).slice(0,2*$.kT))}(BigInt(u),c);return{serializedSignature:e,signatureScheme:r,zkLogin:{inputs:n,maxEpoch:s,userSignature:a,iss:c,address:d,addressSeed:BigInt(u)},signature:t};case"ED25519":case"Secp256k1":case"Secp256r1":let p=b[r],f=t.slice(1,t.length-p),g=t.slice(1+f.length);return{serializedSignature:e,signatureScheme:r,signature:f,publicKey:g,bytes:t};default:throw Error("Unsupported signature scheme")}}(t);if("ED25519"!==e.signatureScheme)throw Error("Invalid signature scheme");if(!R(this.toRawBytes(),e.publicKey))throw Error("Signature does not match public key");r=e.signature}else r=t;return c.sign.detached.verify(e,r,this.toRawBytes())}}D.SIZE=32;let q="m/44'/784'/0'/0'/0'";class L extends x{constructor(e){super(),e?this.keypair=e:this.keypair=c.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new L(c.sign.keyPair())}static fromSecretKey(e,t){let r=e.length;if(32!==r)throw Error(`Wrong secretKey size. Expected 32 bytes, got ${r}.`);let i=c.sign.keyPair.fromSeed(e);if(!t||!t.skipValidation){let e=new TextEncoder().encode("sui validation"),t=c.sign.detached(e,i.secretKey);if(!c.sign.detached.verify(e,t,i.publicKey))throw Error("provided secretKey is invalid")}return new L(i)}getPublicKey(){return new D(this.keypair.publicKey)}getSecretKey(){return function(e,t){if(32!==e.length)throw Error("Invalid bytes length");let r=w[t],i=new Uint8Array(e.length+1);return i.set([r]),i.set(e,1),p.gW.encode("suiprivkey",p.gW.toWords(i))}(this.keypair.secretKey.slice(0,32),this.getKeyScheme())}async sign(e){return this.signData(e)}signData(e){return c.sign.detached(e,this.keypair.secretKey)}static deriveKeypair(e,t){if(null==t&&(t=q),!B(t))throw Error("Invalid derivation path");let{key:r}=N(t,(0,I.d)((0,j.Z1)(e,"")));return L.fromSecretKey(r)}static deriveKeypairFromSeed(e,t){if(null==t&&(t=q),!B(t))throw Error("Invalid derivation path");let{key:r}=N(t,e);return L.fromSecretKey(r)}}async function W(e,t){let[,r]=await u.$.chainFromRpc(e);return new F(r,e,L.deriveKeypair(t,"m/44'/784'/0'/0'/0'"))}class F{_chain;_client;_signer;_debug;constructor(e,t,r,i){this._chain=e,this._client=t,this._signer=r,this._debug=i}chain(){return this._chain}address(){return this._signer.toSuiAddress()}async signAndSend(e){let t=[];for(let r of e){let{description:e,transaction:i}=r;this._debug&&console.log(`Signing ${e} for ${this.address()}`);try{let e=await this._client.signAndExecuteTransactionBlock({transactionBlock:i,signer:this._signer});t.push(e.digest)}catch(e){throw e}}return t}}var K=r(32552),G=r(74533),Z={Address:o.Ne,Platform:u.$,getSigner:W,protocols:{WormholeCore:()=>r.e(686).then(r.bind(r,5686)),TokenBridge:()=>r.e(175).then(r.bind(r,53175)),CircleBridge:()=>r.e(736).then(r.bind(r,23736))},getChain:(e,t,r)=>new K.o(t,new u.$(e,(0,a.C_)(e,G.c0,{[t]:r})))}}}]);