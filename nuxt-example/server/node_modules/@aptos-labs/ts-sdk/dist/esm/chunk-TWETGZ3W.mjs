import{e as u}from"./chunk-TH5JCPN2.mjs";import{a as f}from"./chunk-BY3XFRUM.mjs";async function p(s,R){let{url:t,method:n,body:i,contentType:a,params:o,overrides:e,originMethod:r}=s,d={...e?.HEADERS,"x-aptos-client":`aptos-typescript-sdk/${f}`,"content-type":a??"application/json","x-aptos-typescript-sdk-origin-method":r};return e?.AUTH_TOKEN&&(d.Authorization=`Bearer ${e?.AUTH_TOKEN}`),e?.API_KEY&&(d.Authorization=`Bearer ${e?.API_KEY}`),R.provider({url:t,method:n,body:i,params:o,headers:d,overrides:e})}async function A(s,R){if(R.binaryProvider===void 0)throw new Error("Binary provider is not provided");let{url:t,method:n,body:i,contentType:a,acceptType:o,params:e,overrides:r,originMethod:d}=s,c={...r?.HEADERS,"x-aptos-client":`aptos-typescript-sdk/${f}`,"content-type":a??"application/json",accept:o??"application/x-bcs","x-aptos-typescript-sdk-origin-method":d};return r?.AUTH_TOKEN&&(c.Authorization=`Bearer ${r?.AUTH_TOKEN}`),r?.API_KEY&&(c.Authorization=`Bearer ${r?.API_KEY}`),R.binaryProvider({acceptType:"application/x-bcs",url:t,method:n,body:i,params:e,headers:c,overrides:r})}async function B(s,R,t){let{url:n,path:i}=s,a=i?`${n}/${i}`:n,o=await p({...s,url:a},R.client),e={status:o.status,statusText:o.statusText??"No status text provided",data:o.data,headers:o.headers,config:o.config,request:o.request,url:a};if(e.status===401)throw new u({apiType:t,aptosRequest:s,aptosResponse:e});if(t==="Indexer"){let r=e.data;if(r.errors)throw new u({apiType:t,aptosRequest:s,aptosResponse:e});e.data=r.data}else if((t==="Pepper"||t==="Prover")&&e.status>=400)throw new u({apiType:t,aptosRequest:s,aptosResponse:e});if(e.status>=200&&e.status<300)return e;throw new u({apiType:t,aptosRequest:s,aptosResponse:e})}async function b(s,R,t){let{url:n,path:i}=s,a=i?`${n}/${i}`:n,o=await A({...s,url:a},R.client),e={status:o.status,statusText:o.statusText??"No status text provided",data:o.data,headers:o.headers,config:o.config,request:o.request,url:a};if(e.status===401)throw new u({apiType:t,aptosRequest:s,aptosResponse:e});if(t==="Indexer"){let r=e.data;if(r.errors)throw new u({apiType:t,aptosRequest:s,aptosResponse:e});e.data=r.data}else if((t==="Pepper"||t==="Prover")&&e.status>=400)throw new u({apiType:t,aptosRequest:s,aptosResponse:e});if(e.status>=200&&e.status<300)return e;throw new u({apiType:t,aptosRequest:s,aptosResponse:e})}export{p as a,A as b,B as c,b as d};
//# sourceMappingURL=chunk-TWETGZ3W.mjs.map